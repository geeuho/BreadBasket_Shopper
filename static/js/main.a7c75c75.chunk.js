(this.webpackJsonpbread_basket_shopper=this.webpackJsonpbread_basket_shopper||[]).push([[0],{134:function(e,t,a){e.exports=a(283)},283:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(27),c=a.n(o),s=(a(88),a(4)),i=a(3),l=a(6),u=a(5),p=a(15),m=a(2),d=a(16),h=a(125),b=a(7),v=a.n(b),E=a(10),f=a(38),y=a.n(f),g=localStorage.getItem("shopper_token"),O=(localStorage.getItem("cart_token"),{"Content-Type":"application/json",Accepts:"application/json","Access-Control-Allow-Origin":"*",Authorization:g}),_=y.a.create({baseURL:"https://bread-basket-backend.herokuapp.com",headers:O}),j=[[{title:"Meat/Seafood",name:"meats"},{title:"Produce",name:"produce"},{title:"Dairy",name:"dairy"},{title:"Bakery",name:"bakery"},{title:"Snacks",name:"snacks"},{title:"Beverages",name:"beverages"},{title:"Frozen",name:"frozen"},{title:"Household",name:"household"}],[{title:"Paper & Plastic",name:"papernplastic"},{title:"Produce",name:"produce"},{title:"Bakery",name:"bakery"},{title:"Meats",name:"meats"},{title:"Seafood",name:"seafood"},{title:"Dairy & Eggs",name:"dairyneggs"},{title:"Pantry & Dry",name:"pantryndry"},{title:"Snacks",name:"snacks"}],[{title:"Beauty",name:"beauty"},{title:"Household",name:"household"},{title:"Grocery",name:"grocery"},{title:"Medicine",name:"medicine"},{title:"School & Office",name:"schoolnoffice"},{title:"Diet",name:"diet"},{title:"Personal Care",name:"personalcare"}],[{title:"Bakery",name:"bakery"},{title:"Beverages",name:"beverages"},{title:"Dairy",name:"dairy"},{title:"Deli",name:"deli"},{title:"Frozen",name:"frozen"},{title:"Household",name:"household"},{title:"Meat/Seafood",name:"meatnseafood"},{title:"Snacks",name:"snacks"}],[{title:"Beverages",name:"beverages"},{title:"Breakfast",name:"breakfast"},{title:"Canned Goods",name:"cannedgoods"},{title:"Dairy & Eggs",name:"dairyneggs"},{title:"Frozen",name:"frozen"},{title:"Household",name:"household"},{title:"Meat/Seafood",name:"meatnseafood"},{title:"Produce",name:"produce"},{title:"Snacks",name:"snacks"}]],S=function(e){return{type:"SELECT_STORE",payload:e}},I=function(e){return{type:"GET_CATEGORIES",payload:j[e]}},k=function(){return{type:"CLEAR_ITEM"}},w=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/items/".concat(e));case 2:r=t.sent,console.log(r.data,"items"),a({type:"GET_ITEM",payload:r.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/items?store_id=".concat(e));case 2:r=t.sent,console.log(r.data,"items"),a({type:"GET_ITEMS",payload:r.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/cart_items?cart_id=".concat(e));case 2:r=t.sent,n=r.data,console.log(n.data),a({type:"GET_CART",payload:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/carts",{cart:e});case 2:r=t.sent,n=r.data,console.log(n.cart.data.attributes,"cart"),localStorage.setItem("cart_token",n.jwt),a({type:"START_CART",payload:n.cart});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.delete("/carts/".concat(e));case 2:t.sent,a({type:"DROP_CART"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return function(){var a=Object(E.a)(v.a.mark((function a(r){var n,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.delete("/cart_items/".concat(e));case 2:n=a.sent,o=n.data,console.log(o),r({type:"DROP_CART_ITEM",payload:{cart_item_id:e,item_id:t}});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/orders?shopper_id=".concat(e,"&status=active"));case 2:r=t.sent,n=r.data.data,a({type:"GET_ACTIVE_ORDERS",payload:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(){return{type:"CHECKOUT_ORDER"}},M=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.delete("/orders/".concat(e));case 2:r=t.sent,console.log(r.data),a({type:"CANCEL_ORDER",payload:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(){return localStorage.removeItem("shopper_token"),{type:"SIGN_OUT"}},L=function(e){return{type:"STORE_COORDS",payload:e}},B=function(){return{type:"CLEAR_MODAL"}},F=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/addresses",{address:e});case 2:r=t.sent,n=r.data,console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/phones",{phone:e});case 2:r=t.sent,r.data;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).authChange=function(t){if(t){var a=e.auth.currentUser.get().getBasicProfile();console.log(a);var r={email:a.getEmail(),first_name:a.getGivenName(),last_name:a.getFamilyName(),image:a.getImageUrl()};e.props.signIn(r)}else e.props.signOut()},e.signIn=function(){e.auth&&e.auth.signIn()},e.signOut=function(){e.auth&&(e.auth.signOut(),e.props.dropCart(e.props.cartId),e.props.checkoutOrder())},e.renderAuthButton=function(){return null===e.props.signedIn?n.a.createElement("div",null,"I don't know"):!0===e.props.signedIn?n.a.createElement(d.b,{class:"btn btn-primary",to:"/",onClick:e.signOut},n.a.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",class:"bi bi-person-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{"fill-rule":"evenodd",d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})),"Sign Out"):n.a.createElement(d.b,{class:"btn btn-primary",to:"/orderpage",onClick:e.signIn},n.a.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",class:"bi bi-person-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{"fill-rule":"evenodd",d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})),"Sign In")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"30752304516-o6laupndg02km70f10st00em8lujsc28.apps.googleusercontent.com",scope:"profile"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.authChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.authChange)}))}))}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return n.a.createElement("div",null,this.renderAuthButton())}}]),a}(n.a.Component),G=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,signedIn:e.auth.signedIn,shopperInfo:e.auth.currentShopper.shopper_info,cartId:e.cart.cart_id}}),{signIn:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/login",{shopper:e});case 2:r=t.sent,n=r.data,localStorage.setItem("shopper_token",n.jwt),console.log(n.shopper),a({type:"SIGN_IN",payload:n.shopper.data.attributes});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},signOut:P,dropCart:D,checkoutOrder:R})(U),H=a(17),q=a.n(H),Y=a(83),W=a.n(Y),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderUser=function(){if(e.props.signedIn)return n.a.createElement("div",null,n.a.createElement("a",{class:"nav-link"},n.a.createElement(d.b,{to:"/profile"},n.a.createElement("img",{class:"google-pic",alt:"alt img",src:e.props.userAuthPic}))))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.activeOrders.length!=this.props.activeOrders.length&&this.props.getActiveOrders(this.props.shopperId)}},{key:"render",value:function(){var e;return e=Object(H.isEmpty)(this.props.cartItems)||!this.props.cartItems?0:Object.keys(this.props.cartItems).length,n.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-expand-med navbar-expand-sm nav-bg"},n.a.createElement("div",{class:"collapse navbar-collapse ",id:"navbarNav"},n.a.createElement(d.b,{class:"header-logo",to:"/"},n.a.createElement("img",{class:"header-icon",src:"/bread_basket_icon.jpg"})),this.props.signedIn?n.a.createElement("ul",{class:"navbar-nav"},n.a.createElement("li",{class:"nav-item nav-list active"},n.a.createElement("a",{href:"/orderpage",class:"menu-button"},"Order")),Object(H.isEmpty)(this.props.activeOrders)?null:n.a.createElement("li",{class:"nav-item nav-list"},n.a.createElement("a",{href:"/active_orders",class:"menu-button"},"Active Orders")),n.a.createElement("li",{class:"nav-item nav-list"},n.a.createElement("a",{href:"/order_history",class:"menu-button"},"Order History")),n.a.createElement("li",{class:"nav-item nav-list"},n.a.createElement("a",{href:"/about",class:"menu-button"},"About"))):n.a.createElement("ul",{class:"navbar-nav"},n.a.createElement("li",{class:"nav-item nav-list"},n.a.createElement("a",{href:"/about",class:"menu-button"},"About")))),this.props.signedIn?n.a.createElement("ul",{class:"navbar-nav nav-right-btn"},n.a.createElement("li",{class:"nav-item"},n.a.createElement("button",{class:"btn btn-warning",type:"button"},n.a.createElement(W.a,{style:{left:"90%",bottom:"0px",top:"none",right:"none"},count:e,effect:Y.Effect.SCALE}),n.a.createElement(d.b,{class:"text-reset",to:"/cart"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"currentColor"},n.a.createElement("path",{d:"M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm1.336-5l1.977-7h-16.813l2.938 7h11.898zm4.969-10l-3.432 12h-12.597l.839 2h13.239l3.474-12h1.929l.743-2h-4.195z"})))))):n.a.createElement("div",null),n.a.createElement(G,{history:this.props.history}),n.a.createElement("ul",{class:"navbar-nav nav-right-btn"},n.a.createElement("li",{class:"nav-item"},this.renderUser())))}}]),a}(r.Component),V=Object(m.b)((function(e){return{activeOrders:e.order.active_orders,shopperId:e.auth.currentShopper.id,signedIn:e.auth.signedIn,userAuthPic:e.auth.currentShopper.image,cartItems:e.cart.cart_items}}),{getActiveOrders:N})($),K=a(42),Z=function(e){var t=Object(r.useState)(n.a.createRef()),a=Object(K.a)(t,1)[0];return Object(r.useEffect)((function(){console.log(e);var t=a.current;new IntersectionObserver((function(t,a){var r=t[0];r.isIntersecting&&(r.target.classList.add("appear"),a.unobserve(r.target),console.log(r.isIntersecting,e))}),{root:null,rootMargin:"100px",threshold:0}).observe(t)}),[]),n.a.createElement("div",null,n.a.createElement("div",{ref:a,class:"row homeRow transition"},e.children))},J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.signedIn),console.log("test")}},{key:"render",value:function(){return n.a.createElement("div",{class:"App-margin"},n.a.createElement("div",{class:"homeMain"},n.a.createElement("h1",null,"Welcome to BreadBasket!"),n.a.createElement("img",{class:"homeMainPic",src:"https://secureservercdn.net/45.40.150.81/0m4.91e.myftpupload.com/wp-content/uploads/2020/03/groceries-and-meat-image-1038x576.jpg"})),n.a.createElement("div",{class:"container"},n.a.createElement("div",{class:"homeSection"},n.a.createElement("div",{className:"row homeRow"},n.a.createElement("h1",null,"Shop from popular locations"),n.a.createElement("p",null,"Get groceries delivered from all your favorite locations. We have a large variety of stores to pick from, for all your specific grocery needs."))),n.a.createElement(Z,null,n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"storeLogoBubble"},n.a.createElement("img",{class:"storeLogo",src:"https://images.barrons.com/im-78993?width=1280&size=1"}))),n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"storeLogoBubble"},n.a.createElement("img",{class:"storeLogo",src:"https://sunrisemarketplace.com/wp-content/uploads/2020/03/3979_SMP-cvs-logo.jpg"}))),n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"storeLogoBubble"},n.a.createElement("img",{class:"storeLogo",src:"https://d2lnr5mha7bycj.cloudfront.net/store_configuration/logo/212/white_label_landing_page_6217c6f4-ca57-4174-b463-b5508f095889.png"}))),n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"storeLogoBubble"},n.a.createElement("img",{class:"storeLogo",src:"https://pbs.twimg.com/profile_images/1111764791503151104/2kXoX9z-.png"}))),n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"storeLogoBubble"},n.a.createElement("img",{class:"storeLogo",src:"https://photos.prnewswire.com/prnfull/20140919/147279"})))),n.a.createElement(Z,null,n.a.createElement("div",{className:"col-8"},n.a.createElement("img",{className:"homeSectionPic",src:"https://img1.mashed.com/img/gallery/grocery-delivery-services-ranked-from-worst-to-first/intro-1585162312.jpg"})),n.a.createElement("div",{className:"col-4"},n.a.createElement("h4",null," Convenient service"),n.a.createElement("p",null," Orders made on BreadBasket are made available for drivers in real time for quick and painless delivery. "))),n.a.createElement(Z,null,n.a.createElement("div",{className:"col-4"},n.a.createElement("h4",null,"Update your orders live"),n.a.createElement("p",null,"Any last minute changes you want to make to your order? You can notify your driver on any changes you want to make on any current orders.")),n.a.createElement("div",{className:"col-8"},n.a.createElement("img",{className:"homeSectionPic",src:"https://www.gannett-cdn.com/media/2017/06/14/TennGroup/Knoxville/636330432728891184-instacart-0056.jpg?width=640"}))),n.a.createElement(Z,null,n.a.createElement("div",{className:"col-8"},n.a.createElement("img",{className:"homeSectionPic",src:"https://images.squarespace-cdn.com/content/v1/5bbd07174d546e20297c2ac0/1585075655832-JX0T0UXFFHOM1RWZUCZ8/ke17ZwdGBToddI8pDm48kDHPSfPanjkWqhH6pl6g5ph7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0mwONMR1ELp49Lyc52iWr5dNb1QJw9casjKdtTg1_-y4jz4ptJBmI9gQmbjSQnNGng/photo-1542838132-92c53300491e.jpg?format=1500w"})),n.a.createElement("div",{className:"col-4"},n.a.createElement("h5",null,"Organized shopping experience"),n.a.createElement("p",null,"Items are searchable by section or by name so you can quickly find the items you want to add to your order."))),n.a.createElement("h1",null,"Make your first order today!"),n.a.createElement("div",null,this.props.signedIn?n.a.createElement(d.b,{to:"/orderpage"},"Get Started"):n.a.createElement("h3",null,"But first, please sign in!"))))}}]),a}(r.Component),Q=Object(m.b)((function(e){return{signedIn:e.auth.signedIn}}))(J),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement("div",{class:"App-margin container"},n.a.createElement("h1",null,"About"),n.a.createElement("div",{class:"row aboutBox"},n.a.createElement("div",{class:"col-4"},n.a.createElement("h3",null,"Get your grocery shopping done with BreadBasket!"),n.a.createElement("p",null,"Browse from popular locations to shop for all your essential groceries and household items delievered straight to your door.")),n.a.createElement("div",{class:"col-8"},n.a.createElement("img",{src:"https://itk-assets.nyc3.digitaloceanspaces.com/2020/03/grocery-delivery-services-1024x690.jpg",style:{width:"100%"}}))),n.a.createElement("div",{class:"row aboutRow"},n.a.createElement("div",{class:"col-4"},n.a.createElement("div",{class:"aboutPicBox"},n.a.createElement("img",{class:"aboutPic",src:"https://voxytalksy.com/wp-content/uploads/2018/08/google-voxytalksy.png"})),n.a.createElement("h4",null,"Google Authentication "),n.a.createElement("p",null,"Easily create an account with personal information by signing in with your personal Google account.")),n.a.createElement("div",{class:"col-4"},n.a.createElement("div",{class:"aboutPicBox"},n.a.createElement("img",{class:"aboutPic",src:"https://localyse.eu/wp-content/uploads/2020/06/google_maps_featured_image-1024x597.jpg"})),n.a.createElement("h4",null,"Look for nearby stores"),n.a.createElement("p",null,"Google Maps is available on BreadBasket to search for nearby available store locations. ")),n.a.createElement("div",{class:"col-4"},n.a.createElement("div",{class:"aboutPicBox"},n.a.createElement("img",{class:"aboutPic",src:"https://ecommercebooth.com/wp-content/uploads/2020/08/paypal-vs-strirpe-for-ecommere-business-.png"})),n.a.createElement("h4",null,"Easy Payment"),n.a.createElement("p",null,"Pay for your order with either Stripe or Paypal for a convenient checkout experience"))))}}]),a}(r.Component),ee=Object(m.b)((function(e){return{users:e.users}}))(X),te=Object(m.b)(null,{itemPicModal:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/items/".concat(e));case 2:r=t.sent,console.log(r.data,"items"),a({type:"ITEM_PIC_MODAL",payload:r.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{onClick:function(){return e.itemPicModal(e.item_id)},style:{cursor:"pointer",display:"block",height:"100%"},"data-toggle":"modal","data-target":"#Modal"},n.a.createElement("img",{src:e.image,class:"card-img-top card-image",alt:"..."})))})),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"removeItem",value:function(e){console.log(e),this.props.removeCartItem(this.props.cartItemId,this.props.item_id)}},{key:"changeCount",value:function(e){var t=0;"+"===e&&(t=this.props.count+1),"-"===e&&(t=this.props.count>1?this.props.count-1:1),this.props.cartItemCount(t,this.props.cartItemId)}},{key:"itemDetailsNav",value:function(){this.props.clearItem(),this.props.history.push("/item_details/".concat(this.props.item_id))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"row cartItem"},n.a.createElement("div",{class:"cartItem-pic"},n.a.createElement("h3",null,this.props.name),n.a.createElement(te,{image:this.props.image,item_id:this.props.item_id})),n.a.createElement("div",null,n.a.createElement("h3",null,"Price per ",this.props.unit,": $",(.01*this.props.price).toFixed(2)),n.a.createElement("div",null,n.a.createElement("h3",null,"Count: ",this.props.count),n.a.createElement("span",null,n.a.createElement("button",{style:{marginRight:"3%"},class:"btn btn-primary",onClick:function(){return e.changeCount("+")}},"+"),n.a.createElement("button",{style:{marginLeft:"3%"},class:"btn btn-danger",onClick:function(){return e.changeCount("-")}},"-"))),n.a.createElement("h3",null,"Total: $",(this.props.count*this.props.price*.01).toFixed(2)," ")),n.a.createElement("div",null,n.a.createElement("button",{class:"btn btn-danger",onClick:function(){return e.removeItem(e.props.cartItemId)}},"Remove Item"),n.a.createElement("button",{class:"btn btn-primary",onClick:function(){e.itemDetailsNav()}},"Item Details")))}}]),a}(r.Component),re=Object(m.b)(null,{cartItemCount:function(e,t){return console.log(e,t),{type:"CHANGE_COUNT_CART_ITEM",payload:{count:e,cartItemId:t}}},removeCartItem:A,clearItem:k})(ae),ne=a(284),oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).cartItemsArray=function(t){return Object.keys(t).map((function(t){return e.props.cart_items[t]}))},e}return Object(i.a)(a,[{key:"renderCart",value:function(){var e=this;if(!Object(H.isEmpty)(this.props.cart_items))return this.cartItemsArray(this.props.cart_items).map((function(t){var a=t.attributes.item;return n.a.createElement(re,{cartItemId:t.id,image:a.image,name:a.name,count:t.attributes.quantity_num,price:a.price,history:e.props.history,item_id:a.id,unit:a.quantity_unit})}))}},{key:"renderCartTotal",value:function(){var e=this,t=0;if(Object(H.isEmpty)(this.props.cart_items))t=0;else{var a=this.cartItemsArray(this.props.cart_items);console.log(a),t=a.reduce((function(e,t){return e+t.attributes.quantity_num*(.01*t.attributes.item.price)}),0)}var r=.14*t,o=.0725*(t+r),c=t+r+o;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.props.handleSubmit((function(a){if(console.log(e.props.currentOrderId),Object(H.isEmpty)(e.props.cart_items))alert("Your cart is empty!");else{var n={subtotal:(100*t).toFixed(0),payment:(100*r).toFixed(0),tax:(100*o).toFixed(0),total:(100*c).toFixed(0),store_id:e.props.storeId,shopper_id:e.props.shopperId,status:"pending"};e.props.currentOrderId?e.props.updatePreOrder(e.props.currentOrderId,n):e.props.preOrder(n),e.props.history.push("/payment/checkout")}}))},n.a.createElement("div",null,n.a.createElement("h4",null,"$".concat(t.toFixed(2))),n.a.createElement("h4",null,"$".concat(r.toFixed(2))),n.a.createElement("h4",null,"$".concat(o.toFixed(2))),n.a.createElement("h4",null,"$".concat(c.toFixed(2))),n.a.createElement("button",{className:"btn btn-secondary",type:"submit"},"Checkout"))))}},{key:"render",value:function(){return n.a.createElement("div",{class:"App-margin container"},n.a.createElement("div",{class:"cart-div"},n.a.createElement("h1",null,"Cart"),this.renderCart(),n.a.createElement("div",{class:"row cartItem total roboFont"},n.a.createElement("div",null,n.a.createElement("h4",null,"SubTotal:"),n.a.createElement("h4",null,"Delivery:"),n.a.createElement("h4",null,"Tax:"),n.a.createElement("h4",null,"Total:"),n.a.createElement("br",null)),this.renderCartTotal())))}}]),a}(r.Component),ce=Object(ne.a)({form:"cartForm"})(oe),se=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,storeId:e.stores.selectedStore.id,currentOrderId:e.order.current_order_id,cart_id:e.cart.cart_id,cart_items:e.cart.cart_items,item_ids:e.cart.item_ids}}),{getCart:T,removeCartItem:A,preOrder:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/orders",{order:e});case 2:r=t.sent,n=parseInt(r.data.data.id),o=r.data.data.attributes,console.log(r),a({type:"PRE_ORDER",payload:{id:n,order:o}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updatePreOrder:function(e,t){return function(){var a=Object(E.a)(v.a.mark((function a(r){var n,o,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,_.patch("/orders/".concat(e),{order:t});case 3:n=a.sent,console.log(n.data),o=parseInt(n.data.data.id),c=n.data.data.attributes,r({type:"PRE_ORDER",payload:{id:o,order:c}});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(ce),ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.history)}},{key:"viewOrderItems",value:function(){this.props.clearOrderItems(),this.props.history.push("/view_order_items/".concat(this.props.id))}},{key:"paymentDetails",value:function(){this.props.clearOrder(),this.props.history.push("/payment_details/".concat(this.props.id))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"orderSection"},n.a.createElement("div",{class:"orderHeader"},n.a.createElement("h3",null,"Order ",this.props.position)),n.a.createElement("div",{class:"orderSection-info"},n.a.createElement("p",null,"Order Cost: $",(this.props.total/100).toFixed(2)),n.a.createElement("p",null,"Name of Driver: Bob Clark"),n.a.createElement("p",null,"Grocery Store: ",this.props.store)),n.a.createElement("div",{class:"orderButtonBox"},n.a.createElement("button",{onClick:function(){return e.paymentDetails()},class:"btn btn-success orderSectionDetails"},this.props.paymentText),n.a.createElement("button",{onClick:function(){return e.viewOrderItems()},class:"btn btn-primary orderSectionDetails"},this.props.orderButtonTxt),"Update Order"===this.props.orderButtonTxt?n.a.createElement("button",{onClick:function(){return e.props.cancelOrderModal(e.props.id)},class:"btn btn-warning orderSectionDetails","data-toggle":"modal","data-target":"#Modal"},"Cancel Order"):null))}}]),a}(r.Component),le=Object(m.b)(null,{cancelOrder:M,clearOrderItems:function(){return{type:"CLEAR_ORDER_ITEMS"}},clearOrder:function(){return{type:"CLEAR_ORDER"}},cancelOrderModal:function(e){return{type:"CANCEL_ORDER_MODAL",payload:e}}})(ie),ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderOrders=function(){return e.props.activeOrders.map((function(t,a){var r=t.attributes;return n.a.createElement(le,{history:e.props.history,position:a+1,id:t.id,paymentText:"Update Payment",orderButtonTxt:"Update Order",store:e.props.stores[r.store_id-1].attributes.name,total:r.total})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getActiveOrders(this.props.shopperId)}},{key:"render",value:function(){return n.a.createElement("div",{className:"App-margin container"},n.a.createElement("h1",null,"Current Orders"),n.a.createElement("div",null,this.renderOrders()))}}]),a}(n.a.Component),pe=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,stores:e.stores.storesList,activeOrders:e.order.active_orders}}),{getActiveOrders:N})(ue),me=a(285),de=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderInput=function(e){var t=e.input,a=e.meta,r=e.label;return n.a.createElement("div",null,n.a.createElement("label",null," ",r),n.a.createElement("input",t),n.a.createElement("div",null,a.error," "))},e.toProfile=function(){e.props.history.replace("/profile")},e.submitForm=function(t){if(!Object(H.isEmpty)(e.props.currentShopper)){var a=e.props.shopperId,r=e.props.infoId;console.log(t),t.image?e.props.editShopper({shopper:{image:t.image}},a):t.email?e.props.editShopper({shopper:{email:t.email}},a):t.phone?e.props.editShopperProfile({shopper_info:{phone:t.phone}},r):t.address&&e.props.editShopperProfile({shopper_info:{address:t.address,city:t.city,state:t.state,zip_code:t.zip_code}},r),e.toProfile()}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.match.params)}},{key:"renderForm",value:function(){var e=this.props.match.params.section;if(!Object(H.isEmpty)(this.props.currentShopper)){if("address"===e)return n.a.createElement("div",null,n.a.createElement(me.a,{name:"address",component:this.renderInput,label:"Address"}),n.a.createElement(me.a,{name:"city",component:this.renderInput,label:"City"}),n.a.createElement(me.a,{name:"state",component:this.renderInput,label:"State"}),n.a.createElement(me.a,{name:"zip_code",component:this.renderInput,label:"Zip Code"}));if("phone"===e)return n.a.createElement(me.a,{name:"phone",component:this.renderInput,label:"Phone Number"});if("email"===e)return n.a.createElement(me.a,{name:"email",component:this.renderInput,label:"Email"});if("image"===e)return n.a.createElement(me.a,{name:"image",component:this.renderInput,label:"Image URL"})}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Edit Profile"),n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.submitForm)},this.renderForm(),n.a.createElement("button",{type:"submit"},"Submit")),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.toProfile},"Back To Profile")))}}]),a}(n.a.Component),he=Object(ne.a)({form:"editShopperForm",validate:function(e){var t={};return e.address||(t.address="Please enter an address!"),e.city||(t.city="Please enter a city!"),e.state||(t.state="Please enter a state!"),e.zip_code||(t.zip_code="Please enter a zip_code!"),e.phone||(t.phone="Please enter a phone number!"),e.email||(t.email="Please enter a email!"),e.image||(t.image="Please enter an image url!"),t}})(de),be=Object(m.b)((function(e){return{currentShopper:e.auth.currentShopper,shopperId:e.auth.currentShopper.id,infoId:e.auth.currentShopper.shopper_info.id}}),{editShopper:function(e,t){return function(){var a=Object(E.a)(v.a.mark((function a(r){var n,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,_.patch("/shoppers/".concat(t),e);case 3:n=a.sent,o=n.data,console.log(o.data),r({type:"EDIT_SHOPPER",payload:o.data.attributes});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},editShopperProfile:function(e,t){return function(){var a=Object(E.a)(v.a.mark((function a(r){var n,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.patch("/shopper_infos/".concat(t),e);case 2:n=a.sent,o=n.data.data,console.log(o),r({type:"EDIT_PROFILE",payload:o.attributes});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(he),ve=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getItem(this.props.match.params.item_id)}},{key:"renderDetail",value:function(){if(this.props.item)return n.a.createElement("div",null,n.a.createElement("img",{src:this.props.item.data.attributes.image}),n.a.createElement("h3",null,this.props.item.data.attributes.name),n.a.createElement("h3",null,"$",(this.props.item.data.attributes.price/100).toFixed(2)," per ",this.props.item.data.attributes.quantity_unit))}},{key:"render",value:function(){return n.a.createElement("div",{class:"itemDetails"},n.a.createElement("h1",null,"Item Details"),this.renderDetail())}}]),a}(n.a.Component),Ee=Object(m.b)((function(e){return{item:e.items.selectedItem}}),{getItem:w})(ve),fe=a(51),ye=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).mapStyles={width:"100%",position:"absolute",height:"75%"},e.onHover=function(){},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.store_coords,"COORDINATES")}},{key:"render",value:function(){return n.a.createElement("div",{class:"mapDiv"},n.a.createElement(fe.Map,{google:this.props.google,zoom:13,style:this.mapStyles,initialCenter:this.props.store_coords},n.a.createElement(fe.Marker,{name:"Your position",position:this.props.user_coords}),n.a.createElement(fe.Marker,{name:"".concat(this.props.store_name),position:this.props.store_coords})))}}]),a}(n.a.Component),ge=Object(m.b)((function(e){return{store_coords:e.stores.store_coords,user_coords:e.stores.user_coords,store_name:e.stores.selectedStore.attributes.name}}),{storeCoords:L})(Object(fe.GoogleApiWrapper)({apiKey:"AIzaSyD-d4NIENxdIYOCE7gIRwvzTIZGRLobMdg",LoadingContainer:function(e){return n.a.createElement("div",null,"Loading")}})(ye)),Oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).toOrderPage=function(){e.props.history.push("/orderpage")},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-2 mapBackButton"},n.a.createElement("button",{class:"btn btn-success",type:"button"},n.a.createElement(d.b,{class:"text-reset",to:"/orderpage"},n.a.createElement("svg",{class:"svg-icon ",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"currentColor"},n.a.createElement("path",{d:"M11.739,13.962c-0.087,0.086-0.199,0.131-0.312,0.131c-0.112,0-0.226-0.045-0.312-0.131l-3.738-3.736c-0.173-0.173-0.173-0.454,0-0.626l3.559-3.562c0.173-0.175,0.454-0.173,0.626,0c0.173,0.172,0.173,0.451,0,0.624l-3.248,3.25l3.425,3.426C11.911,13.511,11.911,13.789,11.739,13.962 M18.406,10c0,4.644-3.763,8.406-8.406,8.406S1.594,14.644,1.594,10S5.356,1.594,10,1.594S18.406,5.356,18.406,10 M17.521,10c0-4.148-3.373-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.148,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.148,17.521,10"})),"Back to Order")))),n.a.createElement(ge,null))}}]),a}(n.a.Component),_e=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getAddress=Object(E.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e.props.store_params,"&key=AIzaSyD-d4NIENxdIYOCE7gIRwvzTIZGRLobMdg"));case 2:a=t.sent,console.log(a),e.props.storeCoords(a.data.results[0].geometry.location);case 5:case"end":return t.stop()}}),t)}))),e.storeOptions=function(){return e.props.stores.map((function(e,t){return n.a.createElement("button",{key:t,class:"dropdown-item",id:e.attributes.id,value:e.attributes.name},e.attributes.name)}))},e.selectStore=function(t){var a=e.props.stores.find((function(e){return e.id==t.target.id}));e.props.selectStore(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAddress()}},{key:"componentDidUpdate",value:function(e){console.log(e,this.props),e.selectedStore.id!==this.props.selectedStore.id&&(this.props.getItems(this.props.selectedStore.attributes.id),this.props.dropCart(this.props.cartId),this.props.startCart({shopper_id:this.props.shopperId}),this.props.getCategories(this.props.selectedStore.attributes.id-1),this.getAddress())}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"mapSearchComponent"},n.a.createElement("div",{class:"dropdown"},n.a.createElement("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.props.selectedStore.attributes.name),n.a.createElement("div",{onClick:function(t){return e.selectStore(t)},class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.storeOptions())),n.a.createElement("button",{class:"btn btn-primary",onClick:function(){return e.props.history.push("/map_page")}},"See Location"))}}]),a}(n.a.Component),je=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,stores:e.stores.storesList,selectedStore:e.stores.selectedStore,cartItems:e.cart.cart_items,cartId:e.cart.cart_id,store_params:[e.stores.selectedStore.attributes.address.street.split(" ").join("+"),e.stores.selectedStore.attributes.address.city.split(" ").join("+"),e.stores.selectedStore.attributes.address.state].join("+")}}),{selectStore:S,getCategories:I,getItems:C,removeCartItem:A,dropCart:D,startCart:x,storeCoords:L})(_e),Se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderInput=function(e){var t=e.input,a=(e.meta,e.label);return console.log(t),n.a.createElement("div",{class:"form-group row"},n.a.createElement("label",{class:"col-sm-2 col-form-label",for:"input"},a),n.a.createElement("div",{class:"col-smn-9"},n.a.createElement("input",Object.assign({type:"text",class:"form-control",id:"input"},t))),n.a.createElement("button",{style:{marginLeft:".5em"},className:"btn btn-primary",type:"submit",id:"button-addon1"},"Search Item"))},e.searchSubmit=function(t){e.props.history.push("/search/".concat(t.searchItem))},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.searchSubmit)},n.a.createElement(me.a,{name:"searchItem",component:this.renderInput,label:"Search"})))}}]),a}(n.a.Component),Ie=Object(ne.a)({form:"searchForm",validate:function(e){var t={};return e.searchItem||(t.searchItem="Please enter an Item"),t}})(Se),ke=Object(m.b)(null)(Ie),we=function(e){return n.a.createElement("div",{class:"col-sm-auto"},n.a.createElement("a",{class:"category-btn menu-button roboFont",href:"/products/".concat(e.name),"data-category":e.name},e.title))},Ce=function(e){return n.a.createElement("div",{class:"row justify-content-center foodCategoryNav"},e.categories.map((function(t){return n.a.createElement(we,{history:e.history,name:t.name,title:t.title})})))},Te=a(1),xe=Object(m.b)((function(e){return{cart_item_ids:e.cart.item_ids,cart_id:e.cart.cart_id,cart_items:e.cart.cart_items}}),{addCartItem:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,_.post("/cart_items",{cart_item:e});case 3:r=t.sent,n=r.data,console.log(n.data,"cart_item added"),a({type:"ADD_CART_ITEM",payload:{cart_item:n.data,id:n.data.id,item_id:n.data.attributes.item_id}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeCartItem:A})((function(e){var t=Object(r.useState)(n.a.createRef()),a=Object(K.a)(t,1)[0];Object(r.useEffect)((function(){e.cart_item_ids.find((function(t){return t[0]===e.item_id}))?o("add"):o("remove")}));var o=function(e){var t=a.current.children[1].children[2],r=function(e){t.children[0].src="".concat("","/minus.svg"),t.classList.remove("btn-success"),t.classList.add("btn-danger")},n=function(e){t.children[0].src="".concat("","/check.svg"),t.classList.remove("btn-danger"),t.classList.add("btn-success")};"add"===e?(t.children[0].src="".concat("","/check.svg"),t.classList.add("btn-success"),t.addEventListener("mouseover",r,!0),t.addEventListener("mouseout",n,!0),t.addEventListener("click",(function(){t.removeEventListener("mouseover",r,!0)})),t.addEventListener("click",(function(){t.removeEventListener("mouseout",n,!0)}))):"remove"===e&&(t.children[0].src="".concat("","/plus.svg"),t.classList.remove("btn-danger"),t.classList.add("btn-primary"))};return n.a.createElement("div",{class:"col-lg-2 col-md-4 col-sm-6 col-xs-12"},n.a.createElement("div",{class:"card",ref:a},n.a.createElement("div",null,n.a.createElement(te,{image:e.image,item_id:e.item_id})),n.a.createElement("div",{class:"card-body-2"},n.a.createElement("p",{class:"card-title",style:{fontSize:"12px"}},e.name),n.a.createElement("p",{style:{fontSize:"10px"}}," $",e.price,"/",e.unit),n.a.createElement("a",{class:"btn btn-primary",onClick:function(t){t.preventDefault();var a=e.cart_item_ids.find((function(t){return t[0]===e.item_id}));if(a)console.log(a,e.cart_item_ids),o("remove"),e.removeCartItem(a[1],e.item_id);else{o("add");var r={cart_id:e.cart_id,item_id:e.item_id,quantity_num:1};e.addCartItem(r)}}},n.a.createElement("img",{class:"card-button-img",alt:"Image"})))))})),De=function(e){var t=e.items.map((function(e,t){return n.a.createElement(xe,{key:t,item_id:parseInt(e.id),image:e.attributes.image,price:(.01*e.attributes.price).toFixed(2),name:e.attributes.name,unit:e.attributes.quantity_unit})}));return n.a.createElement("div",{class:"container"},n.a.createElement("br",null),n.a.createElement("div",{class:"row justify-content-center"},t))},Ae=(a(275),a(127)),Ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).splitItems=function(t,a){var r=e.props.items.slice(t,a);return n.a.createElement(De,{items:r})},e}return Object(i.a)(a,[{key:"render",value:function(){var e={position:"absolute",zIndex:2,top:"calc(50% - 15px)",width:30,height:30,outline:0,background:"transparent",border:"none",color:"transparent",cursor:"pointer"};return n.a.createElement("div",null,n.a.createElement(Ae.Carousel,{dyanamicHeight:!0,statusFormatter:function(e,t){return"".concat(e," / ").concat(t)},renderArrowPrev:function(t,a,r){return a&&n.a.createElement("button",{type:"button",onClick:t,title:r,style:Object(Te.a)(Object(Te.a)({},e),{},{left:15})},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},renderArrowNext:function(t,a,r){return a&&n.a.createElement("button",{type:"button",onClick:t,title:r,style:Object(Te.a)(Object(Te.a)({},e),{},{right:15})},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))}},n.a.createElement("div",{style:{backgroundColor:"white"}},this.splitItems(0,6)),n.a.createElement("div",null,this.splitItems(6,12))))}}]),a}(r.Component),Re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.cartId,this.props.shopperId),navigator.geolocation.getCurrentPosition(this.success.bind(this),this.error),this.props.getItems(this.props.selectedStore.attributes.id),this.props.getActiveOrders(this.props.shopperId),this.props.getCategories(this.props.selectedStore.attributes.id-1),this.props.shopperId&&!this.props.cartId&&this.props.startCart({shopper_id:this.props.shopperId})}},{key:"success",value:function(e){if(console.log(this.props),e){var t=e.coords;console.log("YOU ARE CURRENTLY HERE --\x3e",{lat:t.latitude,lng:t.longitude}),this.props.userCoords({lat:t.latitude,lng:t.longitude})}}},{key:"error",value:function(e){console.warn("ERROR: ".concat(e.code,": ").concat(e.message))}},{key:"componentDidUpdate",value:function(e){e.cartId!==this.props.cartId&&this.props.getCart(this.props.cartId)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"App-margin"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{class:"row"},n.a.createElement("div",{class:"col-sm-4 storeDropdown"},n.a.createElement(je,{history:this.props.history})),n.a.createElement("div",{class:"col-sm-4 storeName"},n.a.createElement("h1",null,this.props.selectedStore.attributes.name),n.a.createElement("img",{style:{height:"70%",width:"25%",borderRadius:"10px"},src:"".concat(this.props.selectedStore.attributes.logo)})),n.a.createElement("div",{class:"col-sm-4 searchBar"},n.a.createElement(ke,{history:this.props.history}))),n.a.createElement("br",null),n.a.createElement("div",{class:"row justify-content-center"},n.a.createElement(Ce,{history:this.props.history,categories:this.props.categories})),n.a.createElement("br",null),n.a.createElement("br",null),this.props.categories.map((function(t){var a=e.props.items.filter((function(e){return e.attributes.category===t.name}));return n.a.createElement("div",{class:"food-items-section"},n.a.createElement("h1",null,t.title),n.a.createElement(Ne,{items:a}))})))}}]),a}(r.Component),Me=Object(m.b)((function(e){return{activeOrders:e.order.active_orders,items:e.items.itemsList.data,categories:e.categories,stores:e.stores.storesList,selectedStore:e.stores.selectedStore,shopperId:e.auth.currentShopper.id,cartId:e.cart.cart_id,cartItems:e.cart.cart_items,item:e.items.selectedItem,item_ids:e.cart.item_ids}}),{getItems:C,getItem:w,getCategories:I,selectStore:S,dropCart:D,startCart:x,getCart:T,getActiveOrders:N,userCoords:function(e){return{type:"USER_COORDS",payload:e}}})(Re),Pe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCompletedOrders(this.props.shopperId)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"App-margin container"},n.a.createElement("h1",null,"Order History"),this.props.completedOrders.map((function(t,a){var r=t.attributes;return n.a.createElement(le,{history:e.props.history,position:a+1,id:t.id,paymentText:"Payment Info",orderButtonTxt:"View Order",store:e.props.stores[r.store_id-1].attributes.name,total:r.total})})))}}]),a}(r.Component),Le=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,stores:e.stores.storesList,completedOrders:e.order.completed_orders}}),{getCompletedOrders:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/orders?shopper_id=".concat(e,"&status=completed"));case 2:r=t.sent,n=r.data.data,a({type:"GET_COMPLETED_ORDERS",payload:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Pe),Be=a(128),Fe=a(129),ze=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement(Fe.PayPalButton,{amount:"".concat(this.props.amount),onSuccess:function(e,t){window.history.pushState({},"","/payment/success"),window.history.go()},catchError:function(e){window.history.pushState({},"","/payment/failure"),window.history.go()},options:{clientId:"A21AALEwYbmiEE-VVyHvCmQwmNxAvBYMrf68I1KVDgAN754OEbhEdW2i9DrAWZmU0vTFPFk6wifJhLT0IeouxD3tTBYZ9gnGg"}})}}]),a}(n.a.Component),Ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this)).showBottomEdit=function(e){e?r.setState({showBottomEdit:!1}):r.setState({showBottomEdit:!0})},r.renderSelect=function(e){return e?n.a.createElement(d.b,{onClick:function(){return r.showBottomEdit(r.state.showBottomEdit)}},"\u2716"):n.a.createElement(d.b,{onClick:function(){return r.showBottomEdit(r.state.showBottomEdit)}},r.state.selectType)},r.state={selectType:e.selectType,showBottomEdit:!1},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.selectType||this.setState({showBottomEdit:!0})}},{key:"render",value:function(){return n.a.createElement("div",{className:"payment-option"},n.a.createElement("div",{className:"row payment-option-line"},n.a.createElement("div",null,n.a.createElement("h3",null,this.props.title)),n.a.createElement("div",null,this.state.selectType?this.renderSelect(this.state.showBottomEdit):n.a.createElement("div",null))),n.a.createElement("div",{className:"payment-divider"}),n.a.createElement("div",{className:"row payment-option-line"},this.state.showBottomEdit?this.props.bottomOption:n.a.createElement("div",{className:"bottomContent"},this.props.bottomContent)))}}]),a}(n.a.Component),Ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"button-div"},n.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.props.numberModal()},style:{width:"100%"},"data-toggle":"modal","data-target":"#Modal"},n.a.createElement("div",{className:"checkout-add-div"},n.a.createElement("span",null,n.a.createElement("img",{className:"checkout-add-img",src:"".concat("","/plusMark.svg")}),this.props.text))))}}]),a}(n.a.Component),He=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a=this;return this.props.checked===this.props.value?(e="".concat("","/checkMark.svg"),t="btn btn-success"):(e="".concat("","/circle.svg"),t="btn btn-light"),"stripe"===this.props.value&&(e="".concat("","/stripeIcon.png"),t="btn btn-primary"),"paypal"===this.props.value&&(e="".concat("","/paypalIcon.svg.png"),t="btn btn-warning"),"test"===this.props.value&&(t="btn btn-success"),n.a.createElement("div",{style:{borderRadius:"3px",webkitBoxShadow:"0px 0 5px rgba(99, 99, 99, 0.842)"},className:"button-div"},n.a.createElement("button",{className:t,onClick:function(e){return a.props.selectOption(e)},style:{width:"100%"},form:"contactForm",value:this.props.value},n.a.createElement("div",{className:"checkout-option-div"},"test"===this.props.value?n.a.createElement("h4",null,"Test Checkout"):n.a.createElement("img",{className:"checkout-option-img",src:e}))))}}]),a}(n.a.Component),qe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).renderAddresses=function(){return e.props.addresses?e.props.addresses.map((function(t){var a="".concat(t.street,", ").concat(t.city,", ").concat(t.state," ").concat(t.zip_code);return n.a.createElement(He,{checked:e.state.checked,value:a,form:"contactForm",text:a,selectOption:e.selectOption,imgClass:"checkout-img-address"})})):n.a.createElement("div",null)},e.selectOption=function(t){e.setState({checked:t.currentTarget.value}),e.props.updateOrderAddress(t.currentTarget.value)},e.addAddress=function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r={street:a.target.children[0].value,city:a.target.children[1].value,state:a.target.children[2].value,zip_code:a.target.children[3].value,addressable_type:"Shopper",addressable_id:e.props.shopperId},n="".concat(r.street,", ").concat(r.city,", ").concat(r.state," ").concat(r.zip_code),e.props.updateOrderAddress(n),e.props.addShopperAddress(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={checked:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.addresses)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"button-options"},this.renderAddresses(),n.a.createElement(Ge,{numberModal:function(){return e.props.addressModal()},text:"Add an Address"})))}}]),a}(n.a.Component),Ye=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id}}),{addShopperAddress:F,updateOrderAddress:function(e){return console.log("update address",e),{type:"UPDATE_ORDER_ADDRESS",payload:e}},addressModal:function(){return{type:"ADDRESS_MODAL"}}})(qe),We=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"ui container"},n.a.createElement("h4",null,"Select a Payment Option (Paypal and Stripe methods are links. Please use test to create orders.):"),n.a.createElement("div",{className:"button-options-row"},n.a.createElement(He,{selectOption:this.props.selectOrderPayment,value:"stripe"}),n.a.createElement(He,{selectOption:this.props.selectOrderPayment,value:"paypal"}),n.a.createElement(He,{selectOption:this.props.selectOrderPayment,value:"test"})))}}]),a}(n.a.Component),$e=Object(m.b)(null,{selectOrderPayment:function(e){return{type:"UPDATE_ORDER_PAYMENT_METHOD",payload:e.currentTarget.value}}})(We),Ve=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).renderContacts=function(){return e.props.numbers?e.props.numbers.map((function(t){return n.a.createElement(He,{imgClass:"checkout-img-contact",checked:e.state.checked,value:t,form:"contactForm",text:t,selectOption:e.selectOption})})):n.a.createElement("div",null)},e.selectOption=function(t){e.setState({checked:t.currentTarget.value}),e.props.updateOrderNumber(t.currentTarget.value)},e.addContact=function(t){t.preventDefault();var a=t.target.children[0].value,r=a.slice(0,3),n=a.slice(3,6),o=a.slice(6,10),c={number:"(".concat(r,")").concat(n,"-").concat(o),phoneable_type:"Shopper",phoneable_id:e.props.shopperId};e.props.updateOrderNumber(c.number),e.props.addShopperNumber(c)},e.state={checked:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.numbers)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"button-options"},this.renderContacts(),n.a.createElement(Ge,{numberModal:function(){return e.props.numberModal()},text:"Add a Number"})))}}]),a}(n.a.Component),Ke=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id}}),{addShopperNumber:z,updateOrderNumber:function(e){return{type:"UPDATE_ORDER_NUMBER",payload:e}},numberModal:function(){return{type:"NUMBER_MODAL"}}})(Ve),Ze=a(87),Je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderTextArea=function(e){var t=e.input,a=e.meta,r=e.label;return n.a.createElement("div",{class:"form-group modal-form"},n.a.createElement("label",{style:{left:"0"}},r),n.a.createElement("textarea",Object.assign({class:"form-control",rows:"3"},t,{placeholder:"F.e. Please leave the groceries on my front porch... "})),n.a.createElement("div",null,a.error))},e.onSubmit=function(t){return console.log(t),new Promise((function(e,a){console.log("hello are you there?");var r=Qe(t);r.empty?a(new Ze.a(r)):e(t)})).then((function(t){e.props.updateDeliveryNote(t.delivery_note)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"payment-option-bottom"},n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),id:"delivery-note"},n.a.createElement(me.a,{name:"delivery_note",component:this.renderTextArea,label:"Add a note for your order"})),n.a.createElement("button",{style:{float:"left"},type:"submit",class:"btn btn-primary",form:"delivery-note"},"Submit"))}}]),a}(n.a.Component),Qe=function(e){var t={};return e.delivery_note||(t.delivery_note="Your note is empty!"),t},Xe=Object(ne.a)({form:"deliveryNote",validate:Qe})(Je),et=Object(m.b)(null,{updateDeliveryNote:function(e){return console.log(e),{type:"UPDATE_ORDER_DELIVERY_NOTE",payload:e}}})(Xe),tt=a(32),at=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a=this;return t=this.props.selected===this.props.value.toString()?"btn btn-success":"btn btn-light-outline",n.a.createElement("div",{className:"button-div"},n.a.createElement("div",{style:{borderRadius:"3px",webkitBoxShadow:"0px 0 5px rgba(99, 99, 99, 0.842)",width:"85%",marginLeft:"7%"}},n.a.createElement("button",(e={style:{border:"1px solid black"},class:t,type:"button",onClick:function(e){return a.props.selectOption(e)}},Object(tt.a)(e,"style",{width:"100%"}),Object(tt.a)(e,"value",this.props.value),e),this.props.text)))}}]),a}(n.a.Component),rt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).dayDisplay=function(e){e>6&&(e=(e-7).toString());var t="";return"0"===e?t="Sunday":"1"===e?t="Monday":"2"===e?t="Tuesday":"3"===e?t="Wednesday":"4"===e?t="Thursday":"5"===e?t="Friday":"6"===e&&(t="Saturday"),console.log(t),t},e.renderDates=function(){for(var t=new Date,a=[],r=0;r<4;r++){var o=String(t.getDate()+r).padStart(2,"0"),c=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDay()+r),i=e.dayDisplay(s);a.push(n.a.createElement("div",{className:"button-div"},n.a.createElement(at,{selected:e.state.selectedDay,selectOption:function(t){return e.selectDate(t)},value:s,text:n.a.createElement("div",null,n.a.createElement("p",null,"".concat(c,"/").concat(o)),n.a.createElement("p",null,"".concat(i)))})))}return a},e.renderTimes=function(t){var a=new Date,r=["9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"];if(String(a.getDay())!==t)return n.a.createElement("div",{className:"button-div"},r.map((function(t){return n.a.createElement(He,{checked:e.state.selectedTime,selectOption:e.selectTime,value:t,text:t})})));var o=a.getHours();if(o>22)return n.a.createElement("div",null,"Too late to deliver today!");var c=o-9;r=r.slice(c)},e.selectDate=function(t){var a=t.currentTarget.children[0].children[0].innerHTML.split("/"),r=a[1],n=a[0];e.setState({currentDay:e.dayDisplay(t.currentTarget.value),currentDate:{day:r,month:n},selectedDay:t.currentTarget.value})},e.selectTime=function(t){var a={time:t.currentTarget.value,date:e.state.currentDate,day:e.state.currentDay};e.setState({selectedTime:t.currentTarget.value}),e.props.updateOrderDeliveryTime(a)},e.state={currentDay:null,currentDate:null,selectedTime:null,selectedDay:null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"button-options-row"},this.renderDates()),n.a.createElement("div",{className:"button-options",style:{marginTop:"2%"}},this.state.currentDay?this.renderTimes(this.state.currentDay):n.a.createElement("div",null)),n.a.createElement("div",null,this.state.otherSelect?n.a.createElement("form",{id:"otherTip",onSubmit:function(t){return e.submitOther(t)}},n.a.createElement("input",{type:"integer",name:"otherTip"}),n.a.createElement("button",{type:"submit",value:"submit",form:"otherTip"},"Submit")):n.a.createElement("div",null)))}}]),a}(n.a.Component),nt=Object(m.b)(null,{updateOrderDeliveryTime:function(e){return{type:"UPDATE_ORDER_DELIVERY_TIME",payload:e}}})(rt),ot=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).selectOption=function(t){var a={phrase:t.currentTarget.children[0].children[0].children[0].children[1].innerHTML,value:t.currentTarget.value};e.setState({checked:t.currentTarget.value}),e.props.updateOrderSubstitute(a)},e.state={checked:null},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"ui container"},n.a.createElement("h4",{style:{left:0}},"If you can't find my items:"),n.a.createElement("div",{className:"button-options"},n.a.createElement(He,{checked:this.state.checked,selectOption:this.selectOption,value:"contact",text:"Contact me for replacements."}),n.a.createElement(He,{checked:this.state.checked,selectOption:this.selectOption,value:"choose",text:"Choose any replacements for me."}),n.a.createElement(He,{checked:this.state.checked,selectOption:this.selectOption,value:"none",text:"Don't make any replacements"})))}}]),a}(n.a.Component),ct=Object(m.b)(null,{updateOrderSubstitute:function(e){return{type:"UPDATE_ORDER_SUBSTITUTE",payload:e}}})(ot),st=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).selectOption=function(t){console.log(t.target.value);var a=t.target.value/100*e.props.currentTotal;e.props.updateOrderTip({amount:a,value:t.currentTarget.value}),e.setState({selected:t.currentTarget.value,otherSelect:!1})},e.selectOther=function(t){console.log(t.currentTarget.value),e.setState({otherSelect:!0,selected:t.currentTarget.value})},e.submitOther=function(t){t.preventDefault();var a=t.currentTarget.children[0].value/100*e.props.currentTotal;e.props.updateOrderTip({amount:a,value:t.currentTarget.children[0].value}),e.setState({otherSelect:!1})},e.state={otherSelect:!1,selected:null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"button-options-row"},n.a.createElement(at,{selected:this.state.selected,value:0,text:"None",selectOption:this.selectOption}),n.a.createElement(at,{selected:this.state.selected,value:5,text:"5%",selectOption:this.selectOption}),n.a.createElement(at,{selected:this.state.selected,value:10,text:"10%",selectOption:this.selectOption}),n.a.createElement(at,{selected:this.state.selected,value:15,text:"15%",selectOption:this.selectOption}),n.a.createElement(at,{selected:this.state.selected,value:"other",text:"Other",selectOption:this.selectOther})),n.a.createElement("div",null,this.state.otherSelect?n.a.createElement("form",{id:"otherTip",onSubmit:function(t){return e.submitOther(t)}},n.a.createElement("input",{style:{marginTop:"2%"},type:"text",class:"form-control",id:"tipForm","aria-describedby":"emailHelp",placeholder:"Enter new tip %"}),n.a.createElement("button",{style:{float:"left",marginTop:"2%"},class:"btn btn-primary",type:"submit",form:"otherTip"},"Submit")):n.a.createElement("div",null)))}}]),a}(n.a.Component),it=Object(m.b)((function(e){return{currentTotal:e.order.total,shopperId:e.auth.currentShopper.id}}),{updateOrderTip:function(e){return{type:"UPDATE_ORDER_TIP",payload:e}}})(st),lt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).userNumbers=function(){return e.props.currentShopper.phones.map((function(e){return e.number}))},e.userAddresses=function(){return e.props.currentShopper.addresses.map((function(e){return e}))},e.renderTip=function(){return e.props.chosenTip.value&&"0"!==e.props.chosenTip.value?"$".concat((e.props.chosenTip.amount/100).toFixed(2)," (").concat(e.props.chosenTip.value,"%)"):"No Tip"},e.quote=function(e){return n.a.createElement("div",{class:"quote"},n.a.createElement("p",{align:"left",style:{fontStyle:"italic",fontSize:"1.5em"}},'"',e,'"'))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCurrentShopper(this.props.shopperId),console.log(this.props.currentShopper,"current_SHOPPER")}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ue,{title:"Phone Number",selectType:"Select",bottomOption:n.a.createElement(Ke,{numbers:this.userNumbers()}),bottomContent:this.props.chosenPhone}),n.a.createElement(Ue,{title:"Address",selectType:"Select",bottomOption:n.a.createElement(Ye,{addresses:this.userAddresses()}),bottomContent:this.props.chosenAddress}),n.a.createElement(Ue,{title:"Tip",selectType:"Select",bottomOption:n.a.createElement(it,null),bottomContent:this.renderTip()}),n.a.createElement(Ue,{title:"Delivery Time",selectType:"Select",bottomOption:n.a.createElement(nt,null),bottomContent:"Deliver by ".concat(this.props.chosenDeliveryDay,", ").concat(this.props.chosenDeliveryDate," at ").concat(this.props.chosenDeliveryTime)}),n.a.createElement(Ue,{title:"Substitution Preference",selectType:"Select",bottomOption:n.a.createElement(ct,null),bottomContent:this.quote(this.props.chosenSubstitute)}),n.a.createElement(Ue,{title:"Delivery Notes",selectType:"Edit",bottomOption:n.a.createElement(et,null),bottomContent:this.quote(this.props.chosenDeliveryNote)}),n.a.createElement(Ue,{title:"Payment Method",bottomOption:n.a.createElement($e,null)}))}}]),a}(n.a.Component),ut=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,currentShopper:e.auth.currentShopper,chosenPhone:e.order.number,chosenAddress:e.order.address,chosenTip:e.order.tip,chosenDeliveryDate:"".concat(e.order.delivery_time.date.month,"/").concat(e.order.delivery_time.date.day),chosenDeliveryDay:e.order.delivery_time.day,chosenDeliveryTime:e.order.delivery_time.time,chosenSubstitute:e.order.substitute.phrase,chosenDeliveryNote:e.order.note}}),{getCurrentShopper:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("shoppers/".concat(e));case 2:r=t.sent,r.data,console.log(r.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(lt),pt=Object(Be.a)("pk_test_51HN5XFKYkELgOBXmFpEJqnw7WynOS5irzHdnuse7CMysCArWYZPwclIdO73m8Ot8CVNn6pQANPfuPkbDmLk3HRdD00ss20lGUO"),mt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).placeOrder=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,e.processOrder();case 3:e.props.history.push("/orderpage"),e.props.history.go();case 5:case"end":return t.stop()}}),t)}))),e.processOrder=Object(E.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.dropCart(e.props.cart_id),a=e.cartItems(),t.next=4,e.props.processOrder(a,e.props.cart_id,e.props.currentOrderId,{status:"active",address:e.props.orderAddress,delivery_time:e.props.orderDeliveryTime,delivery_date:"".concat(e.props.orderDeliveryDate.month+"/"+e.props.orderDeliveryDate.day),note:e.props.orderNote,phone:e.props.orderNumber,substitute:e.props.orderSubstitute,total:e.props.orderTotal+e.props.orderTip,tip:e.props.orderTip});case 4:e.props.checkoutOrder();case 5:case"end":return t.stop()}}),t)}))),e.stripeCheckout=function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.cartItems(),n=r.map((function(e){var t=e.attributes.item;return{price_data:{currency:"usd",product_data:{name:t.name},unit_amount:t.price},quantity:e.attributes.quantity_num}})),console.log(n),console.log(n),t.next=6,e.props.stripePayment(a,pt,n);case 6:e.placeOrder();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPaymentChange=function(t){e.setState({paymentOption:t.target.value})},e.state={error:!1,loading:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=window.location.href.split("/"),t=e[e.length-1];console.log(e.length),"success"===t?(console.log("hello"),this.placeOrder()):"failure"===t&&(alert("Payment was unsuccessful!"),this.setState({error:!0}))}}]),Object(i.a)(a,[{key:"cartItems",value:function(){var e=this;return Object.keys(this.props.cartItems).map((function(t){return e.props.cartItems[t]}))}},{key:"renderItems",value:function(){var e=this,t=Object.keys(this.props.cartItems).map((function(t){return e.props.cartItems[t]}));return console.log(t),t.map((function(e){return n.a.createElement("div",{class:"row checkout-item"},n.a.createElement("div",{class:"card col-3",style:{height:"100%",width:"20%"}},n.a.createElement("img",{src:e.attributes.item.image,style:{height:"100%"},class:"card-img-top",alt:"..."})),n.a.createElement("h3",{class:"col-2"},e.attributes.item.name),n.a.createElement("h3",{class:"col-2"},e.attributes.quantity_num),n.a.createElement("h3",null,"$".concat((.01*e.attributes.item.price*e.attributes.quantity_num).toFixed(2))))}))}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.loading?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row",style:{marginTop:"40%",justifyContent:"center"}},n.a.createElement("div",{className:"loaderDiv"},n.a.createElement("div",{class:"loader"}),n.a.createElement("h1",null,"Processing Order")))):n.a.createElement("div",{class:"wrapper"},n.a.createElement("div",{className:"payment-box"},n.a.createElement("div",{class:"payment-options"},n.a.createElement("h1",{class:"payment-header"},"Checkout"),n.a.createElement(ut,null)),n.a.createElement("div",{class:"payment-total"},n.a.createElement("div",{class:"payment-details"},n.a.createElement("div",{style:{backgroundColor:"white",margin:"1%",padding:"10%",borderRadius:"10px"}},n.a.createElement("div",{className:"row payment-cost-line"},n.a.createElement("div",null,n.a.createElement("h4",null,"SubTotal")),n.a.createElement("div",null,n.a.createElement("h4",null,"$".concat((this.props.orderSubTotal/100).toFixed(2))))),n.a.createElement("div",{className:"row payment-cost-line"},n.a.createElement("div",null,n.a.createElement("h4",null,"Delivery")),n.a.createElement("div",null,n.a.createElement("h4",null,"$".concat((this.props.orderPayment/100).toFixed(2))))),n.a.createElement("div",{className:"row payment-cost-line"},n.a.createElement("div",null,n.a.createElement("h4",null,"Tax")),n.a.createElement("div",null,n.a.createElement("h4",null,"$".concat((this.props.orderTax/100).toFixed(2))))),n.a.createElement("div",{className:"row payment-cost-line"},n.a.createElement("div",null,n.a.createElement("h4",null,"Tip")),n.a.createElement("div",null,n.a.createElement("h4",null,"$".concat((this.props.orderTip/100).toFixed(2)))))),n.a.createElement("div",{class:"payment-divider"}),n.a.createElement("div",{style:{backgroundColor:"white",margin:"1%",padding:"10%",borderRadius:"10px"}},n.a.createElement("div",{className:"row payment-cost-total"},n.a.createElement("div",null,n.a.createElement("h4",null,"Total")),n.a.createElement("div",null,n.a.createElement("h4",null,"$".concat(((this.props.orderPayment+this.props.orderSubTotal+this.props.orderTip+this.props.orderTax)/100).toFixed(2))))),n.a.createElement("div",{style:{marginTop:"10%"}},"test"===this.props.paymentMethod?n.a.createElement("div",{style:{borderRadius:"3px",webkitBoxShadow:"0px 0 5px rgba(99, 99, 99, 0.842)"},className:"button-div"},n.a.createElement("button",{className:"btn btn-success",onClick:this.placeOrder,style:{width:"100%"},form:"contactForm",value:this.props.value},n.a.createElement("div",{className:"checkout-option-div"},n.a.createElement("h4",null,"Test Checkout")))):n.a.createElement("div",null),"paypal"===this.props.paymentMethod?n.a.createElement(ze,{placeOrder:this.placeOrder,amount:(.01*this.props.orderTotal).toFixed(2)}):n.a.createElement("div",null),"stripe"===this.props.paymentMethod?n.a.createElement("div",{style:{borderRadius:"3px",webkitBoxShadow:"0px 0 5px rgba(99, 99, 99, 0.842)"},className:"button-div"},n.a.createElement("button",{onClick:this.stripeCheckout,className:"btn btn-primary",style:{width:"100%"},form:"contactForm"},n.a.createElement("div",{className:"checkout-option-div"},n.a.createElement("div",null,n.a.createElement("img",{style:{marginTop:"2px",marginRight:"2px"},className:"checkout-option-img",src:"".concat("","/stripeIcon.png")}))))):n.a.createElement("div",null)))))),n.a.createElement("div",{class:"payment-bg-1"})))}}]),a}(n.a.Component),dt=Object(m.b)((function(e){return{userEmail:e.auth.currentShopper.email,cart_id:e.cart.cart_id,currentOrderId:e.order.current_order_id,cartItems:e.cart.cart_items,orderPayment:e.order.payment,orderTip:e.order.tip.amount?e.order.tip.amount:0,orderTax:e.order.tax,orderTotal:e.order.total,orderSubTotal:e.order.subtotal,paymentMethod:e.order.payment_method,orderAddress:e.order.address,orderDeliveryTime:e.order.delivery_time.time,orderDeliveryDate:e.order.delivery_time.date,orderNote:e.order.note,orderNumber:e.order.number,orderSubstitute:e.order.substitute.value}}),{processOrder:function(e,t,a,r){return Object(E.a)(v.a.mark((function n(){var o,c,s,i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=Object(h.a)(e),n.prev=1,o.s();case 3:if((c=o.n()).done){n.next=10;break}return s=c.value,i={order_id:a,item_id:s.attributes.item_id,quantity_num:s.attributes.quantity_num,status:"pending"},n.next=8,_.post("/order_items",{order_item:i});case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),o.e(n.t0);case 15:return n.prev=15,o.f(),n.finish(15);case 18:return n.next=20,_.patch("orders/".concat(a),r);case 20:return n.next=22,_.delete("/carts/".concat(t));case 22:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})))},stripePayment:function(e,t,a){return function(){var e=Object(E.a)(v.a.mark((function e(r){var n,o,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,_.post("/stripe_payments/checkout",{checkout_items:a});case 5:return o=e.sent,e.next=8,o.data;case 8:return c=e.sent,e.next=11,n.redirectToCheckout({sessionId:c.id});case 11:s=e.sent,console.log(s,"payment result!");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},checkoutOrder:R,dropCart:D})(mt),ht=Object(m.b)((function(e){return{orderInfo:e.order.order_info.payment_info}}),{getOrder:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("/orders/".concat(e));case 2:r=t.sent,n=parseInt(r.data.data.id),o=r.data.data.attributes,console.log(n,o),a({type:"GET_ORDER",payload:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){Object(r.useEffect)((function(){e.getOrder(e.match.params.order_id),console.log(e.match.params.order_id)}),[]);return n.a.createElement("div",{className:"App-margin"},n.a.createElement("h1",null,"Payment Details"),n.a.createElement("div",null,function(){if(!Object(H.isEmpty)(e.orderInfo))return n.a.createElement("div",null,n.a.createElement("h3",null,"Subtotal: $",(e.orderInfo.subtotal/100).toFixed(2)),n.a.createElement("h3",null,"Delivery: $",(e.orderInfo.payment/100).toFixed(2)),n.a.createElement("h3",null,"Tip: $",(e.orderInfo.tip/100).toFixed(2)),n.a.createElement("h3",null,"Total: $",(e.orderInfo.total/100).toFixed(2)))}()))})),bt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).editPage=function(t){e.props.history.push("/edit_shopper/".concat(t.target.value))},e}return Object(i.a)(a,[{key:"capitalize",value:function(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"renderAddress",value:function(){return"".concat(this.props.userInfo.address,", ").concat(this.props.userInfo.city,", ").concat(this.props.userInfo.state," ").concat(this.props.userInfo.zip_code)}},{key:"renderProfile",value:function(){var e=this;if(!Object(H.isEmpty)(this.props.currentShopper))return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("img",{class:"profilePageImage",src:this.props.userAuthPic})),n.a.createElement("div",{className:"segment"},n.a.createElement("button",{value:"image",onClick:function(t){return e.editPage(t)}},"Change")),n.a.createElement("h4",null,this.capitalize(this.props.userFirstName)+" "+this.capitalize(this.props.userLastName)),n.a.createElement("div",null,n.a.createElement("h4",null,"Age: ",this.props.userInfo.age)),n.a.createElement("div",null,n.a.createElement("h4",null,"Email: ",this.props.userEmail),n.a.createElement("div",{className:"segment"},n.a.createElement("button",{value:"email",onClick:function(t){return e.editPage(t)}},"Change"))),n.a.createElement("div",null,n.a.createElement("h4",null,"Phone: ",this.props.userInfo.phone),n.a.createElement("div",{className:"segment"},n.a.createElement("button",{value:"phone",onClick:function(t){return e.editPage(t)}},"Change"))),n.a.createElement("div",null,n.a.createElement("h4",null,"Address: ",this.renderAddress()),n.a.createElement("div",{className:"segment"},n.a.createElement("button",{value:"address",onClick:function(t){return e.editPage(t)}},"Change"))),n.a.createElement("div",null,n.a.createElement("h4",null,"Number of Orders")))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Profile Page"),n.a.createElement("div",{class:"container"},this.renderProfile()))}}]),a}(r.Component),vt=Object(m.b)((function(e){return{currentShopper:e.auth.currentShopper,userAuthId:e.auth.currentShopper.id,userAuthPic:e.auth.currentShopper.image,userFirstName:e.auth.currentShopper.first_name,userLastName:e.auth.currentShopper.last_name,userInfo:e.auth.currentShopper.shopper_info,userEmail:e.auth.currentShopper.email}}))(bt),Et=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onCategoryChange=function(t){console.log(t.target.value),e.setState({mountState:!1}),e.props.history.push("/products/".concat(t.target.value),{mountState:!0})},e.renderSideBar=function(t){return e.props.categories.map((function(e){return e.title===t?n.a.createElement("div",{class:"input-group-text category-radio"},n.a.createElement("input",{type:"radio",id:"".concat(e.name),name:"food-category",value:"".concat(e.name),"aria-label":"Meat/Seafood Input",checked:!0}),n.a.createElement("p",null,"".concat(e.title))):n.a.createElement("div",{class:"input-group-text category-radio"},n.a.createElement("input",{type:"radio",id:"".concat(e.name),name:"food-category",value:"".concat(e.name),"aria-label":"Meat/Seafood Input"}),n.a.createElement("p",null,"".concat(e.title)))}))},e.state={mountState:!0},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){this.state.mountState||this.setState({mountState:!0})}},{key:"render",value:function(){var e=this,t=this.props.categories.find((function(t){return t.name===e.props.match.params.category})).title;return n.a.createElement("div",{class:"products"},n.a.createElement("div",{class:"sidebar"},n.a.createElement("div",{class:"sidebar-menu"},n.a.createElement("h3",null,"Categories"),n.a.createElement("form",{id:"category-form",onChange:this.onCategoryChange},this.renderSideBar(t)))),n.a.createElement("div",{class:"content"},n.a.createElement("div",{class:"container-fluid justify-content-center"},n.a.createElement("h1",{class:"productsHeader"},t),n.a.createElement("div",{class:"row productsHeader"},n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("h2",null,this.props.selectedStore.attributes.name)),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement(ke,{history:this.props.history,onSearchSubmit:this.props.onSearchSubmit,onSearchChange:this.props.onSearchChange}))),this.state.mountState?n.a.createElement(Ne,{items:this.props.items}):n.a.createElement("div",null))))}}]),a}(r.Component),ft=Object(m.b)((function(e,t){return console.log(t),{categories:e.categories,items:e.items.itemsList.data.filter((function(e){return e.attributes.category===t.match.params.category})),item:e.items.selectedItem,selectedStore:e.stores.selectedStore}}))(Et),yt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderInput=function(e){var t=e.input,a=e.meta,r=e.label;return console.log(t),n.a.createElement("div",{class:"input-group"},n.a.createElement("label",null,r),n.a.createElement("input",t),n.a.createElement("div",null," ",a.error))},e.profileSubmit=function(t){var a={shopper_info:Object(Te.a)(Object(Te.a)({},t),{},{age:parseInt(t.age),shopper_id:e.props.shopperId})};e.props.createShopperProfile(a),e.props.history.push("/orderpage")},e}return Object(i.a)(a,[{key:"capitalize",value:function(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Welcome ",this.capitalize(this.props.shopperFirstName)),n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.profileSubmit)},n.a.createElement(me.a,{name:"age",component:this.renderInput,label:"Age"}),n.a.createElement(me.a,{name:"address",component:this.renderInput,label:"Address"}),n.a.createElement(me.a,{name:"city",component:this.renderInput,label:"City"}),n.a.createElement(me.a,{name:"state",component:this.renderInput,label:"State"}),n.a.createElement(me.a,{name:"zip_code",component:this.renderInput,label:"Zip Code"}),n.a.createElement(me.a,{name:"phone",component:this.renderInput,label:"Phone"}),n.a.createElement("button",{type:"submit",id:"button-addon1"},"Submit")))}}]),a}(n.a.Component),gt=Object(ne.a)({form:"profileForm",validate:function(e){var t={};return e.age||(t.age="Please enter an Item"),e.address||(t.address="Please enter an Item"),e.city||(t.city="Please enter an Item"),e.state||(t.state="Please enter an Item"),e.zip_code||(t.zip_code="Please enter an Item"),e.phone||(t.phone="Please enter an Item"),t}})(yt),Ot=Object(m.b)((function(e){return{shopperFirstName:e.auth.currentShopper.first_name,shopperId:e.auth.currentShopper.id}}),{createShopperProfile:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/shopper_infos/",e);case 2:r=t.sent,n=r.data,console.log(n),a({type:"PROFILE_INFO",payload:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(gt),_t=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(!!this.props.items.find((function(t){return t.attributes.name==e.props.match.params.item})))}},{key:"render",value:function(){var e=this,t=this.props.items.filter((function(t){return t.attributes.name.toLowerCase().includes(e.props.match.params.item)}));return n.a.createElement("div",{class:"content"},n.a.createElement("div",{class:"container-fluid justify-content-center"},n.a.createElement("h1",{class:"productsHeader"},"Search"),n.a.createElement("div",{class:"row productsHeader"},n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("h2",null,this.props.selectedStore.attributes.name)),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement(ke,{history:this.props.history}))),n.a.createElement("div",{className:"searchResult"},t.length>0?n.a.createElement(De,{items:t}):n.a.createElement("h1",null,"Sorry item doesn't exist!"))))}}]),a}(n.a.Component),jt=Object(m.b)((function(e){return{items:e.items.itemsList.data,selectedStore:e.stores.selectedStore}}))(_t),St=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header"},n.a.createElement("h5",{class:"modal-title",id:"ModalLabel"},this.props.name),n.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{class:"modal-body"},n.a.createElement("img",{style:{width:"100%"},src:"".concat(this.props.image)})))}}]),a}(n.a.Component),It=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).confirm=function(){var t=Object(E.a)(v.a.mark((function t(a,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Delete Order"!==a){t.next=4;break}return t.next=3,e.props.cancelOrder(r);case 3:window.location.reload();case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.confirm)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header"},n.a.createElement("h5",{class:"modal-title",id:"ModalLabel"},this.props.message),n.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{class:"modal-body"},n.a.createElement("p",null,this.props.message)),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{onClick:function(){return e.confirm(e.props.title,e.props.id)},type:"button",class:"btn btn-primary"},"Confirm"),n.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close")))}}]),a}(n.a.Component),kt=Object(m.b)(null,{cancelOrder:M})(It),wt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).type=e.props.submitType,e.renderInput=function(e){var t=e.input,a=e.meta,r=e.label;return n.a.createElement("div",{class:"form-group modal-form"},n.a.createElement("label",{style:{left:"0"}}," ",r),n.a.createElement("input",Object.assign({class:"form-control"},t)),n.a.createElement("div",null,a.error," "))},e.renderAddressSelect=function(e){var t=e.input,a=e.meta;return console.log(t),n.a.createElement("div",{class:"form-group modal-form"},n.a.createElement("label",{for:"inputState"},"State"),n.a.createElement("select",Object.assign({},t,{id:"inputState",class:"form-control"}),n.a.createElement("option",{value:"AL"},"Alabama"),n.a.createElement("option",{value:"AK"},"Alaska"),n.a.createElement("option",{value:"AZ"},"Arizona"),n.a.createElement("option",{value:"AR"},"Arkansas"),n.a.createElement("option",{value:"CA"},"California"),n.a.createElement("option",{value:"CO"},"Colorado"),n.a.createElement("option",{value:"CT"},"Connecticut"),n.a.createElement("option",{value:"DE"},"Delaware"),n.a.createElement("option",{value:"DC"},"District Of Columbia"),n.a.createElement("option",{value:"FL"},"Florida"),n.a.createElement("option",{value:"GA"},"Georgia"),n.a.createElement("option",{value:"HI"},"Hawaii"),n.a.createElement("option",{value:"ID"},"Idaho"),n.a.createElement("option",{value:"IL"},"Illinois"),n.a.createElement("option",{value:"IN"},"Indiana"),n.a.createElement("option",{value:"IA"},"Iowa"),n.a.createElement("option",{value:"KS"},"Kansas"),n.a.createElement("option",{value:"KY"},"Kentucky"),n.a.createElement("option",{value:"LA"},"Louisiana"),n.a.createElement("option",{value:"ME"},"Maine"),n.a.createElement("option",{value:"MD"},"Maryland"),n.a.createElement("option",{value:"MA"},"Massachusetts"),n.a.createElement("option",{value:"MI"},"Michigan"),n.a.createElement("option",{value:"MN"},"Minnesota"),n.a.createElement("option",{value:"MS"},"Mississippi"),n.a.createElement("option",{value:"MO"},"Missouri"),n.a.createElement("option",{value:"MT"},"Montana"),n.a.createElement("option",{value:"NE"},"Nebraska"),n.a.createElement("option",{value:"NV"},"Nevada"),n.a.createElement("option",{value:"NH"},"New Hampshire"),n.a.createElement("option",{value:"NJ"},"New Jersey"),n.a.createElement("option",{value:"NM"},"New Mexico"),n.a.createElement("option",{value:"NY"},"New York"),n.a.createElement("option",{value:"NC"},"North Carolina"),n.a.createElement("option",{value:"ND"},"North Dakota"),n.a.createElement("option",{value:"OH"},"Ohio"),n.a.createElement("option",{value:"OK"},"Oklahoma"),n.a.createElement("option",{value:"OR"},"Oregon"),n.a.createElement("option",{value:"PA"},"Pennsylvania"),n.a.createElement("option",{value:"RI"},"Rhode Island"),n.a.createElement("option",{value:"SC"},"South Carolina"),n.a.createElement("option",{value:"SD"},"South Dakota"),n.a.createElement("option",{value:"TN"},"Tennessee"),n.a.createElement("option",{value:"TX"},"Texas"),n.a.createElement("option",{value:"UT"},"Utah"),n.a.createElement("option",{value:"VT"},"Vermont"),n.a.createElement("option",{value:"VA"},"Virginia"),n.a.createElement("option",{value:"WA"},"Washington"),n.a.createElement("option",{value:"WV"},"West Virginia"),n.a.createElement("option",{value:"WI"},"Wisconsin"),n.a.createElement("option",{value:"WY"},"Wyoming")),n.a.createElement("div",null,a.error," "))},e.renderForm=function(){return"number"===e.type?n.a.createElement("form",{style:{width:"100%"},id:"modalSubmit",onSubmit:e.props.handleSubmit(e.submit)},n.a.createElement(me.a,{name:"number",component:e.renderInput,label:"Number"})):"address"===e.type?n.a.createElement("form",{style:{width:"100%"},id:"modalSubmit",onSubmit:e.props.handleSubmit(e.submit)},n.a.createElement(me.a,{name:"street",component:e.renderInput,label:"Street "}),n.a.createElement(me.a,{name:"city",component:e.renderInput,label:"City "}),n.a.createElement(me.a,{name:"state",component:e.renderAddressSelect,label:"State "}),n.a.createElement(me.a,{name:"zip_code",component:e.renderInput,label:"Zip Code "})):void 0},e.submit=function(t){return console.log(t),new Promise((function(a,r){var n=Ct(t,e.type);n?r(new Ze.a(n)):a(t)})).then((function(t){console.log(t),"number"===e.type?e.props.addShopperNumber(t):"address"===e.type&&e.props.addShopperAddress(t)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header"},n.a.createElement("h5",{class:"modal-title",id:"ModalLabel"},this.props.submit.title),n.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{class:"modal-body"},n.a.createElement("div",{class:"modal-form"},this.renderForm())),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{type:"submit",class:"btn btn-primary",form:"modalSubmit"},"Submit"),n.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close")))}}]),a}(n.a.Component),Ct=function(e,t){var a={};return console.log(e,t),"number"===t&&e.number&&10!==e.number.length&&(a.number="Please enter a valid number."),"address"===t&&(e.street||(a.street="Please enter a street."),e.city||(a.city="Please enter a city."),e.state||(a.state="Please enter a state."),e.zip_code||(a.zip_code="Please enter a zip code.")),a},Tt=Object(ne.a)({form:"modalSubmit",validate:Ct})(wt),xt=Object(m.b)((function(e){return{submitType:e.modals.submit.type}}),{addShopperAddress:F,addShopperNumber:z})(Tt),Dt=Object(m.b)(null,{clearModal:B})((function(e){var t=Object(r.useState)(n.a.createRef()),a=Object(K.a)(t,1)[0];Object(r.useEffect)((function(){console.log(e);var t=a.current;new MutationObserver((function(t,a){var r=t[0];console.log(r,e.history),"modal fade show"!==r.target.className&&e.clearModal()}),{root:null,rootMargin:"100px",threshold:0}).observe(t,{attributes:!0,attributeFilter:["class"]})}),[]);return n.a.createElement("div",{ref:a,class:"modal fade",id:"Modal",tabindex:"-1",role:"dialog","aria-labelledby":"ModalLabel","aria-hidden":"true"},n.a.createElement("div",{class:"modal-dialog modal-dialog-centered",role:"document"},function(){if(e.modal.item_pic||e.modal.confirm||e.modal.submit){if(e.modal.item_pic){var t=e.modal.item_pic.data.attributes;return n.a.createElement(St,{name:t.name,image:t.image})}return e.modal.confirm?n.a.createElement(kt,{id:e.modal.confirm.id,title:e.modal.confirm.title,message:e.modal.confirm.message}):e.modal.submit?n.a.createElement(xt,null):void 0}}()))})),At=Object(m.b)(null,{clearItem:k})((function(e){return n.a.createElement("div",{className:"row orderItem"},n.a.createElement("div",{class:"orderItem-pic"},n.a.createElement("h3",null,e.name),n.a.createElement(te,{image:e.image,item_id:e.item_id})),n.a.createElement("div",null,n.a.createElement("h3",null,"Quantity: ",e.count," ",e.count>1?"".concat(e.units,"s"):"".concat(e.units)),n.a.createElement("h3",null,"Price: $",(e.price*e.count*.01).toFixed(2)),n.a.createElement("button",{onClick:function(){return e.clearItem(),void e.history.push("/item_details/".concat(e.item_id))}},"Item Details")))})),Nt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.orderItems),console.log(this.props.order),this.props.getOrderItems(this.props.match.params.order_id)}},{key:"renderItems",value:function(){var e=this;return this.props.orderItems.map((function(t){var a=t.attributes;return n.a.createElement(At,{history:e.props.history,price:a.item.price,image:a.item.image,count:a.quantity_num,units:a.item.quantity_unit,name:a.item.name,item_id:a.item.id})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App-margin"},n.a.createElement("h1",null,"Order Items"),this.renderItems())}}]),a}(n.a.Component),Rt=Object(m.b)((function(e){return{orderItems:e.order.order_items,order:e.order}}),{getOrderItems:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get("order_items?order_id=".concat(e));case 2:r=t.sent,console.log(r.data),a({type:"GET_ORDER_ITEMS",payload:r.data.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Nt),Mt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getStores(),this.props.getItems(1),this.props.clearModal(),console.log(this.props.items)}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement(V,{history:this.props.history}),n.a.createElement(Dt,{history:this.props.history,modal:this.props.modal}),n.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return n.a.createElement(Q,e)}}),n.a.createElement(p.a,{exact:!0,path:"/order_history",render:function(e){return n.a.createElement(Le,e)}}),n.a.createElement(p.a,{exact:!0,path:"/active_orders",render:function(e){return n.a.createElement(pe,e)}}),n.a.createElement(p.a,{exact:!0,path:"/about",render:function(e){return n.a.createElement(ee,e)}}),n.a.createElement(p.a,{exact:!0,path:"/cart",render:function(e){return n.a.createElement(se,e)}}),n.a.createElement(p.a,{exact:!0,path:"/edit_shopper/:section",render:function(e){return n.a.createElement(be,e)}}),n.a.createElement(p.a,{exact:!0,path:"/item_details/:item_id",render:function(e){return n.a.createElement(Ee,e)}}),n.a.createElement(p.a,{exact:!0,path:"/map_page",render:function(e){return n.a.createElement(Oe,e)}}),n.a.createElement(p.a,{exact:!0,path:"/orderpage",render:function(e){return n.a.createElement(Me,e)}}),n.a.createElement(p.a,{exact:!0,path:"/profile",render:function(e){return n.a.createElement(vt,e)}}),n.a.createElement(p.a,{exact:!0,path:"/profile_signup",render:function(e){return n.a.createElement(Ot,e)}}),n.a.createElement(p.a,{exact:!0,path:"/products/:category",render:function(e){return n.a.createElement(ft,e)}}),n.a.createElement(p.a,{exact:!0,path:"/payment/:status",render:function(e){return n.a.createElement(dt,e)}}),n.a.createElement(p.a,{exact:!0,path:"/payment_details/:order_id",render:function(e){return n.a.createElement(ht,e)}}),n.a.createElement(p.a,{exact:!0,path:"/search/:item",render:function(e){return n.a.createElement(jt,e)}}),n.a.createElement(p.a,{exact:!0,path:"/view_order_items/:order_id",render:function(e){return n.a.createElement(Rt,e)}})),n.a.createElement("div",{class:"content-wrap"}),n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{class:"footer-curve"}),n.a.createElement("div",{class:"footer-div"},n.a.createElement("div",{className:"row footer-row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"footer-logo"},n.a.createElement("img",{class:"footer-icon",src:"/bread_basket_icon.jpg"}),n.a.createElement("h3",null,"BreadBasket"))),n.a.createElement("div",{className:"col-6"},n.a.createElement("h5",null,"\xa9 2020 BreadBasket"),n.a.createElement("h5",null,"Allen Shin"))))))}}]),a}(r.Component),Pt=Object(m.b)((function(e){return{shopperId:e.auth.currentShopper.id,selectedStore:e.stores.selectedStore,modal:e.modals}}),{getStores:function(){return function(){var e=Object(E.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/stores");case 2:a=e.sent,r=a.data.data.find((function(e){return 1==e.id})),console.log(r),t({type:"GET_STORES",payload:{stores:a.data.data,store:r}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getCategories:I,signOut:P,getActiveOrders:N,getItems:C,selectStore:S,clearModal:B})(Mt),Lt=a(130),Bt=a(62),Ft=a(14),zt=a(131),Ut={signedIn:null,currentShopper:{shopper_info:{}}},Gt={itemsList:[],selectedItem:null},Ht={submit:null,confirm:null,item_pic:null},qt={storesList:[],selectedStore:null,coords:{}},Yt=a(86),Wt={cart_id:null,cart_items:{},item_ids:[],subtotal:0,delivery:0,tip:0},$t={current_order_id:null,active_orders:[],completed_orders:[],order_items:[],order_info:{},subtotal:null,payment:null,tax:null,tip:null,total:null,delivery_time:null,complete_time:null,substitute:null,note:null,payment_method:null,address:null,number:null},Vt=a(286),Kt=a(132),Zt={key:"root",storage:a.n(Kt).a,whitelist:["auth","items","categories","stores","cart","order","modals"]},Jt=Object(Ft.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;return"GET_ITEMS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{itemsList:t.payload}):"GET_ITEM"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{selectedItem:t.payload}):"CLEAR_ITEM"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{selectedItem:null}):e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(Te.a)(Object(Te.a)({},e),{},{signedIn:!0,currentShopper:t.payload});case"SIGN_OUT":return Object(Te.a)(Object(Te.a)({},e),{},{signedIn:!1,currentShopper:{}});case"PROFILE_INFO":return Object(Te.a)(Object(Te.a)({},e),{},{currentShopper:Object(Te.a)(Object(Te.a)({},e.currentShopper),{},{shopper_info:t.payload})});case"EDIT_SHOPPER":return Object(Te.a)(Object(Te.a)({},e),{},{currentShopper:t.payload});case"EDIT_PROFILE":return Object(Te.a)(Object(Te.a)({},e),{},{currentShopper:Object(Te.a)(Object(Te.a)({},e.currentShopper),{},{shopper_info:t.payload})});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_CATEGORIES"===t.type?t.payload:e},stores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;return"GET_STORES"===t.type?{storesList:t.payload.stores,selectedStore:t.payload.store}:"SELECT_STORE"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{selectedStore:t.payload}):"STORE_COORDS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{store_coords:t.payload}):"USER_COORDS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{user_coords:t.payload}):e},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;return"ITEM_PIC_MODAL"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{item_pic:t.payload}):"CLEAR_ITEM_PIC"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{item_pic:null}):"CANCEL_ORDER_MODAL"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{confirm:{title:"Delete Order",message:"Are you sure you want to cancel this order?",id:t.payload}}):"ADDRESS_MODAL"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{submit:{title:"Add Address",type:"address"}}):"NUMBER_MODAL"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{submit:{title:"Add Number",type:"number"}}):"CLEAR_MODAL"===t.type?{submit:null,confirm:null,item_pic:null}:e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;return"START_CART"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_id:t.payload.data.attributes.id}):"GET_CART"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_items:Object(Te.a)(Object(Te.a)({},e.cart_items),q.a.mapKeys(t.payload,"id")),item_ids:t.payload.map((function(e){return e.attributes.item_id}))}):"DROP_CART"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_items:{},item_ids:[]}):"CHANGE_STORE"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_id:t.payload.id,cart_items:t.payload.cartItems}):"ADD_CART_ITEM"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_items:Object(Te.a)(Object(Te.a)({},e.cart_items),{},Object(tt.a)({},t.payload.id,t.payload.cart_item)),item_ids:[].concat(Object(Yt.a)(e.item_ids),[[t.payload.item_id,t.payload.id]])}):"DROP_CART_ITEM"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_items:q.a.omit(e.cart_items,t.payload.cart_item_id),item_ids:Object(Yt.a)(e.item_ids.filter((function(e){return e[0]!==t.payload.item_id})))}):"CHANGE_COUNT_CART_ITEM"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{cart_items:Object(Te.a)(Object(Te.a)({},e.cart_items),{},Object(tt.a)({},t.payload.cartItemId,Object(Te.a)(Object(Te.a)({},e.cart_items[t.payload.cartItemId]),{},{attributes:Object(Te.a)(Object(Te.a)({},e.cart_items[t.payload.cartItemId].attributes),{},{quantity_num:t.payload.count})})))}):e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;return"PRE_ORDER"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{current_order_id:t.payload.id,subtotal:parseInt(t.payload.order.subtotal),payment:parseInt(t.payload.order.payment),tax:parseInt(t.payload.order.tax),total:parseInt(t.payload.order.total)}):"UPDATE_ORDER_NUMBER"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{number:t.payload}):"UPDATE_ORDER_ADDRESS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{address:t.payload}):"UPDATE_ORDER_TIP"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{tip:t.payload}):"UPDATE_ORDER_DELIVERY_TIME"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{delivery_time:t.payload}):"UPDATE_ORDER_SUBSTITUTE"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{substitute:t.payload}):"UPDATE_ORDER_DELIVERY_NOTE"===t.type?(console.log(t.payload),Object(Te.a)(Object(Te.a)({},e),{},{note:t.payload})):"UPDATE_ORDER_PAYMENT_METHOD"===t.type?(console.log(t.payload),Object(Te.a)(Object(Te.a)({},e),{},{payment_method:t.payload})):"CHECKOUT_ORDER"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{current_order_id:null}):"CANCEL_ORDER"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{active_orders:e.active_orders.filter((function(e){return e.id!==t.payload}))}):"GET_ACTIVE_ORDERS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{active_orders:t.payload}):"GET_COMPLETED_ORDERS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{completed_orders:t.payload}):"GET_ORDER_ITEMS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{order_items:t.payload}):"CLEAR_ORDER_ITEMS"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{order_items:[]}):"GET_ORDER"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{order_info:Object(Te.a)(Object(Te.a)({},e.order_info),{},{payment_info:{subtotal:parseInt(t.payload.subtotal),payment:parseInt(t.payload.payment),tip:parseInt(t.payload.tip),total:parseInt(t.payload.total)}})}):"CLEAR_ORDER"===t.type?Object(Te.a)(Object(Te.a)({},e),{},{order_info:{}}):e},form:Vt.a}),Qt=Object(Bt.a)(Zt,Jt),Xt=Object(Ft.d)(Qt,Object(Ft.a)(zt.a)),ea=Object(Bt.b)(Xt),ta=a(133),aa=Object(ta.a)();c.a.render(n.a.createElement(m.a,{store:Xt},n.a.createElement(d.a,{history:aa},n.a.createElement(Lt.a,{persistor:ea},n.a.createElement(Pt,{history:aa})))),document.querySelector("#root"))},88:function(e,t,a){}},[[134,1,2]]]);
//# sourceMappingURL=main.a7c75c75.chunk.js.map