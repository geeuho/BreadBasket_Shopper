{"version":3,"sources":["services/Rails.js","categories.js","actions/index.js","components/GoogleAuth.js","containers/NavBar.js","components/HomeSection.js","pages/Home.js","pages/About.js","components/ItemPic.js","components/CartItem.js","pages/Cart.js","components/OrderSection.js","pages/ActiveOrders.js","pages/EditShopper.js","pages/ItemDetails.js","components/MapContainer.js","pages/MapPage.js","components/StoreDropdown.js","components/Searchbar.js","components/CategoryLink.js","containers/FoodCategoryNav.js","components/ItemCard.js","containers/FoodList.js","containers/FoodListCarousel.js","pages/OrderPage.js","pages/OrderHistory.js","components/PayPalButton.js","components/buttons/AddRowButton.js","components/buttons/CheckoutRowButton.js","components/checkout_options/Address.js","components/checkout_options/CheckoutPayment.js","components/checkout_options/Contact.js","components/checkout_options/DeliveryNote.js","components/buttons/CheckoutColumnButton.js","components/checkout_options/DeliveryTime.js","components/checkout_options/Substitute.js","components/checkout_options/Tip.js","components/PaymentOption.js","containers/PaymentOptions.js","pages/Payment.js","pages/PaymentDetails.js","pages/Profile.js","pages/Products.js","pages/ProfileSignup.js","pages/SearchPage.js","components/modals/ItemModal.js","components/modals/ConfirmModal.js","components/modals/SubmitModal.js","components/Modal.js","components/OrderItem.js","pages/ViewOrderItems.js","App.js","reducers/authReducer.js","reducers/itemsReducer.js","reducers/modalsReducer.js","reducers/storesReducer.js","reducers/cartReducer.js","reducers/orderReducer.js","reducers/index.js","reducers/categoriesReducer.js","store.js","index.js"],"names":["shopperToken","localStorage","getItem","headers","Accepts","axios","create","baseURL","title","name","selectStore","store","type","payload","getCategories","store_id","categories","clearItem","item_id","dispatch","a","rails","get","response","console","log","data","getItems","getCart","cart_id","startCart","cartInfo","post","cart","attributes","setItem","jwt","dropCart","cartId","delete","removeCartItem","cartItemId","itemId","cart_item_id","getActiveOrders","shopperId","checkoutOrder","cancelOrder","id","signOut","removeItem","storeCoords","coords","clearModal","addShopperAddress","form","addShopperNumber","number","GoogleAuth","authChange","userStatus","user","auth","currentUser","getBasicProfile","userInfo","email","getEmail","first_name","getGivenName","last_name","getFamilyName","image","getImageUrl","props","signIn","shopper_id","renderAuthButton","signedIn","class","to","onClick","width","height","viewBox","fill","xmlns","fill-rule","d","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","isSignedIn","listen","prevState","this","React","Component","connect","state","currentShopper","shopperInfo","shopper_info","shopper","phones","map","addresses","address","street","city","zip_code","Navbar","renderUser","alt","src","userAuthPic","activeOrders","length","cart_length","isEmpty","cartItems","Object","keys","style","left","bottom","top","right","count","effect","Effect","SCALE","history","order","active_orders","cart_items","HomeSection","useState","createRef","ref","useEffect","selectedSection","current","IntersectionObserver","entries","observer","entry","isIntersecting","target","classList","add","unobserve","root","rootMargin","threshold","observe","children","Home","className","About","users","itemPicModal","Fragment","cursor","display","data-toggle","data-target","CartItem","newCount","cartItemCount","push","unit","price","toFixed","marginRight","changeCount","marginLeft","itemDetailsNav","Cart","cartItemsArray","key","cart_item","item_attribute","item","quantity_num","quantity_unit","subtotal","reduce","sum","payment","tax","total","onSubmit","handleSubmit","formValues","currentOrderId","alert","orderInfo","storeId","status","updatePreOrder","preOrder","renderCart","renderCartTotal","formWrapped","reduxForm","stores","selectedStore","current_order_id","item_ids","parseInt","orderData","orderId","patch","OrderSection","clearOrderItems","clearOrder","position","paymentDetails","paymentText","viewOrderItems","orderButtonTxt","cancelOrderModal","ActiveOrders","renderOrders","storesList","EditShopper","renderInput","input","meta","label","error","toProfile","replace","submitForm","infoId","editShopper","phone","editShopperProfile","match","params","section","Field","component","renderForm","validate","ItemDetails","renderDetail","items","selectedItem","MapContainer","mapStyles","onHover","store_coords","google","zoom","initialCenter","user_coords","store_name","GoogleApiWrapper","apiKey","LoadingContainer","MapPage","toOrderPage","StoreDropdown","getAddress","store_params","location","results","geometry","storeOptions","value","e","find","aria-haspopup","aria-expanded","aria-labelledby","split","join","Searchbar","for","searchSubmit","searchItem","Category","data-category","FoodCategories","category","CategoryLink","cart_item_ids","addCartItem","cartItemInfo","buttonToggle","toggle","button","mouseOverFxn","process","remove","mouseOutFxn","addEventListener","removeEventListener","fontSize","preventDefault","cartItem","FoodList","itemCards","FoodListCarousel","splitItems","start","end","currentItems","slice","arrowStyles","zIndex","outline","background","border","color","dyanamicHeight","statusFormatter","renderArrowPrev","onClickHandler","hasPrev","renderArrowNext","hasNext","OrderPage","navigator","geolocation","getCurrentPosition","success","bind","pos","crd","lat","latitude","lng","longitude","userCoords","err","warn","code","message","borderRadius","logo","FoodCategoryNav","filter","itemsList","OrderHistory","getCompletedOrders","completedOrders","completed_orders","PaypalButton","amount","onSuccess","details","pushState","go","catchError","options","AddRowButton","numberModal","text","CheckoutRowButton","renderButtonContent","btnClass","checked","selectOption","webkitBoxShadow","Address","renderAddresses","joinedAddress","imgClass","setState","currentTarget","updateOrderAddress","addAddress","addressModal","CheckoutPayment","selectOrderPayment","method","Contact","renderContacts","numbers","contact","updateOrderNumber","addContact","areaCode","number1","number2","DeliveryNote","renderTextArea","rows","placeholder","Promise","resolve","reject","errors","empty","SubmissionError","updateDeliveryNote","delivery_note","showBottomToggle","float","note","CheckoutColumnButton","selected","toString","DeliveryTime","dayDisplay","day","renderDates","today","Date","result","i","dd","String","getDate","padStart","mm","getMonth","getDay","currentDay","selectedDay","selectDate","renderTimes","times","time","getHours","index","selectedTime","selectTime","date","innerHTML","month","currentDate","delivery_time","updateOrderDeliveryTime","marginTop","otherSelect","submitOther","Substitute","substitute","updateOrderSubstitute","Tip","tip","currentTotal","updateOrderTip","selectOther","aria-describedby","PaymentOption","showBottomEdit","renderSelect","selectType","renderBottomOption","userNumbers","userAddresses","bottomContent","PaymentOptions","currentShopperContacts","currentShopperAddresses","renderTip","chosenTip","quote","content","align","fontStyle","chosenPhone","chosenAddress","chosenDeliveryDay","chosenDeliveryTime","chosenDeliveryDate","chosenSubstitute","chosenDeliveryNote","phrase","stripePromise","loadStripe","Payment","placeOrder","loading","processOrder","orderAddress","orderDeliveryTime","delivery_date","orderDeliveryDate","orderNote","orderNumber","orderSubstitute","orderTotal","orderTip","stripeCheckout","checkoutItems","checkoutItem","price_data","currency","product_data","unit_amount","quantity","stripePayment","onPaymentChange","paymentOption","orderTax","orderSubTotal","orderPayment","currentURL","href","successParam","justifyContent","backgroundColor","margin","padding","paymentMethod","PayPalButton","userEmail","payment_method","orderItemInfo","order_id","order_item","event","stripe","session","redirectToCheckout","sessionId","order_info","payment_info","getOrder","renderPaymentInfo","Profile","editPage","word","charAt","toUpperCase","capitalize","userFirstName","userLastName","age","renderAddress","renderProfile","userAuthId","Products","onCategoryChange","mountState","renderSideBar","categoryTitle","aria-label","onChange","marginBottom","onSearchSubmit","onSearchChange","ownProps","ProfileSignup","profileSubmit","createShopperProfile","shopperFirstName","SearchPage","filteredItems","toLowerCase","includes","ItemModal","data-dismiss","aria-hidden","ConfirmModal","confirm","reload","SubmitModal","submitType","renderAddressSelect","submit","phoneable_type","phoneable_id","addressable_type","addressable_id","modals","selectedDiv","MutationObserver","mutationList","mutation","attributeFilter","tabindex","role","modal","item_pic","renderContent","units","ViewOrderItems","orderItems","getOrderItems","renderItems","order_items","App","getStores","NavBar","exact","path","render","INTIAL_STATE","INITIAL_STATE","delivery","complete_time","persistConfig","storage","whitelist","reducer","combineReducers","action","current_shopper","_","mapKeys","omit","formReducer","persistReducer","createStore","reducers","applyMiddleware","thunk","persistor","persistStore","createBrowserHistory","ReactDOM","basename","document","querySelector"],"mappings":"mVAEIA,EAAeC,aAAaC,QAAQ,iBAGlCC,GAFUF,aAAaC,QAAQ,cAErB,CACZ,eAAgB,mBAChBE,QAAS,mBACT,8BAA+B,IAC/B,cAAiBJ,IAGNK,MAAMC,OAAO,CACxBC,QAAS,6CACTJ,QAASA,ICdE,GACX,CACI,CACIK,MAAO,eACPC,KAAM,SAEV,CACID,MAAO,UACPC,KAAM,WAEV,CACID,MAAO,QACPC,KAAM,SAEV,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,YACPC,KAAM,cAGd,CACI,CACID,MAAO,kBACPC,KAAM,iBAEV,CACID,MAAO,UACPC,KAAM,WAEV,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,QACPC,KAAM,SAEV,CACID,MAAO,UACPC,KAAM,WAEV,CACID,MAAO,eACPC,KAAM,cAEV,CACID,MAAO,eACPC,KAAM,cAEV,CACID,MAAO,SACPC,KAAM,WAGd,CACI,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,UACPC,KAAM,WAEV,CACID,MAAO,WACPC,KAAM,YAEV,CACID,MAAO,kBACPC,KAAM,iBAEV,CACID,MAAO,OACPC,KAAM,QAEV,CACID,MAAO,gBACPC,KAAM,iBAGd,CACI,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,QACPC,KAAM,SAEV,CACID,MAAO,OACPC,KAAM,QAEV,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,eACPC,KAAM,gBAEV,CACID,MAAO,SACPC,KAAM,WAGd,CACI,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,eACPC,KAAM,eAEV,CACID,MAAO,eACPC,KAAM,cAEV,CACID,MAAO,SACPC,KAAM,UAEV,CACID,MAAO,YACPC,KAAM,aAEV,CACID,MAAO,e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","file":"static/js/main.1fd6a4cc.chunk.js","sourcesContent":["import axios from 'axios'\n\nlet shopperToken = localStorage.getItem('shopper_token')\nlet cartToken = localStorage.getItem('cart_token')\n\nconst headers = {\n    'Content-Type': 'application/json',\n    Accepts: 'application/json',\n    'Access-Control-Allow-Origin': '*',\n    \"Authorization\": shopperToken\n}\n\nexport default axios.create({\n    baseURL: 'https://bread-basket-backend.herokuapp.com',\n    headers: headers \n})\n\n// baseURL: 'https://bread-basket-backend.herokuapp.com',","export default [\n    [\n        {\n            title: \"Meat/Seafood\",\n            name: \"meats\"\n        },\n        {\n            title: \"Produce\",\n            name: \"produce\"\n        },\n        {\n            title: \"Dairy\",\n            name: \"dairy\"\n        },\n        {\n            title: \"Bakery\",\n            name: \"bakery\"\n        },\n        {\n            title: \"Snacks\",\n            name: \"snacks\"\n        },\n        {\n            title: \"Beverages\",\n            name: \"beverages\"\n        },\n        {\n            title: \"Frozen\",\n            name: \"frozen\"\n        },\n        {\n            title: \"Household\",\n            name: \"household\"\n        }\n    ],\n    [\n        {\n            title: \"Paper & Plastic\",\n            name: \"papernplastic\"\n        },\n        {\n            title: \"Produce\",\n            name: \"produce\"\n        },\n        {\n            title: \"Bakery\",\n            name: \"bakery\"\n        },\n        {\n            title: \"Meats\",\n            name: \"meats\"\n        },\n        {\n            title: \"Seafood\",\n            name: \"seafood\"\n        },\n        {\n            title: \"Dairy & Eggs\",\n            name: \"dairyneggs\"\n        },\n        {\n            title: \"Pantry & Dry\",\n            name: \"pantryndry\"\n        },\n        {\n            title: \"Snacks\",\n            name: \"snacks\"\n        }\n    ],\n    [\n        {\n            title: \"Beauty\",\n            name: \"beauty\"\n        },\n        {\n            title: \"Household\",\n            name: \"household\"\n        },\n        {\n            title: \"Grocery\",\n            name: \"grocery\"\n        },\n        {\n            title: \"Medicine\",\n            name: \"medicine\"\n        },\n        {\n            title: \"School & Office\",\n            name: \"schoolnoffice\"\n        },\n        {\n            title: \"Diet\",\n            name: \"diet\"\n        },\n        {\n            title: \"Personal Care\",\n            name: \"personalcare\"\n        }\n    ],\n    [\n        {\n            title: \"Bakery\",\n            name: \"bakery\"\n        },\n        {\n            title: \"Beverages\",\n            name: \"beverages\"\n        },\n        {\n            title: \"Dairy\",\n            name: \"dairy\"\n        },\n        {\n            title: \"Deli\",\n            name: \"deli\"\n        },\n        {\n            title: \"Frozen\",\n            name: \"frozen\"\n        },\n        {\n            title: \"Household\",\n            name: \"household\"\n        },\n        {\n            title: \"Meat/Seafood\",\n            name: \"meatnseafood\"\n        },\n        {\n            title: \"Snacks\",\n            name: \"snacks\"\n        }\n    ],\n    [\n        {\n            title: \"Beverages\",\n            name: \"beverages\"\n        },\n        {\n            title: \"Breakfast\",\n            name: \"breakfast\"\n        },\n        {\n            title: \"Canned Goods\",\n            name: \"cannedgoods\"\n        },\n        {\n            title: \"Dairy & Eggs\",\n            name: \"dairyneggs\"\n        },\n        {\n            title: \"Frozen\",\n            name: \"frozen\"\n        },\n        {\n            title: \"Household\",\n            name: \"household\"\n        },\n        {\n            title: \"Meat/Seafood\",\n            name: \"meatnseafood\"\n        },\n        {\n            title: \"Produce\",\n            name: \"produce\"\n        },\n        {\n            title: \"Snacks\",\n            name: \"snacks\"\n        }\n    ]\n]","import rails from '../services/Rails'\nimport categories from '../categories'\n\n//STORE ACTIONS\nexport const getStores = () => async dispatch => {\n    const response = await rails.get(`/stores`)\n    let store = response.data.data.find(store => store.id == 1)\n    console.log(store)\n    dispatch({ type: 'GET_STORES', payload: {\n        stores: response.data.data,\n        store: store\n    }})\n}\n\nexport const selectStore = (store) => {\n    return ({\n        type: 'SELECT_STORE',\n        payload: store\n    })\n}\n\n//CATEGORY ACTIONS\n\nexport const getCategories = (store_id) => {\n    return {\n        type: 'GET_CATEGORIES',\n        payload: categories[store_id]\n    }\n}\n\n//ITEM ACTIONS\n\nexport const clearItem = () => {\n    return ({\n        type: 'CLEAR_ITEM'\n    })\n}\n\nexport const getItem = (item_id) => async dispatch => {\n    const response = await rails.get(`/items/${item_id}`)\n    console.log(response.data, \"items\")\n    dispatch({ type: 'GET_ITEM', payload: response.data })\n}\n\nexport const clearItemPic = () => {\n    return ({\n        type: 'CLEAR_ITEM_PIC'\n    })\n}\n\nexport const getItems = (store_id) => async dispatch => {\n    const response = await rails.get(`/items?store_id=${store_id}`)\n    console.log(response.data, \"items\")\n    dispatch({type: 'GET_ITEMS', payload: response.data})\n}\n\n\n//CART ACTIONS\n\nexport const getCart = (cart_id) => async dispatch => {\n    const response = await rails.get(`/cart_items?cart_id=${cart_id}`)\n    let data = response.data\n    console.log(data.data)\n    dispatch({type: \"GET_CART\", payload: data.data})\n}\n\nexport const startCart = cartInfo => async dispatch => {\n    const response = await rails.post('/carts', {cart: cartInfo})\n    let data = response.data\n    console.log(data.cart.data.attributes, 'cart')\n    localStorage.setItem('cart_token', data.jwt)\n    dispatch({ type: 'START_CART', payload: data.cart})\n}\n\nexport const dropCart = cartId => async dispatch => {\n    const response = await rails.delete(`/carts/${cartId}`)\n    dispatch ({\n        type: 'DROP_CART'\n    })\n}\n\n//CART ITEM ACTIONS\n\nexport const addCartItem = cartItemInfo => async dispatch => {\n    console.log(cartItemInfo)\n    const response = await rails.post('/cart_items', {cart_item: cartItemInfo})\n    let data = response.data\n    console.log(data.data, 'cart_item added')\n    dispatch({ type: \"ADD_CART_ITEM\", \n                payload: { \n                    id: data.data.id,\n                    cart_item: data.data,\n                    item_id: data.data.attributes.item_id\n                }\n            })\n}\n\nexport const removeCartItem = (cartItemId, itemId) => async dispatch => {\n    const response = await rails.delete(`/cart_items/${cartItemId}`)\n    let data = response.data \n    console.log(data)\n    dispatch({type: \"DROP_CART_ITEM\", \n        payload: {\n            cart_item_id: cartItemId,\n            item_id: itemId\n        }\n    })\n}\n\nexport const cartItemCount = (newCount, cartItemId) => {\n    console.log(newCount, cartItemId)\n    return ({\n        type: \"CHANGE_COUNT_CART_ITEM\",\n        payload: { count: newCount, cartItemId: cartItemId }\n    })\n}\n\n//ORDER ACTIONS\n\nexport const getOrder = orderId => async dispatch => {\n    const response = await rails.get(`/orders/${orderId}`)\n    let id = parseInt(response.data.data.id)\n    let orderData = response.data.data.attributes\n    console.log(id, orderData)\n    dispatch({\n        type: \"GET_ORDER\", payload: orderData\n    })\n}\n\nexport const clearOrder = () => {\n    return({\n        type: \"CLEAR_ORDER\"\n    })\n}\n\nexport const preOrder = orderInfo => async dispatch => {\n    const response = await rails.post(`/orders`, {order: orderInfo})\n    let id = parseInt(response.data.data.id)\n    let orderData = response.data.data.attributes\n    console.log(response)\n    dispatch({type: \"PRE_ORDER\", payload: {\n            id: id,\n            order: orderData\n        } \n    })\n}\n\nexport const updatePreOrder = (orderId, orderInfo) => async dispatch => {\n    console.log(orderId)\n    const response = await rails.patch(`/orders/${orderId}`, {order: orderInfo})\n    console.log(response.data)\n    let id = parseInt(response.data.data.id)\n    let orderData = response.data.data.attributes\n    dispatch({\n        type: \"PRE_ORDER\", payload: {\n            id: id,\n            order: orderData\n        }\n    })\n}\n\nexport const getActiveOrders = shopperId => async dispatch => {\n    const response = await rails.get(`/orders?shopper_id=${shopperId}&status=active`)\n    let data = response.data.data\n    dispatch({type: \"GET_ACTIVE_ORDERS\", payload: data})\n}\n\nexport const getCompletedOrders = shopperId => async dispatch => {\n    const response = await rails.get(`/orders?shopper_id=${shopperId}&status=completed`)\n    let data = response.data.data\n    dispatch({ type: \"GET_COMPLETED_ORDERS\", payload: data })\n}\n\nexport const processOrder = (cartItems, cartId, orderId, orderInfo) => async() => {\n    for (const cartItem of cartItems) {\n        let orderItemInfo = {\n            order_id: orderId,\n            item_id: cartItem.attributes.item_id,\n            quantity_num: cartItem.attributes.quantity_num,\n            status: \"pending\"\n        }\n        await rails.post(`/order_items`, { order_item: orderItemInfo })\n    }\n    await rails.patch(`orders/${orderId}`, orderInfo)\n    await rails.delete(`/carts/${cartId}`)\n} \n\nexport const checkoutOrder = () => {\n    return ({\n        type: \"CHECKOUT_ORDER\"\n    })\n}\n\nexport const changeOrderStatus = (id, status) => async dispatch => {\n    const response = await rails.patch(`orders/${id}`, status)\n    console.log(response.data)\n}\n\nexport const addOrderItem = orderItemInfo => async dispatch => {\n    const response = await rails.post(`/order_items`, {order_item: orderItemInfo})\n    let data = response.data\n    console.log(data)\n}\n\nexport const removeOrderItem = orderItemId => async dispatch => {\n    const response = await rails.delete(`/order_items/${orderItemId}`)\n    let data = response.data\n    console.log(data)\n}\n\nexport const cancelOrder = (id) => async dispatch => {\n    const response = await rails.delete(`/orders/${id}`)\n    console.log(response.data)\n    dispatch({ type: \"CANCEL_ORDER\", payload: id })\n}\n\nexport const getOrderItems = (order_id) => async dispatch => {\n    const response = await rails.get(`order_items?order_id=${order_id}`)\n    console.log(response.data)\n    dispatch({type: \"GET_ORDER_ITEMS\", payload: response.data.data})\n}\n\nexport const clearOrderItems = () => {\n    return({\n        type: \"CLEAR_ORDER_ITEMS\"\n    })\n}\n\nexport const updateOrderAddress = (address) => {\n    console.log('update address', address)\n    return ({\n        type: \"UPDATE_ORDER_ADDRESS\",\n        payload: address\n    })\n}\n\nexport const updateOrderNumber = (number) => {\n    return ({\n        type: \"UPDATE_ORDER_NUMBER\",\n        payload: number\n    })\n}\n\nexport const updateOrderTip = (tip) => {\n    return({\n        type: \"UPDATE_ORDER_TIP\",\n        payload: tip\n    })\n}\n\nexport const updateOrderDeliveryTime = (delivery_time) => {\n    return({\n        type: \"UPDATE_ORDER_DELIVERY_TIME\",\n        payload: delivery_time\n    })\n}\n\nexport const updateOrderSubstitute = (substitute) => {\n    return({\n        type: \"UPDATE_ORDER_SUBSTITUTE\",\n        payload: substitute\n    })\n}\n\nexport const updateDeliveryNote = (note) => {\n    console.log(note)\n    return({\n        type: \"UPDATE_ORDER_DELIVERY_NOTE\",\n        payload: note\n    })\n}\n\nexport const selectOrderPayment = (method) => {\n    return({\n        type: \"UPDATE_ORDER_PAYMENT_METHOD\",\n        payload: method.currentTarget.value\n    })\n}\n\n//AUTH ACTIONS\n\nexport const getCurrentUser = (shopperId) => async dispatch => {\n    const response = await rails.get(`/shoppers/${shopperId}`)\n    let data = response.data\n\n}\n\nexport const signIn = (userInfo) => async dispatch => {\n    const response = await rails.post('/login', {shopper: userInfo})\n    let data = response.data\n    localStorage.setItem('shopper_token', data.jwt)\n    dispatch({\n        type: 'SIGN_IN',\n        payload: {\n            'current_shopper': data.shopper.data.attributes,\n            'numbers': data.shopper.data.attributes.phones.map((number) => {\n                return number.number\n            }),\n            'addresses': data.shopper.data.attributes.addresses.map(address => {\n                return{\n                    \"street\": address.street,\n                    \"city\": address.city,\n                    \"state\": address.state,\n                    \"zip_code\": address.zip_code\n                }\n            })\n        }\n    })\n}\n\nexport const signOut = () => {\n    localStorage.removeItem('shopper_token')\n    return {\n        type: 'SIGN_OUT'\n    }\n}\n\n//USER PROFILE ACTIONS\n\nexport const createShopperProfile = (shopperInfo) => async dispatch => {\n    const response = await rails.post('/shopper_infos/', shopperInfo)\n    let data = response.data\n    console.log(data)\n    dispatch({\n        type: 'PROFILE_INFO',\n        payload: data.data\n    })\n}\n\nexport const editShopper = (form, id) => async dispatch => {\n    console.log(form)\n    const response = await rails.patch(`/shoppers/${id}`, form)\n    let data = response.data\n    console.log(data.data)\n    dispatch({ type: \"EDIT_SHOPPER\", payload: data.data.attributes })\n}\n\nexport const editShopperProfile = (form, id) => async dispatch => {\n    const response = await rails.patch(`/shopper_infos/${id}`, form)\n    let data = response.data.data\n    console.log(data)\n    dispatch({ type: \"EDIT_PROFILE\", payload: data.attributes })\n}\n\nexport const storeCoords = (coords) => {\n    return({\n        type: 'STORE_COORDS',\n        payload: coords\n    })\n}\n\nexport const userCoords = (coords) => {\n    return ({\n        type: 'USER_COORDS',\n        payload: coords\n    })\n}\n\n//PAYMENT ACTIONS\n\nexport const stripePayment = (event, stripePromise, checkoutItems) => async dispatch => {\n    const stripe = await stripePromise\n    \n    const response = await rails.post('/stripe_payments/checkout', {'checkout_items': checkoutItems})\n    \n    const session = await response.data\n    \n    const result = await stripe.redirectToCheckout({\n        sessionId: session.id\n    })\n    console.log(result, \"payment result!\")\n}\n\n//MODAL ACTIONS\n\nexport const itemPicModal = (item_id) => async dispatch => {\n    const response = await rails.get(`/items/${item_id}`)\n    console.log(response.data, \"items\")\n    dispatch({ type: 'ITEM_PIC_MODAL', payload: response.data })\n}\n\nexport const addressModal = () => {\n    return({\n        type: \"ADDRESS_MODAL\"\n    })\n}\n\nexport const numberModal = () => {\n    return({\n        type: \"NUMBER_MODAL\"\n    })\n}\n\nexport const cancelOrderModal = (id) => {\n    return({\n        type: \"CANCEL_ORDER_MODAL\",\n        payload: id\n    })\n}\n\nexport const clearModal = () => {\n    return({\n        type: 'CLEAR_MODAL'\n    })\n}\n\n//ADDRESS ACTIONS\n\nexport const addShopperAddress = (form) => async dispatch => {\n    console.log(form)\n    const response = await rails.post('/addresses', {'address': form})\n    const data = response.data\n    console.log(data.data.attributes)\n    dispatch({\n        type: \"ADD_SHOPPER_ADDRESS\",\n        payload: data.data.attributes\n    })\n}\n\n//EMAIL ACTIONS\n\nexport const addShopperEmail = (form) => async dispatch => {\n    const response = await rails.post('/emails', {form})\n    const data = response.data\n    console.log(data)\n}\n\n//NUMBER ACTIONS\n\nexport const addShopperNumber = (form) =>  async dispatch => {\n    console.log(form)\n    const response = await rails.post('/phones', {'phone': form})\n    const data = response.data\n    console.log(data)\n    dispatch({\n        type: \"ADD_SHOPPER_CONTACT\",\n        payload: data.data.attributes.number\n    })\n}\n\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport {signIn, signOut, dropCart, startCart, checkoutOrder} from '../actions'\n\nclass GoogleAuth extends React.Component{\n    componentDidMount(){\n        window.gapi.load('client:auth2', () => {\n            window.gapi.client.init({\n                clientId: '30752304516-o6laupndg02km70f10st00em8lujsc28.apps.googleusercontent.com',\n                scope: 'profile'\n            }).then(() => {\n                this.auth = window.gapi.auth2.getAuthInstance()\n                this.authChange(this.auth.isSignedIn.get())\n                this.auth.isSignedIn.listen(this.authChange)\n            })\n        })\n    }   \n\n    componentDidUpdate(prevState){\n        // if (prevState.signedIn !== this.props.signedIn){\n        //     this.redirect()\n        // }\n    }\n    \n\n    authChange = async(userStatus) => {\n        if (!!userStatus) {\n            let user = this.auth.currentUser.get().getBasicProfile()\n            console.log(user)\n            let userInfo =\n            {\n                email: user.getEmail(),\n                first_name: user.getGivenName(),\n                last_name: user.getFamilyName(),\n                image: user.getImageUrl()\n            }\n            let response = await this.props.signIn(userInfo)\n            this.props.startCart({shopper_id: this.props.shopperId})\n        } else {\n            this.props.signOut()\n        }\n    }\n\n    signIn = () => {\n        if(!!this.auth){\n            this.auth.signIn()\n        }\n    }\n\n    \n    signOut = () => {\n        if(!!this.auth){\n            this.auth.signOut()\n            this.props.dropCart(this.props.cartId)\n            this.props.checkoutOrder()\n        }\n  \n        // localStorage.removeItem('rails_token')\n    }\n\n    // redirect = () => {\n    //     if (!!this.props.signedIn && !this.props.shopperInfo) {\n    //         console.log(this.props.signedIn, this.props.shopperInfo)\n    //         this.props.history.push('/profile_signup')\n    //         this.props.history.go()\n    //     } else if (!!this.props.signedIn && !!this.props.shopperInfo) {\n    //         this.props.history.push('/orderpage')\n    //     } else {\n    //         this.props.history.push('/')\n    //         this.props.history.go()\n    //     }\n    // }\n\n    renderAuthButton = () => {\n        if(this.props.signedIn === null){\n            return <div>I don't know</div>\n        } else {\n            if(this.props.signedIn === true){\n                return (\n                    <Link class=\"btn btn-primary\" to='/' onClick={this.signOut} >\n                        <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" class=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                             <path fill-rule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\n                        </svg>\n                        Sign Out\n                    </Link>\n                    // <button type=\"button\" class= \"btn btn-primary\" onClick = {this.signOut}> \n                    //     <Link to='/'>Order History</Link>\n                    //     <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" class=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                    //         <path fill-rule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\n                    //     </svg>\n                    //     Sign Out\n                    // </button>\n                )\n            } else {\n                \n                return (\n                    <Link class=\"btn btn-primary\" to='/orderpage' onClick={this.signIn}>\n                        <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" class=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path fill-rule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\n                        </svg>\n                        Sign In\n                    </Link>\n                    // <div class = 'log-button'>\n                    //     <button type=\"button\" class=\"btn btn-primary\" onClick={this.signIn}>\n                    //         <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" class=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                    //             <path fill-rule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\n                    //         </svg>\n                    //         Sign In\n                    //     </button>\n                    // </div>\n                )\n            }\n        }\n    }\n\n    \n    render(){\n        return(   \n            <div>\n                {this.renderAuthButton()}\n            </div>\n            \n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        shopperId: state.auth.currentShopper.id,\n        signedIn: state.auth.signedIn,\n        shopperInfo: state.auth.currentShopper.shopper_info,\n        cartId: state.cart.cart_id\n    })\n}\n\nexport default connect(mapStateToProps, {signIn, signOut, dropCart, startCart, checkoutOrder})(GoogleAuth)","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport GoogleAuth from '../components/GoogleAuth'\nimport { connect } from 'react-redux'\nimport { getActiveOrders} from '../actions'\nimport { isEmpty } from 'lodash'\nimport NotificationBadge, { Effect } from 'react-notification-badge'\n\nexport class Navbar extends Component {\n    componentDidUpdate(prevState){\n        if(prevState.activeOrders.length != this.props.activeOrders.length){\n            this.props.getActiveOrders(this.props.shopperId)\n        }\n    }\n\n    renderUser = () => {\n        if(!!this.props.signedIn){   \n            return (\n                <div>\n                    <a class=\"nav-link\">\n                        <Link to='/profile'>\n                            <img class=\"google-pic\" alt=\"alt img\" src={this.props.userAuthPic} />\n                        </Link>\n                    </a>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        let cart_length\n        if(isEmpty(this.props.cartItems) || !this.props.cartItems){\n            cart_length = 0\n        } else {\n            cart_length = Object.keys(this.props.cartItems).length\n        }\n        return ( \n            \n            <nav class=\"navbar navbar-expand-lg navbar-expand-med navbar-expand-sm nav-bg\">\n            \n                   \n                {/* <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span class=\"navbar-toggler-icon\"></span>\n                </button> */}\n                <div class=\"collapse navbar-collapse \" id=\"navbarNav\">\n                    <Link class='header-logo' to={'/'}>\n                        <img class=\"header-icon\" src={'/bread_basket_icon.jpg'}></img>\n\n                    </Link>\n                    {(!!this.props.signedIn) ?\n                    \n                    <ul class=\"navbar-nav\">\n                        <li class=\"nav-item nav-list active\">\n                            <Link to = \"/orderpage\" class=\"menu-button\">\n                                Order\n                            </Link>\n                        </li>\n                            \n                        {(!isEmpty(this.props.activeOrders)) ? \n                                <li class=\"nav-item nav-list\">\n                                    <Link to = \"/active_orders\" class=\"menu-button\">Active Orders</Link>\n                                </li>\n                                :\n                                null\n                        }\n                        <li class=\"nav-item nav-list\">\n                            <Link to = \"/order_history\" class=\"menu-button\">Order History</Link>\n                        </li>\n                        <li class=\"nav-item nav-list\">\n                            <Link to = '/about' class=\"menu-button\">About</Link>\n                        </li>\n                    </ul>\n                    :\n                    <ul class=\"navbar-nav\">\n                        <li class=\"nav-item nav-list\">\n                            <Link to = \"/about\" class=\"menu-button\">About</Link>\n                        </li>\n                    </ul>\n                    }\n                </div>\n                {(!!this.props.signedIn) ? \n                <ul class=\"navbar-nav nav-right-btn\">\n                    <li class=\"nav-item\">\n                        <button class=\"btn btn-warning\" type=\"button\">\n                            <NotificationBadge style = {{left: '90%', bottom:'0px', top: 'none', right: 'none'}} count = {cart_length} effect = {Effect.SCALE}/> \n                            <Link class=\"text-reset\" to={'/cart'}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                                    <path d=\"M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm1.336-5l1.977-7h-16.813l2.938 7h11.898zm4.969-10l-3.432 12h-12.597l.839 2h13.239l3.474-12h1.929l.743-2h-4.195z\" />\n                                </svg>\n                            </Link>\n                        </button>\n                    </li>\n                </ul>\n                :\n                <div></div>\n                }\n                \n                <GoogleAuth history = {this.props.history} />\n                <ul class=\"navbar-nav nav-right-btn\">\n                    <li class=\"nav-item\">\n                        {this.renderUser()}\n                    </li>\n                </ul>\n\n            </nav>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        activeOrders: state.order.active_orders,\n        shopperId: state.auth.currentShopper.id,\n        signedIn: state.auth.signedIn,\n        userAuthPic: state.auth.currentShopper.image,\n        cartItems: state.cart.cart_items\n    })\n}\n\nexport default connect(mapStateToProps, { getActiveOrders})(Navbar)\n","import React, { useState, useEffect } from 'react'\n\nlet HomeSection = (props) => {\n    const [ref] = useState(React.createRef())\n    useEffect(() => {\n        const selectedSection = ref.current\n        const options = {\n            root: null,\n            rootMargin: '100px',\n            threshold: 0\n        }\n\n        function sectionRender(section) {\n            section.classList.add('appear')\n        }\n\n        const observer = new IntersectionObserver(function (entries, observer) {\n            let entry = entries[0]\n            if(!entry.isIntersecting){\n                return\n            } else {\n                sectionRender(entry.target)\n                observer.unobserve(entry.target)\n            }\n            console.log(entry.isIntersecting, props)\n        }, options)\n        observer.observe(selectedSection)\n    }, [])\n\n    return (\n        <div>\n            <div ref = {ref} class = 'row homeRow transition'>\n                {props.children}\n            </div>\n        </div>\n    )\n} \n\nexport default HomeSection","import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport HomeSection from '../components/HomeSection'\n// import aboutPic from '../public/logo192.png'\nexport class Home extends Component {\n    componentDidMount(){\n        console.log(this.props.signedIn)\n        console.log(\"test\")\n    }\n    \n    render() {\n        return (\n            <div class = \"App-margin\">\n                <div class = \"homeMain\">\n                    <h1>\n                        Welcome to BreadBasket!\n                    </h1>\n                        <img class=\"homeMainPic\" src='https://secureservercdn.net/45.40.150.81/0m4.91e.myftpupload.com/wp-content/uploads/2020/03/groceries-and-meat-image-1038x576.jpg' />\n                </div>\n                \n                \n                <div class = \"container\">\n                    <div class = \"homeSection\">\n                        <div className = \"row homeRow\">\n                            <h1> \n                                Shop from popular locations\n                            </h1>\n                            <p> \n                                Get groceries delivered from all your favorite locations. We have a large variety of stores to pick from, for all your specific grocery needs.\n                            </p>\n                        </div> \n                    </div>\n                            <HomeSection>\n                                <div className = 'col-2'>\n                                    <div className = \"storeLogoBubble\">\n                                <img class=\"storeLogo\" src= \"https://images.barrons.com/im-78993?width=1280&size=1\"/> \n                                    </div>\n                                </div> \n                                <div className='col-2'>\n                                <div className=\"storeLogoBubble\">\n                                    <img class=\"storeLogo\" src=\"https://sunrisemarketplace.com/wp-content/uploads/2020/03/3979_SMP-cvs-logo.jpg\" />\n                                </div>\n                                </div> \n                                <div className='col-2'>\n                                <div className=\"storeLogoBubble\">\n                                    <img class=\"storeLogo\" src=\"https://d2lnr5mha7bycj.cloudfront.net/store_configuration/logo/212/white_label_landing_page_6217c6f4-ca57-4174-b463-b5508f095889.png\" />\n\n                                </div>\n                                </div> \n                                <div className='col-2'>\n                                <div className=\"storeLogoBubble\">\n                                    <img class=\"storeLogo\" src=\"https://pbs.twimg.com/profile_images/1111764791503151104/2kXoX9z-.png\" />\n\n                                </div>\n                                </div> \n                                <div className='col-2'>\n                                <div className=\"storeLogoBubble\">\n                                <img class=\"storeLogo\" src=\"https://photos.prnewswire.com/prnfull/20140919/147279\" />\n\n                                </div>\n                                </div> \n                            </HomeSection>\n                        \n                            <HomeSection>\n                                <div className = \"col-8\">\n                                    <img className = \"homeSectionPic\" src= \"https://img1.mashed.com/img/gallery/grocery-delivery-services-ranked-from-worst-to-first/intro-1585162312.jpg\"/> \n                                </div>  \n                                <div className = \"col-4\">\n                                    <h4> Convenient service</h4>\n                                    <p> Orders made on BreadBasket are made available for drivers in real time for quick and painless delivery. </p> \n                                </div> \n                            </HomeSection>\n                    \n                            <HomeSection>\n                                <div className = \"col-4\">\n                                    <h4>Update your orders live</h4>\n                                    <p>\n                                        Any last minute changes you want to make to your order? You can notify your driver on any changes you want to make on any current orders. \n                                    </p> \n                                </div> \n                                <div className = \"col-8\">\n                                    <img className=\"homeSectionPic\" src=\"https://www.gannett-cdn.com/media/2017/06/14/TennGroup/Knoxville/636330432728891184-instacart-0056.jpg?width=640\" />\n                                </div>\n                            </HomeSection>\n                            <HomeSection>\n                                <div className = \"col-8\"> \n                                    <img className=\"homeSectionPic\" src= \"https://images.squarespace-cdn.com/content/v1/5bbd07174d546e20297c2ac0/1585075655832-JX0T0UXFFHOM1RWZUCZ8/ke17ZwdGBToddI8pDm48kDHPSfPanjkWqhH6pl6g5ph7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0mwONMR1ELp49Lyc52iWr5dNb1QJw9casjKdtTg1_-y4jz4ptJBmI9gQmbjSQnNGng/photo-1542838132-92c53300491e.jpg?format=1500w\"/>\n                                </div>\n                                <div className = \"col-4\">\n                                    <h5>Organized shopping experience</h5>\n                                    <p>\n                                        Items are searchable by section or by name so you can quickly find the items you want to add to your order.\n                                    </p>\n                                </div> \n                            </HomeSection>\n                        <h1>Make your first order today!</h1>\n                        <div >\n                            {\n                                !!this.props.signedIn ? \n                                <Link to = '/orderpage'>\n                                    Get Started\n                                </Link>\n                                :\n                                <h3>But first, please sign in!</h3>\n                            }\n                        </div>\n                            \n                </div>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps= state => {\n    return ({\n        signedIn: state.auth.signedIn\n    })\n}\n\nexport default connect(mapStateToProps)(Home)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n// import aboutPic from '../public/logo192.png'\nexport class About extends Component {\n    componentDidMount() {\n        // this.props.testRoute(this.props.history)\n    }\n    render() {\n        return (\n            <div class = \"App-margin container\">\n                <h1>About</h1>\n                <div className = \"about-banner-div\">\n                    {/* <img width = '400px' src= {aboutPic} alt='Profile pic here!'></img> */}\n\n                        <div class = \"row aboutBox\">\n                            <div class = \"col-4\">\n                                <h3>Get your grocery shopping done with BreadBasket!</h3>\n                                <p>\n                                    Browse from popular locations to shop for all your essential groceries and household items delievered straight to your door.\n                                </p>\n                            </div>\n                            <div class = \"col-8\">\n                                    <img src= \"https://itk-assets.nyc3.digitaloceanspaces.com/2020/03/grocery-delivery-services-1024x690.jpg\" style = {{width: \"100%\"}}></img>                            \n                            </div>\n                        </div>\n\n\n                        <div class = \"row aboutRow\"> \n                            <div class=\"col-4\" >\n                                <div class = \"aboutPicBox\">\n                                <img class=\"aboutPic\" src=\"https://voxytalksy.com/wp-content/uploads/2018/08/google-voxytalksy.png\"/>\n                                </div>\n                                <h4>Google Authentication </h4>\n                                <p>Easily create an account with personal information by signing in with your personal Google account.</p>\n                            </div> \n                            <div class=\"col-4\">\n                                <div class=\"aboutPicBox\">\n                                        <img class=\"aboutPic\" src=\"https://localyse.eu/wp-content/uploads/2020/06/google_maps_featured_image-1024x597.jpg\" />\n                                    </div>\n                                    <h4>Look for nearby stores</h4>\n                                    <p>Google Maps is available on BreadBasket to search for nearby available store locations. </p>\n                                </div> \n                            <div class=\"col-4\">\n                            <div class=\"aboutPicBox\">\n                                <img class=\"aboutPic\" src=\"https://ecommercebooth.com/wp-content/uploads/2020/08/paypal-vs-strirpe-for-ecommere-business-.png\" />\n                                </div>\n                                <h4>Easy Payment</h4>\n                                <p>Pay for your order with either Stripe or Paypal for a convenient checkout experience</p>\n                            </div> \n                        </div>     \n\n                </div>\n            </div>\n                \n\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        users: state.users\n    }\n}\n\nexport default connect(mapStateToProps)(About)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { itemPicModal } from '../actions'\n\nconst ItemPic = (props) => {\n\n    return (\n        <React.Fragment>\n            <a onClick = {()=> props.itemPicModal(props.item_id)} style = {{cursor: \"pointer\", display:'block', height: '100%'}} data-toggle=\"modal\" data-target=\"#Modal\">\n                <img src={props.image} class=\"card-img-top card-image\" alt=\"...\" />\n            </a>\n        </React.Fragment>\n    )\n}\n\nexport default connect(null, { itemPicModal })(ItemPic)","import React, {Component} from 'react'\nimport ItemPic from '../components/ItemPic'\nimport { connect } from 'react-redux'\nimport { cartItemCount, removeCartItem, clearItem } from '../actions'\n\n\nclass CartItem extends Component {\n\n    removeItem(cartItemId){\n        console.log(cartItemId)\n        this.props.removeCartItem(this.props.cartItemId, this.props.item_id)\n    }\n\n    changeCount(type){\n        let newCount = 0\n        if(type === '+'){\n            newCount = this.props.count + 1\n        }\n\n        if(type === '-'){\n            if(this.props.count > 1){\n                newCount = this.props.count - 1 \n            } else{\n                newCount = 1\n            }\n        }\n        \n        this.props.cartItemCount(newCount, this.props.cartItemId)\n        // this.props.cartItemCount(newCount, this.props.cartItemId)\n    }\n\n    itemDetailsNav(){\n        this.props.clearItem()\n        this.props.history.push(`/item_details/${this.props.item_id}`)\n    }\n\n    render(){\n        \n        return(\n            <div class = \"row cartItem\">\n                <div class = \"cartItem-pic\">\n                    <h3>{this.props.name}</h3>\n                    \n                    <ItemPic image = {this.props.image} item_id = {this.props.item_id}/>\n\n                    \n                </div>\n                <div>\n                    <h3>Price per {this.props.unit}: ${(this.props.price * .01).toFixed(2)}</h3>\n                    <div>\n                        <h3>Count: {this.props.count}</h3>\n                        <span >\n                            <button style = {{marginRight: \"3%\"}} class = \"btn btn-primary\"onClick= {() => this.changeCount('+')}>\n                                +\n                            </button>\n                            <button style = {{marginLeft: \"3%\"}} class = \"btn btn-danger\" onClick = {() => this.changeCount('-')}>\n                                -\n                            </button>\n                        </span>\n                        \n                    </div>\n                    <h3>Total: ${(this.props.count * this.props.price * .01).toFixed(2)} </h3>\n                </div>\n                <div>\n                    <button class = \"btn btn-danger\" onClick = {() => this.removeItem(this.props.cartItemId)}>Remove Item</button>\n                    <button class = \"btn btn-primary\" onClick = {()=> {this.itemDetailsNav()}}>Item Details</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, {cartItemCount, removeCartItem, clearItem})(CartItem)","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { getCart, removeCartItem, preOrder, updatePreOrder} from '../actions'\nimport CartItem from '../components/CartItem'\nimport { isEmpty } from 'lodash'\nimport {reduxForm, Field } from 'redux-form'\n\nclass Cart extends Component{\n\n    cartItemsArray = (cartItems) => {\n        let keys = Object.keys(cartItems)\n        return keys.map(key => this.props.cart_items[key])\n    }\n\n    renderCart(){ \n        if (!isEmpty(this.props.cart_items)){\n            let cartItems = this.cartItemsArray(this.props.cart_items)\n            return (\n                cartItems.map(cart_item => {\n                    let item_attribute = cart_item.attributes.item\n                    return <CartItem cartItemId={cart_item.id} image={item_attribute.image} name={item_attribute.name} count={cart_item.attributes.quantity_num} price={item_attribute.price} history = {this.props.history} item_id={item_attribute.id} unit = {item_attribute.quantity_unit}/>\n                })\n            )\n        }\n    }\n\n    renderCartTotal(){\n        let subtotal = 0\n        if (!!isEmpty(this.props.cart_items)){\n            subtotal = 0\n        } else {\n            let cartItems = this.cartItemsArray(this.props.cart_items)\n            console.log(cartItems)\n            subtotal = cartItems.reduce((sum, current) => {\n                return sum + (current.attributes.quantity_num * (current.attributes.item.price * .01))\n            }, 0)\n        }\n        let payment = subtotal * .35\n        let tax = (subtotal + payment) * .0725\n        let total = subtotal + payment + tax\n        let submitForm = (formValues) => {\n            console.log(this.props.currentOrderId)\n            if(!!isEmpty(this.props.cart_items)){\n                alert('Your cart is empty!')\n            } else {\n                let orderInfo = {\n                    subtotal: subtotal,\n                    payment: payment,\n                    tax: tax,\n                    total: total,\n                    store_id: this.props.storeId,\n                    shopper_id: this.props.shopperId,\n                    status: 'pending'\n                }\n                if(!this.props.currentOrderId){\n                    this.props.preOrder(orderInfo)\n                }else {\n                    this.props.updatePreOrder(this.props.currentOrderId, orderInfo)\n                }              \n                this.props.history.push('/payment/checkout')\n            }\n        }\n    \n        return (\n        <div>\n            <form onSubmit={this.props.handleSubmit(submitForm)}>\n                <div>\n                    <h4>\n                        {`$${subtotal.toFixed(2)}`}\n                    </h4>\n                    <h4>\n                        {`$${payment.toFixed(2)}`}\n                    </h4>\n                    <h4>\n                        {`$${tax.toFixed(2)}`}\n                        \n                    </h4>\n                    <h4>\n                        {`$${total.toFixed(2)}`}\n                    </h4>\n                        \n                        <button className = \"btn btn-secondary\" type=\"submit\">\n                            Checkout\n                        </button>\n                </div>\n                \n                \n            </form>\n        </div>\n        )\n    }\n\n    render() {\n        return(\n            <div class = 'App-margin container'>\n                <h1>Cart</h1>\n                <div class =  'banner-div'>\n                    {isEmpty(this.props.cart_items)?\n                        <div class = 'banner-header'>\n                            <h2> Your cart is empty. Pick out some items from the order page!</h2>\n                        </div>\n                        :\n                        <div>\n                            {this.renderCart()}\n                            <div class = \"row cartItem total roboFont\">\n                            \n                                <div>\n                                    <h4>\n                                        SubTotal: \n                                    </h4>\n                                    <h4>\n                                        Delivery: \n                                    </h4>\n                                    <h4>\n                                        Tax:\n                                    </h4>\n                                    <h4>\n                                        Total:\n                                    </h4>\n                                    <br></br>\n                                </div>\n                                {this.renderCartTotal()}\n                            </div>\n                        </div>\n                    }\n                    \n                </div>    \n                \n            </div> \n        )\n    }\n}\n\nlet formWrapped = reduxForm({\n    form: 'cartForm'\n})(Cart)\n\n\nconst mapStateToProps = state => {\n    return({\n        shopperId: state.auth.currentShopper.id,\n        storeId: state.stores.selectedStore.id,\n        currentOrderId: state.order.current_order_id,\n        cart_id: state.cart.cart_id,\n        cart_items: state.cart.cart_items,\n        item_ids: state.cart.item_ids\n    })\n}\n\nexport default connect(mapStateToProps, {getCart, removeCartItem, preOrder, updatePreOrder})(formWrapped)","import React, { Component } from \"react\"\nimport {connect} from 'react-redux'\nimport {cancelOrder, clearOrderItems, clearOrder, cancelOrderModal } from '../actions'\n\nclass OrderSection extends Component {\n    componentDidMount(){\n        console.log(this.props.history)\n    }\n\n    viewOrderItems(){\n        this.props.clearOrderItems()\n        this.props.history.push(`/view_order_items/${this.props.id}`)\n    }\n\n    paymentDetails() {\n        this.props.clearOrder()\n        this.props.history.push(`/payment_details/${this.props.id}`)\n    }\n\n    render() {\n        return (\n            <div class=\"orderSection\">\n                <div class=\"orderHeader\">\n                    <h3>Order {this.props.position}</h3>\n                </div>\n\n                <div class=\"orderSection-info\">\n                    <p>\n                        Order Cost: ${(this.props.total/100).toFixed(2)}\n                    </p>\n                    <p>\n                        Name of Driver: Bob Clark\n                    </p>\n                    <p>\n                        Grocery Store: {this.props.store}\n                    </p>\n                </div>\n                <div class=\"orderButtonBox\">\n                    <button onClick = {() => this.paymentDetails()} class=\"btn btn-success orderSectionDetails\">\n                        {this.props.paymentText}\n                    </button>\n                    <button onClick={() => this.viewOrderItems()} class=\"btn btn-primary orderSectionDetails\">\n                        {this.props.orderButtonTxt}\n                    </button>\n                    {this.props.orderButtonTxt === \"Update Order\" ?\n                        <button onClick = {() => this.props.cancelOrderModal(this.props.id)} class= \"btn btn-warning orderSectionDetails\" data-toggle=\"modal\" data-target=\"#Modal\">\n                            Cancel Order\n                        </button>\n                        :\n                        null\n                    }\n                </div>\n\n            </div>\n\n\n        )\n    }\n}\n\nexport default connect(null, { cancelOrder, clearOrderItems, clearOrder, cancelOrderModal })(OrderSection)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { getActiveOrders } from '../actions'\nimport OrderSection from '../components/OrderSection'\n\nclass ActiveOrders extends React.Component {\n    \n    componentDidMount(){\n        this.props.getActiveOrders(this.props.shopperId)\n    }\n\n    renderOrders = () => {\n        return this.props.activeOrders.map((order, id) => {\n            let attributes = order.attributes\n            return (\n                <OrderSection \n                    history = {this.props.history}\n                    position = {id + 1} \n                    id = {order.id}\n                    paymentText = \"Update Payment\"\n                    orderButtonTxt = \"Update Order\"\n                    store = {this.props.stores[attributes.store_id - 1].attributes.name}\n                    total = {attributes.total}\n                />\n            )   \n        })\n    }\n\n    render(){\n        return(\n            <div className = \"App-margin container\">\n                <h1>Current Orders</h1>\n                <div>\n                    {this.renderOrders()}\n                </div>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = state => {\n    return ({\n        shopperId: state.auth.currentShopper.id,\n        stores: state.stores.storesList,\n        activeOrders: state.order.active_orders\n    })\n}\n\nexport default connect(mapStateToProps, {getActiveOrders})(ActiveOrders)","import React from 'react'\nimport {connect} from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\nimport { isEmpty } from 'lodash'\nimport {editShopper, editShopperProfile} from '../actions'\n\nclass EditShopper extends React.Component {\n    componentDidMount(){\n        console.log(this.props.match.params)\n    }\n\n    renderInput = ({input, meta, label}) => {\n        return (\n            <div>\n                <label> {label}</label>\n                <input {...input} /> \n                <div>{meta.error} </div>\n            </div>\n        )\n    }\n\n    toProfile = () => {\n        this.props.history.replace('/profile')\n    }\n\n    submitForm = (formValues) => {\n        if (!isEmpty(this.props.currentShopper) ) {\n            let id = this.props.shopperId\n            let infoId = this.props.infoId\n            console.log(formValues)\n            if(!!formValues.image){\n                this.props.editShopper({ shopper: {image: formValues.image} }, id)\n            } else if (!!formValues.email) {          \n                this.props.editShopper({ shopper: { email: formValues.email} }, id)\n            } else if (!!formValues.phone) {\n                this.props.editShopperProfile({ shopper_info: {phone: formValues.phone} }, infoId)\n            } else if (!!formValues.address) {\n                this.props.editShopperProfile({ shopper_info: {address: formValues.address, city: formValues.city, state: formValues.state, zip_code: formValues.zip_code} }, infoId)\n            }\n            this.toProfile()\n        }\n    }\n\n    renderForm(){\n        let params = this.props.match.params.section\n        if(!isEmpty(this.props.currentShopper) ){\n            if(params === \"address\"){\n                return (\n                    <div>\n                        <Field name = \"address\" component= {this.renderInput} label = \"Address\"></Field>\n                        <Field name=\"city\" component={this.renderInput} label=\"City\"></Field>\n                        <Field name=\"state\" component={this.renderInput} label=\"State\"></Field>\n                        <Field name=\"zip_code\" component={this.renderInput} label=\"Zip Code\"></Field>\n                    </div>\n                )\n    \n            } else if (params === \"phone\"){\n                return (\n                    <Field name=\"phone\" component={this.renderInput} label=\"Phone Number\"></Field>\n                )\n            } else if (params === \"email\"){\n                return (\n                    <Field name=\"email\" component={this.renderInput} label=\"Email\"></Field>\n                )\n            } else if (params === \"image\"){\n                return (                \n                    <Field name=\"image\" component={this.renderInput} label=\"Image URL\"></Field>\n                )\n            }\n\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <h1>Edit Profile</h1>\n                <form onSubmit = {this.props.handleSubmit(this.submitForm)}>\n                    {this.renderForm()}\n                    <button type = \"submit\">Submit</button>\n                </form>\n\n                <div>\n                    <button onClick = {this.toProfile}>\n                        Back To Profile\n                    </button>\n                </div>\n            </div>\n        )\n    }\n}\n\nlet validate = (formValues) => {\n    let error = {}\n    if (!formValues.address) {\n        error.address = \"Please enter an address!\"\n    }\n\n    if (!formValues.city) {\n        error.city = \"Please enter a city!\"\n    }\n\n    if (!formValues.state) {\n        error.state = \"Please enter a state!\"\n    }\n\n    if (!formValues.zip_code) {\n        error.zip_code = \"Please enter a zip_code!\"\n    }\n    \n    if (!formValues.phone) {\n        error.phone = \"Please enter a phone number!\"\n    }\n\n    if (!formValues.email) {\n        error.email = \"Please enter a email!\"\n    }\n\n    if (!formValues.image) {\n        error.image = \"Please enter an image url!\"\n    }\n\n    return error\n}\n\n\nconst formWrapped = reduxForm({\n    form: 'editShopperForm',\n    validate: validate\n})(EditShopper)\n\nconst mapStateToProps = state => {\n    return ({\n        currentShopper: state.auth.currentShopper,\n        shopperId: state.auth.currentShopper.id,\n        infoId: state.auth.currentShopper.shopper_info.id\n    })\n}\n\nexport default connect(mapStateToProps, {editShopper, editShopperProfile})(formWrapped)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { getItem } from '../actions'\n\nclass ItemDetails extends React.Component{\n    componentDidMount(){\n        this.props.getItem(this.props.match.params.item_id)\n    }\n\n    renderDetail(){\n        if(!!this.props.item){\n            return (\n                <div>\n                    <img src={this.props.item.data.attributes.image}></img>\n                    <h3>{this.props.item.data.attributes.name}</h3>\n                    <h3>${(this.props.item.data.attributes.price / 100).toFixed(2)} per {this.props.item.data.attributes.quantity_unit}</h3>\n                </div>\n            )\n        }\n    }\n\n    render(){\n        return(\n            <div class = \"itemDetails\">\n                <h1>Item Details</h1>\n                {this.renderDetail()}\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = state => {\n    return({\n        item: state.items.selectedItem\n    })\n}\n\nexport default connect(mapStateToProps, {getItem})(ItemDetails)\n","import axios from 'axios';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';\nimport {storeCoords} from '../actions'\nimport React from 'react'\nimport {connect} from 'react-redux'\n\n\nclass MapContainer extends React.Component {\n    componentDidMount(){\n        console.log(this.props.store_coords, \"COORDINATES\")\n        // Map.setCenter(this.props.store_coords)\n    }\n\n    mapStyles = {\n        width: '100%',\n        position: 'absolute', \n        height: '75%'\n    };\n\n    onHover = () => {\n\n    }\n\n    // address\n    // 5600%Pacific%Grove%Way%Union\n    render(){\n        return (\n            <div class = \"mapDiv\">\n            <Map\n                google={this.props.google}\n                zoom={13}\n                style={this.mapStyles}\n                initialCenter={\n                    this.props.store_coords\n                }\n                > \n                <Marker\n                    name={'Your position'}\n                    position={this.props.user_coords}\n                />\n\n                <Marker\n                    name={`${this.props.store_name}`}\n                    position={this.props.store_coords}\n                />\n            </Map>\n            </div>\n        );\n    }\n}\n\nconst LoadingContainer = (props) => (\n    <div>Loading</div>\n)\n\nconst mapStateToProps = (state) =>{\n    return({\n        store_coords: state.stores.store_coords,\n        user_coords: state.stores.user_coords,\n        store_name: state.stores.selectedStore.attributes.name\n        // start_lat: state.stores.store_coords.lat + state.stores.user_coords.lat,\n        // start_lng: state.stores.store_coords.lng + state.stores.user_coords.lng\n        \n    })\n}\n\nexport default connect(mapStateToProps, {storeCoords})(GoogleApiWrapper({\n    apiKey: \"AIzaSyD-d4NIENxdIYOCE7gIRwvzTIZGRLobMdg\",\n    LoadingContainer: LoadingContainer\n})(MapContainer))","import React from 'react'\nimport {connect} from 'react-redux'\nimport MapContainer from '../components/MapContainer'\nimport {Link} from 'react-router-dom'\nimport {storeCoords} from '../actions'\nimport axios from 'axios'\n\nclass MapPage extends React.Component {\n    \n\n    // getAddress = async () => {\n    //     let location = await axios.post(`https://maps.googleapis.com/maps/api/geocode/json?address=${this.props.store_params}&key=AIzaSyD-d4NIENxdIYOCE7gIRwvzTIZGRLobMdg`)\n    //     this.props.storeCoords(location.data.results[0].geometry.location)\n    // }\n\n    toOrderPage = () => {\n        this.props.history.push('/orderpage')\n    }\n\n    render(){\n        return(\n            \n            <React.Fragment>\n                <div className=\"row\">\n                    <div className = \"col-2 mapBackButton\">\n                        <button class=\"btn btn-success\" type=\"button\">\n                            <Link class=\"text-reset\" to='/orderpage'>\n                                <svg class=\"svg-icon \" width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                                    <path d=\"M11.739,13.962c-0.087,0.086-0.199,0.131-0.312,0.131c-0.112,0-0.226-0.045-0.312-0.131l-3.738-3.736c-0.173-0.173-0.173-0.454,0-0.626l3.559-3.562c0.173-0.175,0.454-0.173,0.626,0c0.173,0.172,0.173,0.451,0,0.624l-3.248,3.25l3.425,3.426C11.911,13.511,11.911,13.789,11.739,13.962 M18.406,10c0,4.644-3.763,8.406-8.406,8.406S1.594,14.644,1.594,10S5.356,1.594,10,1.594S18.406,5.356,18.406,10 M17.521,10c0-4.148-3.373-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.148,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.148,17.521,10\"></path>\n                                </svg>\n                                Back to Order\n                            </Link>\n                        </button>\n                    </div>\n                </div>\n                \n                <MapContainer></MapContainer>\n               \n            </React.Fragment>\n        )\n    }\n}\n\n// const mapStateToProps = (state) => {\n//     return({\n//         store_params: [\n//             state.stores.selectedStore.attributes.address.split(' ').join('+'),\n//             state.stores.selectedStore.attributes.city.split(' ').join('+'),\n//             state.stores.selectedStore.attributes.state\n//         ].join('+')\n//     })\n// }\n\nexport default MapPage","import React from 'react'\nimport {connect} from 'react-redux'\nimport axios from 'axios'\nimport {selectStore, getCategories, getItems, removeCartItem, dropCart, startCart, storeCoords} from '../actions'\n\nclass StoreDropdown extends React.Component {\n\n    componentDidMount(){\n        this.getAddress()\n    }\n\n    componentDidUpdate(prevState){\n        console.log(prevState, this.props)\n        if(prevState.selectedStore.id !== this.props.selectedStore.id){\n            this.props.getItems(this.props.selectedStore.attributes.id)\n            this.props.dropCart(this.props.cartId)\n            this.props.startCart({ shopper_id: this.props.shopperId })\n            this.props.getCategories(this.props.selectedStore.attributes.id - 1)\n            this.getAddress()\n        }\n    }\n\n    getAddress = async () => {\n        let location = await axios.post(`https://maps.googleapis.com/maps/api/geocode/json?address=${this.props.store_params}&key=AIzaSyD-d4NIENxdIYOCE7gIRwvzTIZGRLobMdg`)\n        console.log(location)\n        this.props.storeCoords(location.data.results[0].geometry.location)\n    }\n\n    \n    storeOptions = () => {\n        return this.props.stores.map((store, id)=> {\n            return (\n                <button key = {id} class=\"dropdown-item\" id = {store.attributes.id} value={store.attributes.name}>{store.attributes.name}</button>\n            )\n        })\n    } \n\n    selectStore = (e) => {\n        let store = this.props.stores.find(store => store.id == e.target.id)\n        this.props.selectStore(store)\n        // window.history.pushState({}, '', '/orderpage')\n        // window.history.go()\n    }\n\n    render() {\n        return (\n            \n            <div class = \"mapSearchComponent\">\n                <div class=\"dropdown\">\n                    <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        {this.props.selectedStore.attributes.name}\n                    </button>\n                    <div onClick = {(e) => this.selectStore(e)} class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                        {this.storeOptions()}\n                    </div>\n                </div>\n                <button class = \"btn btn-primary\" onClick={() => this.props.history.push('/map_page')}>See Location</button>     \n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = state => {\n    return ({\n        shopperId: state.auth.currentShopper.id,\n        stores: state.stores.storesList,\n        selectedStore: state.stores.selectedStore,\n        cartItems: state.cart.cart_items,\n        cartId: state.cart.cart_id,\n        store_params: [\n            state.stores.selectedStore.attributes.address.street.split(' ').join('+'),\n            state.stores.selectedStore.attributes.address.city.split(' ').join('+'),\n            state.stores.selectedStore.attributes.address.state\n        ].join('+')\n    })\n}\n\nexport default connect(mapStateToProps, {selectStore, getCategories, getItems, removeCartItem, dropCart, startCart, storeCoords})(StoreDropdown)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { reduxForm, Field } from 'redux-form'\n\n\nclass Searchbar extends React.Component {\n\n    renderInput = ({ input, meta, label }) => {\n    console.log(input)\n        return (\n            <div class=\"form-group row\">\n                <label class=\"col-sm-2 col-form-label\" for = \"input\">{label}</label>\n                <div class = \"col-smn-9\">\n                    <input type = \"text\" class = \"form-control\" id = \"input\" {...input} />\n                </div>\n                {/* <div> {meta.error}</div> */}\n                <button style = {{marginLeft: \".5em\"}}className = \"btn btn-primary\" type=\"submit\" id=\"button-addon1\">Search Item</button>\n            </div>\n        )\n    }\n\n    searchSubmit = (formValues) => {\n        this.props.history.push(`/search/${formValues.searchItem}`)\n    }\n\n    render(){\n        return (\n            <div>\n                <form onSubmit = {this.props.handleSubmit(this.searchSubmit)}>\n                    <Field name = \"searchItem\" component = {this.renderInput} label = \"Search\"/>\n                </form>\n            </div>\n        )\n    }\n}\n\nlet validate = (formValues) => {\n    let error = {}\n\n    if(!formValues.searchItem){\n        error.searchItem = \"Please enter an Item\"\n    }\n\n    return error\n}\n\nlet formWrapped = reduxForm({\n    form: 'searchForm',\n    validate: validate\n})(Searchbar)\n\nexport default connect(null)(formWrapped)","import React from 'react'\nimport {Link } from 'react-router-dom'\n\nconst Category = props => {\n\n    return (\n        <div class = \"col-sm-auto\">\n            <Link class = \"category-btn menu-button roboFont\" to = {`/products/${props.name}`} data-category = {props.name}>\n                {props.title}\n            </Link>\n        </div>\n    )\n}\nexport default Category","import React from 'react'\nimport CategoryLink from '../components/CategoryLink'\n\nconst FoodCategories = props => {\n    return (\n        <div class=\"row justify-content-center foodCategoryNav\" >\n            {props.categories.map(category => {\n                return <CategoryLink history = {props.history} name = {category.name} title = {category.title} />\n            })}\n        </div>\n    )\n}\n\nexport default FoodCategories","import React, {useState, useEffect} from 'react'\nimport ItemPic from './ItemPic'\nimport { connect } from 'react-redux'\nimport { addCartItem, removeCartItem } from '../actions'\n\nconst ItemCard = (props) => {\n    let[ref] = useState(React.createRef())\n    \n    useEffect(() => {\n        if (!!props.cart_item_ids.find(item => item[0] === props.item_id)){\n            buttonToggle(\"add\")\n        } else {\n            buttonToggle(\"remove\")\n        }\n    })\n\n    let buttonToggle = (toggle) => {\n        let button = ref.current.children[1].children[2]\n        let mouseOverFxn = (e)=> {\n            button.children[0].src = `${process.env.PUBLIC_URL}/minus.svg`\n            button.classList.remove('btn-success')\n            button.classList.add('btn-danger')\n        }\n        let mouseOutFxn = (e) => {\n            button.children[0].src = `${process.env.PUBLIC_URL}/check.svg`\n            button.classList.remove('btn-danger')\n            button.classList.add('btn-success')\n        }\n        if(toggle === \"add\"){\n            button.children[0].src = `${process.env.PUBLIC_URL}/check.svg`\n            button.classList.add('btn-success')\n            button.addEventListener(\"mouseover\", mouseOverFxn, true)\n            button.addEventListener(\"mouseout\", mouseOutFxn, true)\n            button.addEventListener('click', () => {\n                button.removeEventListener(\"mouseover\", mouseOverFxn, true)\n            })\n            button.addEventListener('click', () => {\n                button.removeEventListener(\"mouseout\", mouseOutFxn, true)\n            })\n        } else if(toggle === \"remove\"){\n            button.children[0].src = `${process.env.PUBLIC_URL}/plus.svg`\n            button.classList.remove('btn-danger')\n            button.classList.add('btn-primary')\n        }\n    }\n\n    let cartItemToggle = (e) => {\n        e.preventDefault()\n        let cartItem = props.cart_item_ids.find(item => item[0] === props.item_id)\n        if (!cartItem){\n            buttonToggle(\"add\")\n            let cartItemInfo = {\n                cart_id: props.cart_id,\n                item_id: props.item_id,\n                quantity_num: 1\n            }\n            props.addCartItem(cartItemInfo)\n        } else {\n            console.log(cartItem, props.cart_item_ids)\n            buttonToggle(\"remove\")\n            props.removeCartItem(cartItem[1], props.item_id)\n        }\n    }\n\n    return (\n        <div class=\"col-lg-2 col-md-4 col-sm-6 col-xs-12\">\n            <div class=\"card\" ref = {ref}>\n                <div >\n                    {/* <ModalButton toggle= {()=> console.log('hello')} data-toggle=\"modal\" data-target=\"#exampleModal\"> */}\n                    <ItemPic image = {props.image} item_id = {props.item_id} />\n                </div>\n                \n                <div class=\"card-body-2\">\n                    <p class=\"card-title\" style = {{ fontSize: \"12px\"}}>{props.name}</p>\n                    <p style={{fontSize: \"10px\"}}> ${props.price}/{props.unit}</p>\n                    <a class= \"btn btn-primary\" onClick={cartItemToggle}>\n                        <img class = \"card-button-img\" alt=\"Image\" />\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nlet mapStateToProps = state => {\n    return({\n        cart_item_ids: state.cart.item_ids,\n        cart_id: state.cart.cart_id,\n        cart_items: state.cart.cart_items\n    })\n}\n\n\nexport default connect(mapStateToProps, {addCartItem, removeCartItem })(ItemCard)","import React from 'react'\nimport ItemCard from '../components/ItemCard'\n\nconst FoodList = props => {\n    let itemCards = props.items.map((item, id) => {\n        return <ItemCard key = {id} item_id = {parseInt(item.id)} image = {item.attributes.image} price = {(item.attributes.price * .01).toFixed(2)} name = {item.attributes.name} unit = {item.attributes.quantity_unit}/>\n    })\n\n    return (\n        <div class= \"container\">\n            <br></br>\n                <div class = \"row justify-content-center\">\n                    {itemCards}\n                </div>\n        </div>\n    )\n}\n\nexport default FoodList","import React, { Component } from 'react';\nimport FoodList from '../containers/FoodList'\nimport '../Carousel.css'\nimport { Carousel } from 'react-responsive-carousel';\n\nclass FoodListCarousel extends Component {\n\n    splitItems = (start, end) => {\n        let currentItems = this.props.items.slice(start, end)\n        return <FoodList items = {currentItems}/>\n    }\n\n    render(){\n\n        const arrowStyles : CSSProperties = {\n            position: 'absolute',\n            zIndex: 2,\n            top: 'calc(50% - 15px)',\n            width: 30,\n            height: 30,\n            outline: 0,\n            background:'transparent',\n            border: 'none',\n            color: 'transparent', \n            cursor: 'pointer',\n        };\n\n        return (\n            <div>\n                <Carousel\n                    \n                    dyanamicHeight= {true}\n                    statusFormatter = {(current, total)=> \n                        `${current} / ${total}`\n                    }\n                    renderArrowPrev={(onClickHandler, hasPrev, label) =>\n                        hasPrev && (\n                            <button type=\"button\" onClick={onClickHandler} title={label} style={{ ...arrowStyles, left: 15 }}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"/></svg>\n                            </button>\n                        )\n                    }\n\n                    renderArrowNext={(onClickHandler, hasNext, label) =>\n                        hasNext && (\n                            <button type=\"button\" onClick={onClickHandler} title={label} style={{ ...arrowStyles, right: 15 }}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"/></svg>\n                            </button>\n                        )\n                    }\n                >\n                        <div class= \"carousel-div\" >\n                            {this.splitItems(0, 6)}\n                        </div> \n                        <div class = \"carousel-div\">\n                            {this.splitItems(6, 12)}\n                        </div> \n                </Carousel>\n            </div>\n\n        )\n    }    \n}\n\nexport default FoodListCarousel\n","import React, { Component} from 'react'\nimport { connect } from 'react-redux'\nimport { getItems, getCategories, selectStore, dropCart, getCart, getActiveOrders, userCoords, getItem} from '../actions'\nimport StoreDropdown from '../components/StoreDropdown'\nimport Searchbar from '../components/Searchbar'\nimport FoodCategoryNav from '../containers/FoodCategoryNav'\nimport FoodListCarousel from '../containers/FoodListCarousel'\nimport {Link} from 'react-router-dom'\nclass OrderPage extends Component {\n\n    componentDidMount(){\n        console.log(this.props.cartId, this.props.shopperId)\n        navigator.geolocation.getCurrentPosition(this.success.bind(this), this.error)\n        this.props.getItems(this.props.selectedStore.attributes.id)\n        this.props.getActiveOrders(this.props.shopperId)\n        this.props.getCategories(this.props.selectedStore.attributes.id - 1)\n    }\n\n    success(pos){\n        console.log(this.props)\n        if(!!pos){\n            var crd = pos.coords\n            console.log(\"YOU ARE CURRENTLY HERE -->\", { lat: crd.latitude, lng: crd.longitude })\n            this.props.userCoords({lat: crd.latitude, lng: crd.longitude})\n        }\n    }\n    \n    error(err){\n        console.warn(`ERROR: ${err.code}: ${err.message}`)\n    }\n\n    componentDidUpdate(prevState){\n        if (prevState.cartId !== this.props.cartId){\n            this.props.getCart(this.props.cartId)\n        }\n    }\n\n    render() {\n        return (\n            <div class = \"App-margin\">\n                <br></br><br></br>\n                <div class = \"row\">\n                    <div class=\"col-sm-4 storeDropdown\">\n                        <StoreDropdown history = {this.props.history}/>\n                    </div>\n                    \n                    <div class=\"col-sm-4 storeName\">\n                        <h1>{this.props.selectedStore.attributes.name}</h1>\n                        <img style = {{height: '70%', width: '25%', borderRadius: '10px'}} src = {`${this.props.selectedStore.attributes.logo}`}></img>\n                    </div>\n                    <div class=\"col-sm-4 searchBar\">\n                        <Searchbar history = {this.props.history}/>\n                    </div>\n                </div>\n                <br></br>\n                <div class = \"row justify-content-center\">\n                    <FoodCategoryNav history={this.props.history} categories= {this.props.categories}/>\n                </div>\n                <br></br><br></br>\n                \n                {\n                    this.props.categories.map(category => {\n                        let items = this.props.items.filter(item => item.attributes.category === category.name)\n                        return (\n                            <div class = \"food-items-section\">\n                                <h1>{category.title}</h1>\n                                <FoodListCarousel items = {items}/> \n                            </div>\n                        )   \n                    })\n                }\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        activeOrders: state.order.active_orders,\n        items: state.items.itemsList.data,\n        categories: state.categories,\n        stores: state.stores.storesList,\n        selectedStore: state.stores.selectedStore,\n        shopperId: state.auth.currentShopper.id,\n        cartId: state.cart.cart_id,\n        cartItems: state.cart.cart_items,\n        item: state.items.selectedItem,\n        item_ids: state.cart.item_ids\n    })\n}\n\nexport default connect(mapStateToProps, {getItems, getItem, getCategories, selectStore, dropCart, getCart, getActiveOrders, userCoords})(OrderPage)\n","import React, { Component } from 'react'\nimport OrderSection from '../components/OrderSection'\nimport { connect } from 'react-redux'\nimport { getCompletedOrders } from '../actions'\n\n\nexport class OrderHistory extends Component {\n    componentDidMount(){\n        this.props.getCompletedOrders(this.props.shopperId)\n        console.log(this.props.completedOrders)\n    }\n\n    render() {\n        // this.props.completedOrders.map\n        return (\n            <div class = \"App-margin container\">\n                <h1>Order History</h1>\n                {this.props.completedOrders ? \n                    <div class = \"banner-div\">\n                        <div class = \"banner-header\">\n                            <h2>You have no completed orders!</h2>\n                        </div>\n                    </div>\n                    :\n                    this.props.completedOrders.map((order,id) => {\n                        let attributes = order.attributes\n                        return (\n                            <OrderSection \n                                history = {this.props.history}\n                                position = {id + 1} \n                                id = {order.id}\n                                paymentText = \"Payment Info\"\n                                orderButtonTxt = \"View Order\"\n                                store = {this.props.stores[attributes.store_id - 1].attributes.name}\n                                total = {attributes.total}\n                            />\n                        )   \n                    })               \n                }\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = state => {\n    return({\n        shopperId: state.auth.currentShopper.id,\n        stores: state.stores.storesList,\n        completedOrders: state.order.completed_orders\n    })\n}\n\nexport default connect(mapStateToProps, {getCompletedOrders})(OrderHistory)\n","import React from 'react'\nimport { PayPalButton } from 'react-paypal-button-v2'\n\nclass PaypalButton extends React.Component {\n    render(){\n        return(\n            <PayPalButton\n                amount = {`${this.props.amount}`}\n                onSuccess = {(details, data) => {\n                    window.history.pushState({}, '', '/payment/success')\n                    window.history.go()\n                }}\n                catchError = {(err) => {\n                    window.history.pushState({}, '', '/payment/failure')\n                    window.history.go()\n                }}\n                options = {{\n                    clientId: \"A21AALEwYbmiEE-VVyHvCmQwmNxAvBYMrf68I1KVDgAN754OEbhEdW2i9DrAWZmU0vTFPFk6wifJhLT0IeouxD3tTBYZ9gnGg\"\n                }}\n                \n            ></PayPalButton>\n        )\n    }\n}\n\nexport default PaypalButton","import React from 'react'\n\nclass AddRowButton extends React.Component {\n    render(){\n        return(\n            <div className = \"button-div\">\n                <button className = \"btn btn-success\" onClick = {() => this.props.numberModal()} style = {{width: \"100%\"}} data-toggle=\"modal\" data-target=\"#Modal\">\n                    <div className = \"checkout-add-div\">\n                        <span> \n                            <img className = \"checkout-add-img\" src = {`${process.env.PUBLIC_URL}/plusMark.svg`} />\n                            {this.props.text}\n                            </span>\n                        </div>\n                </button> \n            </div>\n        )\n    }\n}\n\nexport default AddRowButton","import React from 'react'\n\nclass CheckoutRowButton extends React.Component {\n\n    renderButtonContent= () => {\n        let src\n        let btnClass\n        if(this.props.value === 'stripe'){\n            src = `${process.env.PUBLIC_URL}/stripeIcon.png`\n            btnClass = \"btn btn-primary\"\n        } else if(this.props.value === 'paypal'){\n            src = `${process.env.PUBLIC_URL}/paypalIcon.svg.png`\n            btnClass = \"btn btn-warning\"\n        } else if(this.props.value === 'test'){\n            btnClass = \"btn btn-success\"\n        } else if(this.props.checked === this.props.value){\n            src = `${process.env.PUBLIC_URL}/checkMark.svg`\n            btnClass = \"btn btn-success\"\n\n        } else {\n            src = `${process.env.PUBLIC_URL}/circle.svg`\n            btnClass = \"btn btn-light\"\n        }  \n\n        if(this.props.value === 'stripe' || this.props.value === 'paypal' || this.props.value === \"test\"){\n            return(\n                <button className = {btnClass} onClick = {(e) => this.props.selectOption(e)} style = {{width: \"100%\"}} form = \"contactForm\" value = {this.props.value}>\n                    <div className = \"checkout-option-payment\">\n                        {this.props.value === 'test' ?  \n                            <h4>Test Checkout</h4>\n                            :                            \n                            <img className = \"checkout-option-img\" src = {src} />\n                        }\n                    </div>\n                </button> \n            )\n        } else {\n            return(\n                <button className = {btnClass} onClick = {(e) => this.props.selectOption(e)} style = {{width: \"100%\"}} form = \"contactForm\" value = {this.props.value}>\n                    <div className = \"checkout-option-div\">\n                        <div class = \"checkout-option-img\">\n                            <img className = \"checkout-option-img\" src = {src} />\n                        </div> \n                        <div style = {{marginLeft: \"-5%\"}}>\n                            <h5>\n                                {this.props.text}\n                            </h5>\n                        </div>\n                    </div>\n                </button> \n            )\n        }\n        \n    }\n\n    render(){\n        let src \n        let btnClass\n        \n\n        return(\n            <div style = {{borderRadius: \"3px\", webkitBoxShadow: \"0px 0 5px rgba(99, 99, 99, 0.842)\"}} className = \"button-div\">\n                {this.renderButtonContent()}\n            </div>\n        )\n    }\n}\n\nexport default CheckoutRowButton","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { connect } from 'react-redux'\nimport { addShopperAddress, updateOrderAddress, addressModal} from '../../actions'\nimport AddRowButton from '../buttons/AddRowButton'\nimport CheckoutRowButton from '../buttons/CheckoutRowButton'\n\nclass Address extends React.Component {\n    constructor(){\n        super()\n        this.state = {\n            checked: null\n        }\n    }\n    componentDidMount(){\n        console.log(this.props.addresses)\n    }\n    \n    renderAddresses = () => {\n        if (!this.props.addresses) {\n            return(\n                <div></div>\n            )\n        } else {\n\n            return this.props.addresses.map((address) => {\n                let joinedAddress = `${address.street}, ${address.city}, ${address.state} ${address.zip_code}`\n                return(\n                    <CheckoutRowButton checked = {this.state.checked} value = {joinedAddress} form = \"contactForm\" text = {joinedAddress} selectOption = {this.selectOption} imgClass = {'checkout-img-address'}/>\n\n                )\n            })\n        }\n        \n    }\n\n    // plus sign \n    //<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"background-color:;border-color:#038767;color:#038767;min-height:14px;min-width:14px;width:14px;height:14px\" class=\"pa1 mr3 ba br-100 bg-transparent b--dark-gray\" data-test=\"OptionListButton-icon\"><path d=\"M20 11H13V4C13 3.45 12.55 3 12 3C11.45 3 11 3.45 11 4V11H4C3.45 11 3 11.45 3 12C3 12.55 3.45 13 4 13H11V20C11 20.55 11.45 21 12 21C12.55 21 13 20.55 13 20V13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11Z\" fill=\"currentColor\"></path></svg>\n\n    //checkmark sign \n    //<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"pa1 mr3 ba br-100 bg-transparent b--dark-gray\" data-test=\"OptionListButton-icon\" style=\"background-color: rgb(3, 135, 103); border-color: rgb(3, 135, 103); color: rgb(255, 255, 255); min-height: 14px; min-width: 14px; width: 14px; height: 14px;\"><path d=\"M21.895 4.93001C21.505 4.54001 20.875 4.54001 20.485 4.93001L8.465 16.95L3.515 12C3.125 11.61 2.495 11.61 2.105 12C1.715 12.39 1.715 13.02 2.105 13.41L7.765 19.07C8.155 19.46 8.785 19.46 9.175 19.07L21.895 6.35001C22.285 5.96001 22.285 5.32001 21.895 4.93001Z\" fill=\"currentColor\"></path></svg>\n\n    selectOption = (e) => {\n\n        this.setState({\n            checked: e.currentTarget.value\n        })\n        this.props.updateOrderAddress(e.currentTarget.value)\n    }\n\n    addAddress = async (e) => {\n        e.preventDefault()\n        let form = {\n            'street': e.target.children[0].value,\n            'city': e.target.children[1].value,\n            'state': e.target.children[2].value,\n            'zip_code': e.target.children[3].value,\n            'addressable_type': 'Shopper',\n            'addressable_id': this.props.shopperId\n        }\n\n        let joinedAddress = `${form.street}, ${form.city}, ${form.state} ${form.zip_code}`\n        this.props.updateOrderAddress(joinedAddress)\n        this.props.addShopperAddress(form)\n    }\n\n    render() {\n        return (\n            <div className = \"ui container\">\n                <div className = \"button-options\">\n                    \n                    {this.renderAddresses()}\n                \n                    <AddRowButton numberModal = {() => this.props.addressModal()} text = \"Add an Address\" />\n                \n                </div>\n            </div>\n            \n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        shopperId: state.auth.currentShopper.id\n    })\n}\n\nexport default connect(mapStateToProps, { addShopperAddress, updateOrderAddress, addressModal })(Address)","import React from 'react' \nimport { connect } from 'react-redux'\nimport {selectOrderPayment} from '../../actions'\nimport CheckoutRowButton from '../buttons/CheckoutRowButton'\n\nclass CheckoutPayment extends React.Component {\n\n\n    render(){\n        return(\n            <div className = \"ui container\">\n                <h4>\n                    Select a Payment Option (Paypal and Stripe methods are links. Please use test to create orders.):\n                </h4>\n                <div className = \"button-options-row\">\n                    <CheckoutRowButton selectOption = {this.props.selectOrderPayment} value = \"stripe\"/>\n                    <CheckoutRowButton selectOption = {this.props.selectOrderPayment} value = \"paypal\"/>\n                    <CheckoutRowButton selectOption = {this.props.selectOrderPayment} value = \"test\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, {selectOrderPayment})(CheckoutPayment)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { addShopperNumber, updateOrderNumber, numberModal } from '../../actions'\nimport CheckoutRowButton from '../buttons/CheckoutRowButton'\nimport AddRowButton from '../buttons/AddRowButton'\n\nclass Contact extends React.Component {\n    constructor(){\n        super()\n        this.state = {\n            checked: null\n        }\n    }\n\n    componentDidMount(){\n        console.log(this.props.numbers)\n    }\n    \n    renderContacts = () => {\n\n        if (!this.props.numbers) {\n            return(\n                <div></div>\n            )\n        } else {\n\n            return this.props.numbers.map((contact) => {\n                return(\n                    <CheckoutRowButton imgClass = {'checkout-img-contact'} checked = {this.state.checked} value = {contact} form = \"contactForm\" text = {contact} selectOption = {this.selectOption} />\n                )\n            })\n        }\n        \n    }\n\n    // plus sign \n    //<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"background-color:;border-color:#038767;color:#038767;min-height:14px;min-width:14px;width:14px;height:14px\" class=\"pa1 mr3 ba br-100 bg-transparent b--dark-gray\" data-test=\"OptionListButton-icon\"><path d=\"M20 11H13V4C13 3.45 12.55 3 12 3C11.45 3 11 3.45 11 4V11H4C3.45 11 3 11.45 3 12C3 12.55 3.45 13 4 13H11V20C11 20.55 11.45 21 12 21C12.55 21 13 20.55 13 20V13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11Z\" fill=\"currentColor\"></path></svg>\n\n    //checkmark sign \n    //<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"pa1 mr3 ba br-100 bg-transparent b--dark-gray\" data-test=\"OptionListButton-icon\" style=\"background-color: rgb(3, 135, 103); border-color: rgb(3, 135, 103); color: rgb(255, 255, 255); min-height: 14px; min-width: 14px; width: 14px; height: 14px;\"><path d=\"M21.895 4.93001C21.505 4.54001 20.875 4.54001 20.485 4.93001L8.465 16.95L3.515 12C3.125 11.61 2.495 11.61 2.105 12C1.715 12.39 1.715 13.02 2.105 13.41L7.765 19.07C8.155 19.46 8.785 19.46 9.175 19.07L21.895 6.35001C22.285 5.96001 22.285 5.32001 21.895 4.93001Z\" fill=\"currentColor\"></path></svg>\n\n    selectOption = (e) => {\n        this.setState({\n            checked: e.currentTarget.value\n        })\n        this.props.updateOrderNumber(e.currentTarget.value)\n    }\n\n    addContact = (e) => {\n        e.preventDefault()\n        let number = e.target.children[0].value\n        let areaCode = number.slice(0, 3)\n        let number1 = number.slice(3,6)\n        let number2 = number.slice(6,10)\n        let form = {\n            'number': `(${areaCode})${number1}-${number2}`,\n            'phoneable_type': 'Shopper',\n            'phoneable_id': this.props.shopperId\n        }\n        this.props.updateOrderNumber(form.number)\n        this.props.addShopperNumber(form)\n    }\n\n    render() {\n        return (\n            <div className = \"ui container\">\n                <div className = \"button-options\">\n                    {this.renderContacts()}\n                        \n                        <AddRowButton numberModal = {() => this.props.numberModal()} text = \"Add a Number\" />\n                        \n\n                </div>\n            </div>\n            \n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        shopperId: state.auth.currentShopper.id\n    })\n}\n\nexport default connect(mapStateToProps, { addShopperNumber, updateOrderNumber, numberModal})(Contact)\n","import React from 'react'\nimport { Field, reduxForm, SubmissionError } from 'redux-form'\nimport { connect } from 'react-redux'\nimport {updateDeliveryNote} from '../../actions'\n\nclass DeliveryNote extends React.Component {\n    componentDidMount(){\n        console.log(this.props.showBottomToggle)\n    }\n    renderTextArea = ({ input, meta, label }) => {\n        return (\n            <div class=\"form-group modal-form\">\n            <label style = {{left: '0'}}>{label}</label>\n            <textarea class=\"form-control\" rows=\"3\" {...input} placeholder = \"F.e. Please leave the groceries on my front porch... \"></textarea>\n            <div>{meta.error}</div>\n        </div>\n        )\n    }\n\n    onSubmit = (formValues) => {\n        console.log(formValues)\n        return new Promise((resolve, reject) => {\n            const errors = validate(formValues)\n            if(errors.empty){\n                reject(new SubmissionError(errors))\n            } else {\n                resolve(formValues)\n            }\n        }).then((formValues) => {\n            this.props.updateDeliveryNote(formValues.delivery_note)\n            this.props.showBottomToggle()\n        })\n    }\n\n    render(){\n        return(\n            <div class = \"payment-option-bottom\">\n                <form onSubmit = {this.props.handleSubmit(this.onSubmit)} id = 'delivery-note'>\n                    <Field name = \"delivery_note\" component = {this.renderTextArea} label = \"Add a note for your order\"/>\n                </form>\n                <button style = {{float: 'left'}} type = 'submit' class = 'btn btn-primary' form = 'delivery-note'>Submit</button>\n            </div>\n        )\n    }\n}\n\nlet validate = (formValues) => {\n    let error = {}\n\n    if(!formValues.delivery_note){\n        error.delivery_note = \"Your note is empty!\"\n    }\n\n    return error\n}\n\nlet formWrapped = reduxForm({\n    form: 'deliveryNote',\n    validate: validate\n})(DeliveryNote)\n\nexport default connect(null, {updateDeliveryNote})(formWrapped)","import React from 'react'\n\nclass CheckoutColumnButton extends React.Component {\n    \n    render(){\n        let btnClass \n        this.props.selected === this.props.value.toString() ? btnClass = 'btn btn-success' : btnClass = 'btn btn-light-outline'\n        \n        return(\n            <div className = \"button-div\">\n                <div style = {{borderRadius: \"3px\", webkitBoxShadow: \"0px 0 5px rgba(99, 99, 99, 0.842)\", width: '85%', marginLeft: '7%'}}>\n                    <button style = {{border: '1px solid black'}} class = {btnClass} type = \"button\" onClick = {(e) => this.props.selectOption(e)} style = {{width: \"100%\"}} value = {this.props.value}>{this.props.text}</button> \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CheckoutColumnButton","import React from 'react'\nimport { connect } from 'react-redux'\nimport {updateOrderDeliveryTime} from '../../actions'\nimport CheckoutColumnButton from '../buttons/CheckoutColumnButton'\nimport CheckoutRowButton from '../buttons/CheckoutRowButton'\n\nclass DeliveryTime extends React.Component {\n\n    constructor(){\n        super()\n        this.state = {\n            currentDay: null,\n            currentDate: null,\n            selectedTime: null,\n            selectedDay: null,\n        }\n    }\n\n    dayDisplay = (day) => {\n        \n        if(day > 6){\n            day = (day - 7).toString()\n        }\n        let dayDisplay = ''\n        if(day === '0'){\n            dayDisplay = 'Sunday'\n        } else if (day === '1'){\n            dayDisplay = 'Monday'\n        } else if (day === '2'){\n            dayDisplay = 'Tuesday'\n        } else if (day === '3'){\n            dayDisplay = 'Wednesday'\n        } else if (day === '4'){\n            dayDisplay = 'Thursday'\n        } else if (day === '5'){\n            dayDisplay = 'Friday'\n        } else if (day === '6'){\n            dayDisplay = 'Saturday'\n        }\n        console.log(dayDisplay)\n        return dayDisplay\n    }\n\n    renderDates = () => {\n        var today = new Date();\n        let result = []\n        for(let i = 0; i < 4; i++){\n\n            var dd = String(today.getDate() + i).padStart(2, '0');\n            var mm = String(today.getMonth() + 1).padStart(2, '0');\n            var day = String(today.getDay() + i)\n            let currentDay = this.dayDisplay(day)\n    \n            result.push(\n                <div className = \"button-div\">\n                    <CheckoutColumnButton selected = {this.state.selectedDay} selectOption = {(e) => this.selectDate(e)} value = {day} \n                    text = \n                    {\n                    <div>\n                        <p>{`${mm}/${dd}`}</p>\n                        <p>{`${currentDay}`}</p>\n                    </div>\n                    }/>\n                    \n                </div>  \n            )\n        }\n        return result\n    }\n\n    renderTimes = (currentDay) => {\n        let today = new Date()\n        let day = String(today.getDay())\n        let times = ['9AM', '10AM', '11AM', '12PM', '1PM', '2PM', '3PM', '4PM', '5PM' ,'6PM', '7PM', '8PM', '9PM', '10PM', '11PM' ]\n        console.log(day, currentDay)\n        if(day === currentDay){\n            let time = today.getHours()\n            if(time > 22){\n                return(\n                    <div>\n                        Too late to deliver today!\n                    </div>\n                )\n            } else {\n                let index = time - 8\n                times = times.slice(index)\n            }\n        }\n\n        return (\n        <div className = \"button-div\">\n            {times.map((time) => {\n                return(\n                    <CheckoutRowButton checked = {this.state.selectedTime} selectOption = {this.selectTime} value = {time} text = {time} /> \n                )\n            })}\n        </div>\n        )\n    }\n\n    selectDate = (e) => {\n        let date = e.currentTarget.children[0].children[0].innerHTML.split('/')\n        let day = date[1]\n        let month = date[0]\n        this.setState({\n            selectedTime: null,\n            currentDay: e.currentTarget.value,\n            currentDate: {\n                day: day,\n                month: month\n            },\n            selectedDay: e.currentTarget.value\n        })\n    }\n\n    selectTime = (e) => {\n        let delivery_time = {\n            'time': e.currentTarget.value,\n            'date': this.state.currentDate,\n            'day': this.state.currentDay\n        }\n        this.setState({\n            selectedTime: e.currentTarget.value\n        })\n        this.props.updateOrderDeliveryTime(delivery_time)\n    }\n\n    render() {\n        return (\n            <div className = \"ui container\">\n                <div className = \"button-options-row\">\n                    {this.renderDates()}\n                </div>\n                <div className = \"button-options\" style = {{marginTop: '2%'}}>\n\n                    {   \n                        this.state.currentDay ?\n                        this.renderTimes(this.state.currentDay)\n                        :\n                        <div></div>\n                    }   \n                        \n                </div>\n\n                <div>\n                {\n                    this.state.otherSelect ?\n                    <form id = \"otherTip\" onSubmit = {(e) => this.submitOther(e)}>\n                        <input type = \"integer\" name = \"otherTip\"></input>\n                        <button type = \"submit\" value = \"submit\" form = \"otherTip\" >Submit</button>\n                    </form>\n                    :\n                    <div></div>\n                }\n                </div>\n            </div>\n            \n        )\n    }\n}\n\nexport default connect(null, {updateOrderDeliveryTime})(DeliveryTime)","import React from 'react'\nimport { connect } from 'react-redux'\nimport {updateOrderSubstitute} from '../../actions'\nimport CheckoutRowButton from '../buttons/CheckoutRowButton'\n\nclass Substitute extends React.Component {\n    constructor(){\n        super()\n        this.state = {\n            checked: null\n        }\n    }\n  \n    selectOption = (e) => {\n        let substitute = {\n            'phrase': e.currentTarget.children[0].children[1].children[0].innerHTML,\n            'value': e.currentTarget.value\n        }\n        this.setState({\n            checked: e.currentTarget.value\n        })\n        this.props.updateOrderSubstitute(substitute)\n    }\n\n    render(){\n        return(\n            <div className = \"ui container\">\n                <h4 style = {{left: 0}}>\n                    If you can't find my items:\n                </h4>\n                <div className = \"button-options\">\n                    <CheckoutRowButton checked = {this.state.checked} selectOption = {this.selectOption} value = 'contact' text = \"Contact me for replacements.\"/> \n                    <CheckoutRowButton checked = {this.state.checked} selectOption = {this.selectOption} value = 'choose' text = \"Choose any replacements for me.\"/> \n                    <CheckoutRowButton checked = {this.state.checked} selectOption = {this.selectOption} value = 'none' text = \"Don't make any replacements\"/> \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, {updateOrderSubstitute})(Substitute)","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { connect } from 'react-redux'\nimport {updateOrderTip} from '../../actions'\nimport CheckoutColumnButton from '../buttons/CheckoutColumnButton'\n\nclass Tip extends React.Component {\n\n    constructor(){\n        super()\n        this.state = {\n            otherSelect: false,\n            selected: null\n        }\n    }\n\n    selectOption = (e) => {\n        console.log(e.target.value)\n        let tip = (e.target.value/ 100) * this.props.currentTotal\n        this.props.updateOrderTip({\n            'amount': tip, \n            'value': e.currentTarget.value\n        })\n        this.setState({\n            selected: e.currentTarget.value,\n            otherSelect: false\n        })\n    }\n\n    selectOther = (e) => {\n        console.log(e.currentTarget.value)\n        this.setState({\n            otherSelect: true, \n            selected: e.currentTarget.value\n        })\n    }\n    \n    submitOther = (e) => {\n        e.preventDefault()\n        let tip = (e.currentTarget.children[0].value / 100) * this.props.currentTotal\n        this.props.updateOrderTip({\n            'amount': tip, \n            'value': e.currentTarget.children[0].value\n        })\n        this.setState({\n            otherSelect: false\n        })\n    }\n\n    render() {\n        return (\n            <div className = \"ui container\">\n                <div className = \"button-options-row\">\n                    <CheckoutColumnButton selected = {this.state.selected} value = {0} text = \"None\" selectOption = {this.selectOption} />\n                    <CheckoutColumnButton selected = {this.state.selected} value = {5} text = \"5%\" selectOption = {this.selectOption} />\n                    <CheckoutColumnButton selected = {this.state.selected} value = {10} text = \"10%\" selectOption = {this.selectOption} />\n                    <CheckoutColumnButton selected = {this.state.selected} value = {15} text = \"15%\" selectOption = {this.selectOption} />\n                    <CheckoutColumnButton selected = {this.state.selected} value = {'other'} text = \"Other\" selectOption = {this.selectOther} />\n                </div>\n                <div>\n                {\n                    this.state.otherSelect ?\n                    <form id = \"otherTip\" onSubmit = {(e) => this.submitOther(e)}>\n                        \n                        <input style = {{marginTop: '2%'}} type=\"text\" class=\"form-control\" id=\"tipForm\" aria-describedby=\"emailHelp\" placeholder=\"Enter new tip %\"/>\n                        <button style = {{float: 'left', marginTop: '2%'}} class = \"btn btn-primary\" type = \"submit\" form = \"otherTip\" >Submit</button>\n                    </form>\n                    :\n                    <div></div>\n                }\n                </div>\n            </div>\n            \n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        currentTotal: state.order.total,\n        shopperId: state.auth.currentShopper.id\n    })\n}\n\nexport default connect(mapStateToProps, {updateOrderTip})(Tip)","import React from 'react' \nimport { Link } from 'react-router-dom'\nimport Address from '../components/checkout_options/Address'\nimport CheckoutPayment from '../components/checkout_options/CheckoutPayment'\nimport Contact from '../components/checkout_options/Contact'\nimport DeliveryNote from '../components/checkout_options/DeliveryNote'\nimport DeliveryTime from '../components/checkout_options/DeliveryTime'\nimport Substitute from '../components/checkout_options/Substitute'\nimport Tip from '../components/checkout_options/Tip'\n\nclass PaymentOption extends React.Component{\n    constructor(props){\n        super()\n        this.state = {\n            selectType: props.selectType,\n            showBottomEdit: false,\n            \n        }\n        this.showBottomToggle = this.showBottomToggle.bind(this)\n    }\n\n    componentDidMount(){\n        if(!this.props.selectType){\n            this.setState({\n                showBottomEdit: true\n            })\n        }\n    }\n\n    showBottomToggle = ()  => {\n        if(!this.state.showBottomEdit){\n            this.setState({\n                showBottomEdit: true\n            })\n        } else {\n            this.setState({\n                showBottomEdit: false,\n                \n            })\n        }\n    }\n\n    renderSelect = (state) => {\n        if(!!state){\n            return (\n                <Link onClick = {() => this.showBottomToggle()}>\n                    &#10006;\n                </Link>\n            )\n        } else {\n            return (\n                <Link onClick = {() => this.showBottomToggle()}>\n                    {this.state.selectType}\n                </Link>\n            )\n        } \n    }\n\n    renderBottomOption = () => {\n        if(this.props.title === 'Phone Number'){\n            return <Contact numbers = {this.props.userNumbers} />\n        } else if (this.props.title === 'Address'){\n            return <Address addresses = {this.props.userAddresses}/>\n        } else if (this.props.title === 'Tip'){\n            return <Tip />\n        } else if (this.props.title === 'Delivery Time'){\n            return <DeliveryTime />\n        } else if (this.props.title === 'Substitution Preference'){\n            return <Substitute />\n        } else if (this.props.title === 'Delivery Notes'){\n            return <DeliveryNote showBottomToggle = {this.showBottomToggle}/>\n        } else if (this.props.title === 'Payment Method'){\n            return <CheckoutPayment />\n        }\n    }\n\n    render(){\n        return(\n            <div className = \"payment-option\">\n                    <div className = \"row payment-option-line\">\n                        <div>\n                            <h3>\n                                {this.props.title}\n                            </h3>\n                        </div>\n                        <div>\n                            {this.state.selectType ? \n                                this.renderSelect(this.state.showBottomEdit)\n                                :\n                                <div></div>\n                            }\n                            \n                        </div>\n                    </div>\n                    <div className = \"payment-divider\">\n                    </div>\n                    <div className = \"row payment-option-line\">\n                        \n                        {this.state.showBottomEdit ? \n                            this.renderBottomOption()\n                            :\n                            <div className = \"bottomContent\">\n                                {this.props.bottomContent}\n                            </div>\n                        }\n\n                    </div>\n            </div>\n        )\n    }\n}\n\nexport default PaymentOption ","import React from 'react' \nimport { connect } from 'react-redux'\nimport PaymentOption from '../components/PaymentOption'\nimport {addShopperNumber, addShopperAddress} from '../actions'\n\nclass PaymentOptions extends React.Component{\n    componentDidMount(){\n        console.log(this.props.currentShopper)\n    }\n    //All have titles above the divider\n    componentDidUpdate(prevState){\n        // if(this.prevState.currentShopperAddresses !== prevState.currentShopperAddresses){\n\n        // }\n\n        // if(this.prevState.currentShopperContacts !== prevState.currentShopperContacts){\n            \n        // }\n    }    \n    //Contact Information\n    //Conditionally Add if no contacts\n    //Select Button w/ Add Line or Phone Number Display underneath\n    userNumbers = () => {\n        return this.props.currentShopperContacts.map((number) => {\n            return number\n        })\n    }\n\n    //Delivery Address\n    //Conditionally Add if no address\n    //Select Button w/ Add Button or Address Display underneath \n    \n    userAddresses = () => {\n        return this.props.currentShopperAddresses.map((address) => {\n            return address\n        })\n    }\n\n    renderTip = () => {\n        if(!this.props.chosenTip.value || this.props.chosenTip.value === \"0\"){\n            return `No Tip`\n        } else {\n            return `$${(this.props.chosenTip.amount/100).toFixed(2)} (${this.props.chosenTip.value}%)`\n        }\n    }\n    //Tip\n    //Select Button w/ 0, 5, 10, 15, 'other' options underneath or tip amount display\n    \n    //Delivery Time\n    //Select button w/ Today, and 4 days ahead options, and time select options undeneath or date/time display\n    \n    //Substitution Preference\n    //Select button w/ Pick for me, Contact me, Refund options or option display\n\n    //Delivery Instructions\n    //Select button with text input box and submit button or italicized quoted note\n    quote = (content) => {\n        return(\n            <div class = \"quote\">\n                <p align = \"left\" style = {{ fontStyle: 'italic', fontSize: '1.5em'}}>\"{content}\"</p>\n            </div>\n        )\n    }\n    //Payment Method \n    //Buttons underneath for Stripe/Paypal Options \n    \n\n    render(){\n        return(\n            <React.Fragment>\n                <PaymentOption title = 'Phone Number' selectType = \"Select\" userNumbers = {this.userNumbers()} bottomContent = {this.props.chosenPhone? this.props.chosenPhone: \"Please choose a contact\"}/>\n                <PaymentOption title = 'Address' selectType = \"Select\" userAddresses = {this.userAddresses()} bottomContent = {this.props.chosenAddress? this.props.chosenAddress: \"Please select an address\"}/>\n                <PaymentOption title = 'Tip' selectType = \"Select\"  bottomContent = {this.renderTip()}/>\n                <PaymentOption title = 'Delivery Time' selectType = \"Select\" bottomContent = {this.props.chosenDeliveryDay && this.props.chosenDeliveryTime ? `Deliver by ${this.props.chosenDeliveryDay}, ${this.props.chosenDeliveryDate} at ${this.props.chosenDeliveryTime}`: \"Please select delivery time and date\"}/>\n                <PaymentOption title = 'Substitution Preference' selectType = \"Select\" bottomContent = {this.props.chosenSubstitute? this.quote(this.props.chosenSubstitute): \"Add an optional substitute preference\"}/>\n                <PaymentOption title = 'Delivery Notes' selectType = \"Edit\" bottomContent = {this.props.chosenDeliveryNote? this.quote(this.props.chosenDeliveryNote): \"Add an optional delivery note\"}/>\n                <PaymentOption title = 'Payment Method'/>\n            </React.Fragment>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return ({\n        currentShopper: state.auth.currentShopper,\n        currentShopperAddresses: state.auth.addresses,\n        currentShopperContacts: state.auth.numbers,\n        chosenPhone: state.order.number,\n        chosenAddress: state.order.address, \n        chosenTip: state.order.tip,\n        chosenDeliveryDate:`${state.order.delivery_time.date.month}/${state.order.delivery_time.date.day}`,\n        chosenDeliveryDay: state.order.delivery_time.day,\n        chosenDeliveryTime: state.order.delivery_time.time, \n        chosenSubstitute: state.order.substitute.phrase,\n        chosenDeliveryNote: state.order.note \n    })\n}\n\nexport default connect(mapStateToProps, {addShopperNumber, addShopperAddress})(PaymentOptions)","import React from 'react'\nimport {connect} from 'react-redux'\nimport {loadStripe} from '@stripe/stripe-js'\nimport PayPalButton from '../components/PayPalButton'\nimport PaymentOptions from '../containers/PaymentOptions'\nimport { processOrder, stripePayment, checkoutOrder, dropCart } from '../actions'\n\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_TEST_KEY)\n\nclass Payment extends React.Component {\n    \n    componentDidMount(){\n        console.log(this.props.orderTax, this.props.orderTotal, this.props.orderSubTotal, this.props.orderPayment)\n        let currentURL = window.location.href.split('/')\n        let successParam = currentURL[currentURL.length - 1]\n        console.log(currentURL.length) \n        if(successParam === \"success\"){\n            console.log('hello')\n            this.placeOrder()\n        } else if(successParam === \"failure\") {\n            alert(\"Payment was unsuccessful!\")\n            this.setState({error: true})\n        }\n    }\n\n    constructor() {\n        super()\n        this.state = {\n            error: false,\n            loading: false\n        }\n    }\n\n    cartItems(){\n        let keys = Object.keys(this.props.cartItems)\n        return keys.map(key => this.props.cartItems[key])\n    }\n\n    placeOrder = async() => {\n        //:order_id, :item_id, :quantity_num, :status\n        this.setState({\n            loading: true\n        })\n        await this.processOrder()\n        this.props.history.push('/orderpage')\n        this.props.history.go()\n        \n    }\n\n    processOrder = async () => {\n        this.props.dropCart(this.props.cart_id)\n        let cartItems = this.cartItems()\n        await this.props.processOrder(cartItems, this.props.cart_id, this.props.currentOrderId, \n            { \n                status: \"active\",\n                address: this.props.orderAddress,\n                delivery_time: this.props.orderDeliveryTime,\n                delivery_date: `${this.props.orderDeliveryDate.month + '/' + this.props.orderDeliveryDate.day}`,\n                note: this.props.orderNote,\n                phone: this.props.orderNumber,\n                substitute: this.props.orderSubstitute,\n                total: this.props.orderTotal + this.props.orderTip ,\n                tip: this.props.orderTip\n            }\n        )\n        this.props.checkoutOrder()\n    }\n\n    stripeCheckout = async(e) => {\n        let checkoutItems = this.cartItems()\n        let result = checkoutItems.map((checkoutItem) => {\n            let item = checkoutItem.attributes.item\n                return {\n                    price_data: {\n                        currency: 'usd',\n                        product_data: {\n                            name: item.name,\n                        },\n                        unit_amount: item.price,\n                    },\n                    quantity: checkoutItem.attributes.quantity_num,\n                }\n            })\n        console.log(result)\n        console.log(result)\n        await this.props.stripePayment(e, stripePromise, result)\n        this.placeOrder()\n    }\n\n    onPaymentChange = (e) => {\n        this.setState({\n            paymentOption: e.target.value\n        })\n    }\n\n    // [\n    //     {\n    //         price_data: {\n    //             currency: 'usd',\n    //             product_data: {\n    //                 name: 'Bible',\n    //             },\n    //             unit_amount: 3000,\n    //         },\n    //         quantity: 1,\n    //     },\n    //     {\n    //         price_data: {\n    //             currency: 'usd',\n    //             product_data: {\n    //                 name: 'Bible',\n    //             },\n    //             unit_amount: 3000,\n    //         },\n    //         quantity: 1,\n    //     }\n    // ]\n\n    renderItems(){\n        let keys = Object.keys(this.props.cartItems)\n        let cartItems = keys.map(key => this.props.cartItems[key])\n        console.log(cartItems)\n        return cartItems.map(item => {\n            return <div class = \"row checkout-item\">\n                        <div class = \"card col-3\" style = {{height: \"100%\", width: \"20%\"}}>\n                            <img src={item.attributes.item.image} style={{ height: \"100%\" }} class=\"card-img-top\" alt=\"...\" />\n                        </div>\n                    <h3 class = \"col-2\">{item.attributes.item.name}</h3>\n                    <h3 class = \"col-2\">\n                        {item.attributes.quantity_num}\n                    </h3>\n                    <h3>{`$${(item.attributes.item.price * .01 * item.attributes.quantity_num).toFixed(2)}`}</h3>\n                </div>\n            \n        }) \n    }\n\n    render(){\n        return(\n            \n                <div >\n                    {!this.state.loading ? \n                    <div class=\"wrapper\"> \n                            <div className = \"payment-box\">\n                                <div class= \"payment-options\">\n                                    <h1 class = \"payment-header\">Checkout</h1>\n                                    <PaymentOptions />\n                                </div>\n                            \n                                <div class=\"payment-total\">\n                                    <div class = \"payment-details\">\n                                        <div style = {{backgroundColor: 'white', margin: '1%', padding: '10%', borderRadius: \"10px\"}}>\n                                            <div className = \"row payment-cost-line\">\n                                                <div>\n                                                    <h4>SubTotal</h4>\n                                                </div>\n                                                <div>\n                                                    <h4>{`$${this.props.orderSubTotal.toFixed(2) }`}</h4>\n                                                </div>\n                                            </div>\n                                            <div className = \"row payment-cost-line\">\n                                                <div>\n                                                    <h4>Delivery</h4>\n                                                </div>    \n                                                <div>\n                                                    <h4>{`$${this.props.orderPayment.toFixed(2) }`}</h4>\n                                                </div>    \n                                            </div>\n                                            <div className = \"row payment-cost-line\">\n                                                <div>\n                                                    <h4>Tax</h4>\n                                                </div>\n                                                <div>\n                                                    <h4>{`$${this.props.orderTax.toFixed(2) }`}</h4>\n                                                </div>\n                                            </div>\n                                            <div className = \"row payment-cost-line\">\n                                                <div>\n                                                    <h4>Tip</h4>\n                                                </div>    \n                                                <div>\n                                                    {\n                                                        <h4>{`$${this.props.orderTip.toFixed(2) }`}</h4>   \n                                                    }\n                                                </div>    \n                                            </div>\n                                        </div>\n                                        <div class=\"payment-divider\"></div>\n                                        <div style = {{backgroundColor: 'white', margin: '1%', padding: '10%', borderRadius: \"10px\"}}>\n                                            <div className = \"row payment-cost-total\">\n                                                <div>\n                                                    <h4>Total</h4> \n                                                </div>\n                                                <div>\n                                                    <h4>{`$${\n                                                        (this.props.orderPayment + this.props.orderSubTotal + this.props.orderTip + this.props.orderTax).toFixed(2) }`\n                                                        }\n                                                    </h4>\n                                                </div>\n                                            </div>\n                                            <div style = {{marginTop: '10%'}}>\n                                                {\n                                                    this.props.paymentMethod === \"test\" ?\n                                                    <div style = {{borderRadius: \"3px\", webkitBoxShadow: \"0px 0 5px rgba(99, 99, 99, 0.842)\"}} className = \"button-div\">\n                                                        <button className = 'btn btn-success' onClick = {this.placeOrder} style = {{width: \"100%\"}} form = \"contactForm\" value = {this.props.value}>\n                                                            <div className = \"checkout-option-payment\">    \n                                                                <h4>Test Checkout</h4>\n                                                            </div>\n                                                        </button> \n                                                    </div>\n                                                    :\n                                                    <div></div>\n                                                }\n                                                {\n                                                    this.props.paymentMethod === \"paypal\" ? \n                                                    <PayPalButton placeOrder = {this.placeOrder} amount = {(this.props.orderTotal*.01).toFixed(2)}></PayPalButton>\n                                                    :\n                                                    <div></div>\n                                                }\n                                                {\n                                                    \n                                                    this.props.paymentMethod === \"stripe\" ? \n                                                    <div style = {{borderRadius: \"3px\", webkitBoxShadow: \"0px 0 5px rgba(99, 99, 99, 0.842)\"}} className = \"button-div\">\n                                                        <button onClick = {this.stripeCheckout} className = \"btn btn-primary\" style = {{width: \"100%\"}} form = \"contactForm\" >\n                                                            <div className = \"checkout-option-div\">\n                                                                <div>\n                                                                    <img style = {{marginTop: \"2px\", marginRight: \"2px\"}} className = {\"checkout-option-img\"} src = {`${process.env.PUBLIC_URL}/stripeIcon.png`} />\n                                                                </div>\n                                                            </div>\n                                                        </button> \n                                                    </div>\n                                                    :\n                                                    <div></div>\n                                                }\n                                            </div>\n                                        </div>\n                                        \n                                        \n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"payment-bg-1\">\n                                \n                            </div>\n                        </div>\n                        :\n                        <div className = \"container\">\n                            <div className = \"row\" style = {{marginTop: '40%', justifyContent: 'center'}}>\n                                <div className = \"loaderDiv\">\n                                    <div class = \"loader\"></div>\n                                    <h1>Processing Order</h1>\n                                </div>\n                            </div>\n                        </div>\n                    }\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = state => {\n    return({\n        userEmail: state.auth.currentShopper.email,\n        cart_id: state.cart.cart_id,\n        currentOrderId: state.order.current_order_id,\n        cartItems: state.cart.cart_items,\n        orderPayment: state.order.payment,\n        orderTip: state.order.tip.amount,\n        orderTax: state.order.tax,\n        orderTotal: state.order.total, \n        orderSubTotal: state.order.subtotal,\n        paymentMethod: state.order.payment_method,\n        orderAddress: state.order.address,\n        orderDeliveryTime: state.order.delivery_time.time,\n        orderDeliveryDate: state.order.delivery_time.date,\n        orderNote: state.order.note,\n        orderNumber: state.order.number,\n        orderSubstitute: state.order.substitute.value\n    })\n}\n\n\nexport default connect(mapStateToProps, {processOrder, stripePayment, checkoutOrder, dropCart })(Payment)","import React ,{useEffect}from 'react'\nimport {connect} from 'react-redux'\nimport {getOrder} from '../actions'\nimport {isEmpty} from 'lodash'\n\nconst PaymentDetails = props => {\n    useEffect(() => {\n        props.getOrder(props.match.params.order_id)\n        console.log(props.match.params.order_id)\n    }, [])\n\n    let renderPaymentInfo = () =>{\n        if(!isEmpty(props.orderInfo)){\n            return (\n                <div>\n                    <h3>\n                        Subtotal: ${(props.orderInfo.subtotal / 100).toFixed(2)}\n                    </h3>\n                    <h3>\n                        Delivery: ${(props.orderInfo.payment / 100).toFixed(2)}\n                    </h3>\n                    <h3>\n                        Tip: ${(props.orderInfo.tip / 100).toFixed(2)}\n                    </h3>\n                    <h3>\n                        Total: ${(props.orderInfo.total / 100).toFixed(2)}\n                    </h3>\n                </div>\n            )\n        }\n    }\n    return (\n        <div className = \"App-margin\">\n            <h1>Payment Details</h1>\n            <div>\n                {renderPaymentInfo()}\n            </div>\n        </div>\n    )\n}\n\nlet mapStateToProps = state => {\n    return({\n        orderInfo: state.order.order_info.payment_info\n    })\n}\n\nexport default connect(mapStateToProps, {getOrder})(PaymentDetails)","import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport { isEmpty } from 'lodash'\n\nclass Profile extends Component{\n    \n    capitalize(word){\n        if(!!word){\n            return word.charAt(0).toUpperCase() + word.slice(1)\n        }\n    }\n    renderAddress(){\n        return (\n            `${this.props.userInfo.address}, ${this.props.userInfo.city}, ${this.props.userInfo.state} ${this.props.userInfo.zip_code}`\n        )\n    }\n \n    editPage = (e) => {\n        this.props.history.push(`/edit_shopper/${e.target.value}`)\n    }\n\n    renderProfile(){\n        if(!isEmpty(this.props.currentShopper)){\n            return (\n                <div>\n                    {/* <i class=\"fas fa-envelope fa-2x\"></i><span class=\"counter counter-lg\"></span> */}\n                    <div>\n                        <img class=\"profilePageImage\" src={this.props.userAuthPic}></img>\n                    </div>\n                    <div className=\"segment\">\n                        <button value=\"image\" onClick={(e) => this.editPage(e)}>Change</button>\n                    </div>\n                    <h4>{this.capitalize(this.props.userFirstName) + ' ' + this.capitalize(this.props.userLastName)}</h4>\n\n                    <div>\n                        <h4>Age: {this.props.userInfo.age}</h4>\n                    </div>\n                    <div>\n                        <h4>Email: {this.props.userEmail}</h4>\n                        <div className=\"segment\">\n                            <button value=\"email\" onClick={(e) => this.editPage(e)}>Change</button>\n                        </div>\n                    </div>\n                    <div>\n                        <h4>Phone: {this.props.userInfo.phone}</h4>\n                        <div className=\"segment\">\n                            <button value=\"phone\" onClick={(e) => this.editPage(e)}>Change</button>\n                        </div>\n                    </div>\n                    <div>\n                        <h4>Address: {this.renderAddress()}</h4>\n                        <div className=\"segment\">\n                            <button value=\"address\" onClick={(e) => this.editPage(e)}>Change</button>\n                        </div>\n                    </div>\n                    <div>\n                        <h4>Number of Orders</h4>\n                    </div>\n                </div> \n            )\n        }\n        \n    }\n\n    render(){   \n        return (\n            <div>\n                <h1>Profile Page</h1>\n                <div class = \"container\">\n                    {this.renderProfile()}\n                </div>\n            </div>\n\n        )\n    }\n    \n}\n\nlet mapStateToProps = state => {\n    return ({\n        currentShopper: state.auth.currentShopper,\n        userAuthId: state.auth.currentShopper.id,\n        userAuthPic: state.auth.currentShopper.image,\n        userFirstName: state.auth.currentShopper.first_name,\n        userLastName: state.auth.currentShopper.last_name,\n        userInfo: state.auth.currentShopper.shopper_info,\n        userEmail: state.auth.currentShopper.email\n    })\n}\n\n\nexport default connect(mapStateToProps)(Profile)","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport Searchbar from '../components/Searchbar'\nimport FoodListCarousel from '../containers/FoodListCarousel'\n\n\nclass Products extends Component {\n    constructor(){\n        super()\n        this.state= {\n            mountState: true\n        }\n    }\n\n    componentDidUpdate(){\n        if(!this.state.mountState){\n            this.setState({\n                mountState: true\n            })\n        }\n    }\n \n    onCategoryChange = (e) => {\n        console.log(e.target.value)\n        this.setState({\n            mountState: false\n        })\n        this.props.history.push(`/products/${e.target.value}`, {mountState: true})\n    }\n\n    renderSideBar = (categoryTitle) => {\n        return (\n            this.props.categories.map( category => {\n                \n                if(category.title === categoryTitle){\n                    return (\n                        <div class=\"input-group-text category-radio\">\n                            <input type=\"radio\" id = {`${category.name}`} name= \"food-category\" value={`${category.name}`} aria-label=\"Meat/Seafood Input\" checked/> \n                            <p>{`${category.title}`}</p>\n                        </div>\n                    )\n                } else {\n                    return (\n                        <div class=\"input-group-text category-radio\">\n                            <input type=\"radio\" id = {`${category.name}`} name= \"food-category\" value={`${category.name}`} aria-label=\"Meat/Seafood Input\"/>\n                            <p>{`${category.title}`}</p>\n                        </div>\n                    )\n                }\n            })\n        )\n    }\n\n    render(){\n        let categoryData = this.props.categories.find((category) => category.name === this.props.match.params.category)\n        let categoryTitle = categoryData.title\n    \n        return (\n            <div class = \"products\">\n                <div class = \"sidebar\">\n                    \n                    <div class = \"sidebar-menu\">\n                        <h3>Categories</h3>\n                        <form id= \"category-form\" onChange = {this.onCategoryChange}>\n                            {this.renderSideBar(categoryTitle)}\n                        </form>\n                \n                    </div>\n                    \n                </div>\n\n                <div class = \"content\"> \n                    <div class = \"container-fluid justify-content-center\">\n                        <h1 class = \"productsHeader\">{categoryTitle}</h1>\n                        <div class = \"row productsHeader\">\n                            <div class=\"col-sm-5\">\n                                <div className = \"productsStore\">\n                                    <img style = {{height: '100%', width: '25%', marginBottom: \"3%\"}} src = {`${this.props.selectedStore.attributes.logo}`}></img>\n\n                                </div>\n                               \n                            </div>\n                            <div className = \"col-sm-5\">\n                                <Searchbar history = {this.props.history} onSearchSubmit={this.props.onSearchSubmit} onSearchChange={this.props.onSearchChange}/>\n                            </div>\n                        </div>\n                        {this.state.mountState ?\n                            <FoodListCarousel items = {this.props.items}/>\n                            :\n                            <div></div>\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    \n}\n\n        \nconst mapStateToProps = (state, ownProps) => {\n    console.log(ownProps)\n    return({\n        categories: state.categories,\n        items: state.items.itemsList.data.filter(item => item.attributes.category === ownProps.match.params.category),\n        item: state.items.selectedItem,\n        selectedStore: state.stores.selectedStore\n    })\n}\n\nexport default connect(mapStateToProps)(Products)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Profile } from './Profile'\nimport { reduxForm, Field } from 'redux-form'\nimport { createShopperProfile } from '../actions'\n\nclass ProfileSignup extends React.Component {\n    renderInput = ({ input, meta, label }) => {\n        console.log(input)\n        return (\n            <div class=\"input-group\">\n                <label>{label}</label>\n                <input {...input} />\n                <div> {meta.error}</div>\n            </div>\n        )\n    }\n\n    profileSubmit = (formValues) => {\n        let form = {shopper_info : {...formValues, age: parseInt(formValues.age), shopper_id: this.props.shopperId}}\n        this.props.createShopperProfile(form)\n        this.props.history.push('/orderpage')\n    }\n\n    capitalize(word) {\n        if(!!word){\n            return word.charAt(0).toUpperCase() + word.slice(1)\n        }\n    }\n\n    render(){\n        return(\n            <div> \n                <h1> \n                    Welcome {this.capitalize(this.props.shopperFirstName)}\n                </h1>\n                <form onSubmit = {this.props.handleSubmit(this.profileSubmit)}>\n                    <Field name = \"age\" component = {this.renderInput} label = \"Age\"/>\n                    <Field name = \"address\" component = {this.renderInput} label = \"Address\" />\n                    <Field name = \"city\" component = {this.renderInput} label = \"City\" />\n                    <Field name = \"state\" component = {this.renderInput} label = \"State\" />\n                    <Field name = \"zip_code\" component = {this.renderInput} label = \"Zip Code\" />\n                    <Field name = \"phone\" component = {this.renderInput} label = \"Phone\" />\n                    <button type=\"submit\" id=\"button-addon1\">Submit</button>\n                </form>\n            </div>\n        )\n    }\n}\n\n//age address city state zipcode phone\n\nlet validate = (formValues) => {\n    let error = {}\n\n    if (!formValues.age) {\n        error.age = \"Please enter an Item\"\n    }\n    if (!formValues.address) {\n        error.address = \"Please enter an Item\"\n    }\n    if (!formValues.city) {\n        error.city = \"Please enter an Item\"\n    }\n    if (!formValues.state) {\n        error.state = \"Please enter an Item\"\n    }\n    if (!formValues.zip_code) {\n        error.zip_code = \"Please enter an Item\"\n    }\n    if (!formValues.phone) {\n        error.phone = \"Please enter an Item\"\n    }\n    \n    return error\n}\n\nlet mapStateToProps = state => {\n    return({\n        shopperFirstName: state.auth.currentShopper.first_name,\n        shopperId: state.auth.currentShopper.id\n    })\n}\n\nlet formWrapped = reduxForm({\n    form: 'profileForm',\n    validate: validate\n})(ProfileSignup)\n\nexport default connect(mapStateToProps, {createShopperProfile})(formWrapped)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Searchbar from '../components/Searchbar'\nimport FoodList from '../containers/FoodList'\n\nclass SearchPage extends React.Component{\n\n    componentDidMount(){\n        console.log(!!this.props.items.find(item => item.attributes.name == this.props.match.params.item))\n    }\n\n    // searchTerm = () => {\n    //     // store results in array   \n    //     //find if current items from current store that include this search term\n    //     //items must be checked in lower case\n    //     let filteredItems = this.props.items.filter(item => \n    //         item.attributes.name.toLowerCase().includes(this.props.match.params.item)\n    //     )\n    // }\n    render(){\n        let filteredItems = this.props.items.filter(item =>\n            item.attributes.name.toLowerCase().includes(this.props.match.params.item)\n        )\n        // let categoryData = this.props.categories.find((category) => category.name === this.props.match.params.category)\n        // let categoryTitle = categoryData.title\n        return(\n            <div class=\"content\">\n                <div class=\"container-fluid justify-content-center\">\n                    <h1 class=\"productsHeader\">Search</h1>\n                    <div class=\"row productsHeader\">\n                        <div className=\"col-sm-5\">\n                            <h2>{this.props.selectedStore.attributes.name}</h2>\n                        </div>\n                        <div className=\"col-sm-5\">\n                            <Searchbar history = {this.props.history}/>\n                        </div>\n                    </div>\n                    <div className = 'searchResult'>\n                        {(filteredItems.length > 0) ? <FoodList items={filteredItems} /> : <h1>Sorry item doesn't exist!</h1>}\n                    </div>\n                </div>\n            </div>\n\n        )\n        \n    }\n}\nconst mapStateToProps = state => {\n    return ({\n        items: state.items.itemsList.data,\n        selectedStore: state.stores.selectedStore\n    })\n}\nexport default connect(mapStateToProps)(SearchPage)","import React from 'react'\n\nclass ItemModal extends React.Component {\n    componentDidMount(){\n        console.log(this.props)\n    }\n    render(){\n        return(\n            <div class = \"modal-content\">\n                <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"ModalLabel\">{this.props.name}</h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <img style = {{width: '100%'}} src = {`${this.props.image}`}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ItemModal","import React from 'react'\nimport { connect } from 'react-redux'\nimport { cancelOrder } from '../../actions'\n\nclass ConfirmModal extends React.Component {\n\n    componentDidMount(){\n        console.log(this.props.confirm)\n    }\n\n    confirm = async (title, id) => {\n        if(title === \"Delete Order\"){\n            await this.props.cancelOrder(id)\n            window.location.reload()\n        }\n    }\n\n    render(){\n        return(\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id = \"ModalLabel\">{this.props.message}</h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                <p>{this.props.message}</p>\n                </div>\n                <div class=\"modal-footer\">\n                    <button onClick = {() => this.confirm(this.props.title, this.props.id)} type=\"button\" class=\"btn btn-primary\">Confirm</button>\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, {cancelOrder})(ConfirmModal)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { reduxForm, Field, SubmissionError } from 'redux-form'\nimport { addShopperNumber, addShopperAddress} from '../../actions'\n\n\n\nclass SubmitModal extends React.Component {\n    type = this.props.submitType \n    renderInput = ({ input, meta, label }) => {\n        return (\n            <div class = \"form-group modal-form\">\n                <label style = {{left: '0'}}> {label}</label>\n                <input class= \"form-control\" {...input} /> \n                <div>{meta.error} </div>\n            </div>\n        )\n    }\n\n    renderAddressSelect = ({input, meta}) => {\n        console.log(input)\n        return (\n            <div class = \"form-group modal-form\">\n                <label for=\"inputState\">State</label>\n                <select {...input} id=\"inputState\" class=\"form-control\">\n                    <option value=\"AL\">Alabama</option>\n                    <option value=\"AK\">Alaska</option>\n                    <option value=\"AZ\">Arizona</option>\n                    <option value=\"AR\">Arkansas</option>\n                    <option value=\"CA\">California</option>\n                    <option value=\"CO\">Colorado</option>\n                    <option value=\"CT\">Connecticut</option>\n                    <option value=\"DE\">Delaware</option>\n                    <option value=\"DC\">District Of Columbia</option>\n                    <option value=\"FL\">Florida</option>\n                    <option value=\"GA\">Georgia</option>\n                    <option value=\"HI\">Hawaii</option>\n                    <option value=\"ID\">Idaho</option>\n                    <option value=\"IL\">Illinois</option>\n                    <option value=\"IN\">Indiana</option>\n                    <option value=\"IA\">Iowa</option>\n                    <option value=\"KS\">Kansas</option>\n                    <option value=\"KY\">Kentucky</option>\n                    <option value=\"LA\">Louisiana</option>\n                    <option value=\"ME\">Maine</option>\n                    <option value=\"MD\">Maryland</option>\n                    <option value=\"MA\">Massachusetts</option>\n                    <option value=\"MI\">Michigan</option>\n                    <option value=\"MN\">Minnesota</option>\n                    <option value=\"MS\">Mississippi</option>\n                    <option value=\"MO\">Missouri</option>\n                    <option value=\"MT\">Montana</option>\n                    <option value=\"NE\">Nebraska</option>\n                    <option value=\"NV\">Nevada</option>\n                    <option value=\"NH\">New Hampshire</option>\n                    <option value=\"NJ\">New Jersey</option>\n                    <option value=\"NM\">New Mexico</option>\n                    <option value=\"NY\">New York</option>\n                    <option value=\"NC\">North Carolina</option>\n                    <option value=\"ND\">North Dakota</option>\n                    <option value=\"OH\">Ohio</option>\n                    <option value=\"OK\">Oklahoma</option>\n                    <option value=\"OR\">Oregon</option>\n                    <option value=\"PA\">Pennsylvania</option>\n                    <option value=\"RI\">Rhode Island</option>\n                    <option value=\"SC\">South Carolina</option>\n                    <option value=\"SD\">South Dakota</option>\n                    <option value=\"TN\">Tennessee</option>\n                    <option value=\"TX\">Texas</option>\n                    <option value=\"UT\">Utah</option>\n                    <option value=\"VT\">Vermont</option>\n                    <option value=\"VA\">Virginia</option>\n                    <option value=\"WA\">Washington</option>\n                    <option value=\"WV\">West Virginia</option>\n                    <option value=\"WI\">Wisconsin</option>\n                    <option value=\"WY\">Wyoming</option>\n                </select>\t\n                <div>{meta.error} </div>\n            </div>\n        )\n    }\n\n    renderForm = () => {\n        if(this.type === \"number\"){\n            return (\n                <form style = {{width: '100%'}} id = \"modalSubmit\" onSubmit = {this.props.handleSubmit(this.submit)}>\n                    <Field name = \"number\" component = {this.renderInput} label = \"Number\"/>\n                </form>\n            )\n        } else if(this.type === \"address\"){\n            return(\n                <form style = {{width: '100%'}} id = \"modalSubmit\" onSubmit = {this.props.handleSubmit(this.submit)}>\n                    <Field name = \"street\" component = {this.renderInput} label = \"Street \"/>\n                    <Field name = \"city\" component = {this.renderInput} label = \"City \"/>\n                    <Field name = \"state\" component = {this.renderAddressSelect} label = \"State \"/>\n                    <Field name = \"zip_code\" component = {this.renderInput} label = \"Zip Code \"/>\n                </form>\n            )\n        }\n    }\n\n    submit = (formValues) => {\n\n        return new Promise((resolve, reject) => {\n            const errors = validate(formValues, this.type)\n            if(errors.empty){\n                reject(new SubmissionError(errors))\n            } else {\n                resolve(formValues)\n            }\n        }).then((formValues) => {\n            if('number' in formValues){\n                this.props.addShopperNumber(\n                    {\n                        ...formValues,\n                        phoneable_type: 'Shopper', \n                        phoneable_id: this.props.shopperId\n                    }\n                )\n            } else {\n                this.props.addShopperAddress(\n                    {\n                        ...formValues,\n                        addressable_type: 'Shopper', \n                        addressable_id: this.props.shopperId\n                    }\n                )\n            }\n        })\n    }\n\n    render(){\n        return (\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id = \"ModalLabel\">{this.props.submit.title}</h5>\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class = \"modal-form\">\n                        {this.renderForm()}\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary\" form = \"modalSubmit\">Submit</button>\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                </div>\n            </div>\n            \n        )\n    }\n}\n\nlet validate = (formValues, type) => {\n    let error = {}\n    if(type === 'number' && formValues.number){\n        if(formValues.number.length !== 10){\n            error.number = \"Please enter a valid number.\"\n        }\n    }\n\n    if(type === 'address'){\n        if(!formValues.street){\n            error.street = \"Please enter a street.\" \n        }\n        if(!formValues.city){\n            error.city = \"Please enter a city.\" \n        }\n        if(!formValues.state){\n            error.state = \"Please enter a state.\" \n        }\n        if(!formValues.zip_code){\n            error.zip_code = \"Please enter a zip code.\" \n        }\n    }\n\n    return error\n}\n\nlet formWrapped = reduxForm({\n    form: 'modalSubmit',\n    validate: validate\n})(SubmitModal)\n\nlet mapStateToProps = state => {\n    return({\n        shopperId: state.auth.currentShopper.id,\n        submitType: state.modals.submit.type\n    })\n} \n\nexport default connect(mapStateToProps, {addShopperAddress, addShopperNumber})(formWrapped)","import React, {useState, useEffect} from 'react' \nimport {connect} from 'react-redux'\nimport { clearModal } from '../actions'\nimport ItemModal from './modals/ItemModal'\nimport ConfirmModal from './modals/ConfirmModal'\nimport SubmitModal from './modals/SubmitModal'\n\nconst Modal = (props) => {\n    \n    const[ref] = useState(React.createRef())\n    const[show] = useState(\"\")\n    \n    useEffect(() => {\n        console.log(props)\n        const selectedDiv = ref.current\n        const options = {\n            root: null,\n            rootMargin: '100px',\n            threshold: 0\n        }\n\n        function clearContent(){\n            props.clearModal()\n        }\n        \n        const observer = new MutationObserver(function (mutationList, observer) {\n            let mutation = mutationList[0]\n            console.log(mutation, props.history)\n            if(mutation.target.className === \"modal fade show\"){\n                return\n            } else {\n                clearContent()\n            }\n        }, options)\n        observer.observe(selectedDiv, {\n            attributes: true,\n            attributeFilter: [\"class\"]\n        })\n    }, [])\n\n    // let closeForm = (e) => {\n    //     ref.current.classList = \"modal fade\"\n    //     console.log(ref.current)\n    // }\n\n    let renderContent = () => {\n        if(!props.modal.item_pic && !props.modal.confirm && !props.modal.submit){\n            return \n        } else if(props.modal.item_pic){\n            let item = props.modal.item_pic.data.attributes\n            return (\n                <ItemModal name = {item.name} image = {item.image} />\n            )\n        } else if(props.modal.confirm){\n            return (\n                <ConfirmModal id = {props.modal.confirm.id} title = {props.modal.confirm.title} message = {props.modal.confirm.message}/>\n            )\n        } else if(props.modal.submit){\n            return (\n                <SubmitModal/>\n            )\n        } \n    }\n        return (\n            <div ref = {ref} class=\"modal fade\" id=\"Modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ModalLabel\" aria-hidden=\"true\" >\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                    {renderContent()}\n                </div>\n            </div>\n    \n        )\n}\n\nexport default connect(null, { clearModal })(Modal)","import React from 'react'\nimport {connect} from 'react-redux'\nimport {clearItem} from '../actions'\nimport ItemPic from '../components/ItemPic'\n\nconst OrderItem = props => {\n\n    let itemDetailsNav = () => {\n        props.clearItem()\n        props.history.push(`/item_details/${props.item_id}`)\n    }\n\n    let renderUnits = () => {\n        if(props.count > 1){\n            return `${props.units}s`\n        } else {\n            return `${props.units}`\n        }\n    }\n    return (\n        <div className = 'row orderItem'> \n            <div class = \"orderItem-pic\">\n                <h3>{props.name}</h3>\n                <ItemPic image = {props.image} item_id = {props.item_id}/>\n            </div>\n            <div>\n                <h3>\n                    Quantity: {props.count} {renderUnits()}\n                </h3>\n                <h3>\n                    Price: ${(props.price * props.count * .01).toFixed(2)}\n                </h3>\n                <button onClick={() =>  itemDetailsNav() }>Item Details</button>\n            </div>\n        </div>\n    )\n}\n\nexport default connect(null, {clearItem})(OrderItem)","import React from 'react'\nimport { connect } from 'react-redux'\nimport OrderItem from '../components/OrderItem'\nimport {getOrderItems} from '../actions'\n\n\nclass ViewOrderItems extends React.Component{\n\n    componentDidMount(){\n        console.log(this.props.orderItems)\n        console.log(this.props.order)\n        this.props.getOrderItems(this.props.match.params.order_id)\n    }\n\n    renderItems(){   \n        return this.props.orderItems.map(item => {\n            let attributes = item.attributes\n            return (\n                <OrderItem history = {this.props.history} price={attributes.item.price} image={attributes.item.image} count={attributes.quantity_num} units={attributes.item.quantity_unit} name={attributes.item.name} item_id = {attributes.item.id}/>\n            )\n        })\n    }\n    render(){\n        return(\n            <div className = \"App-margin\">\n                <h1>Order Items</h1>\n                {this.renderItems()}\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = state => {\n    return({\n        orderItems: state.order.order_items,\n        order: state.order\n    })\n}\n\nexport default connect(mapStateToProps, {getOrderItems})(ViewOrderItems)","import React, {Component} from 'react';\nimport {\n  Route,\n  Router\n} from \"react-router-dom\"\nimport {connect} from 'react-redux'\nimport './App.css';\nimport NavBar from './containers/NavBar'\nimport Home from './pages/Home'\nimport About from './pages/About'\nimport Cart from './pages/Cart'\nimport ActiveOrders from './pages/ActiveOrders'\nimport EditShopper from './pages/EditShopper'\nimport ItemDetails from './pages/ItemDetails'\nimport MapPage from './pages/MapPage'\nimport OrderPage from './pages/OrderPage'\nimport OrderHistory from './pages/OrderHistory'\nimport Payment from './pages/Payment'\nimport PaymentDetails from './pages/PaymentDetails'\nimport Profile from './pages/Profile'\nimport Products from './pages/Products'\nimport ProfileSignup from './pages/ProfileSignup'\nimport SearchPage from './pages/SearchPage'\nimport Modal from './components/Modal'\nimport ViewItems from './pages/ViewOrderItems'\nimport {getStores, getCategories, signOut, startCart, getActiveOrders, getItems, selectStore, clearModal} from './actions'\n\nclass App extends Component  {\n  \n  componentDidMount(){\n    this.props.getStores()\n    this.props.getItems(1)\n    this.props.clearModal()\n    // this.props.getActiveOrders(this.props.shopperId)\n    console.log(this.props.items)\n  }\n  \n  render (){\n    return (\n      <div className=\"App\">\n        <div>\n            <NavBar history = {this.props.history}/>\n              <Modal history = {this.props.history} modal = {this.props.modal}/>\n              <Route exact path={'/'} render={(props) => <Home {...props} />}></Route> \n              <Route exact path={'/order_history'} render={(props) => <OrderHistory {...props} />} />\n              <Route exact path={'/active_orders'} render={(props) => <ActiveOrders {...props} />} />\n              <Route exact path={'/about'} render={(props) => <About {...props} />} />\n              <Route exact path={'/cart'} render={(props) => <Cart {...props} />} />\n              <Route exact path={'/edit_shopper/:section'} render={(props) => <EditShopper {...props} />} />\n              <Route exact path={'/item_details/:item_id'} render={(props) => <ItemDetails {...props} />} />\n              <Route exact path={'/map_page'} render={(props) => <MapPage {...props} />} />\n              <Route exact path={'/orderpage'} render={(props) => <OrderPage {...props} />}/>\n              <Route exact path={'/profile'} render={(props) => <Profile {...props} />} />\n              <Route exact path={'/profile_signup'} render={(props) => <ProfileSignup {...props} />} />\n              <Route exact path={'/products/:category'} render={(props) => <Products {...props} />}/>\n              <Route exact path={'/payment/:status'} render={(props) => <Payment {...props} />} />\n              <Route exact path={'/payment_details/:order_id'} render={(props) => <PaymentDetails {...props} />} />\n              <Route exact path={'/search/:item'} render={(props) => <SearchPage {...props} />} />\n              <Route exact path={'/view_order_items/:order_id'} render={(props) => <ViewItems {...props} />} />\n        </div>\n        <div class = \"content-wrap\"></div>\n        <footer className=\"footer\">\n          <div class = 'footer-curve'>\n          </div> \n          <div class = 'footer-div'>\n            <div className = \"row footer-row\">\n              <div className = \"col-6\">\n               \n                  <div className = \"footer-logo\">\n                    <img class = \"footer-icon\" src= {process.env.PUBLIC_URL + '/bread_basket_icon.jpg'}></img> \n                    <h3>BreadBasket</h3>\n                  </div>\n                \n              </div>\n              <div className = \"col-6\">\n                <h5>© 2020 BreadBasket</h5>\n                <h5>Allen Shin</h5>\n              </div>\n            </div> \n          </div> \n          \n        </footer>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return({\n    shopperId: state.auth.currentShopper.id,\n    selectedStore: state.stores.selectedStore,\n    modal: state.modals\n  })\n}\n\nexport default connect(mapStateToProps, {getStores, getCategories, signOut, startCart, getActiveOrders, getItems, selectStore, clearModal})(App)\n","const INTIAL_STATE = {\n    signedIn: false,\n    currentShopper: {\n        shopper_info: {}\n    },\n    numbers: [],\n    addresses: []\n}\n\nexport default (state = INTIAL_STATE, action) => {\n    switch(action.type){\n        case 'SIGN_IN':\n            return {\n                ...state, \n                signedIn: true,\n                currentShopper: action.payload.current_shopper,\n                numbers: action.payload.numbers,\n                addresses: action.payload.addresses\n            }\n        case 'SIGN_OUT':\n            return INTIAL_STATE\n        case 'PROFILE_INFO':\n            return{\n                ...state, currentShopper: { \n                        ...state.currentShopper,\n                        shopper_info: action.payload\n                }\n            }\n        case 'EDIT_SHOPPER':\n            return{\n                ...state, currentShopper: action.payload\n            }\n        case 'EDIT_PROFILE':\n            return{\n                ...state, currentShopper: {\n                    ...state.currentShopper,\n                    shopper_info: action.payload\n                }\n            }\n        case 'ADD_SHOPPER_ADDRESS':\n            return {\n                ...state, addresses: [\n                        ...state.addresses, {\n                            \"street\": action.payload.street,\n                            \"city\": action.payload.city,\n                            \"state\": action.payload.state,\n                            \"zip_code\": action.payload.zip_code\n                        }\n                    ]\n            }\n            \n\n        case 'ADD_SHOPPER_CONTACT':\n            return {\n                ...state, numbers: [\n                    ...state.numbers, action.payload\n                ]\n            }\n\n        default:\n            return state \n    }\n}","let INITIAL_STATE = {\n    itemsList: [],\n    selectedItem: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    if(action.type === 'GET_ITEMS'){\n        return {...state, itemsList: action.payload}\n    }\n\n    if (action.type === 'GET_ITEM') {\n        return { ...state, selectedItem: action.payload }\n    }\n\n    if(action.type === 'CLEAR_ITEM'){\n        return { ...state, selectedItem: null }\n    }\n\n    return state\n}","let INITIAL_STATE = {\n    submit: null,\n    confirm: null,\n    item_pic: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n\n    if (action.type === 'ITEM_PIC_MODAL') {\n        return { ...state, item_pic: action.payload }\n    }\n\n    if(action.type === 'CLEAR_ITEM_PIC'){\n        return { ...state, item_pic: null }\n    }\n\n    if(action.type === 'CANCEL_ORDER_MODAL'){\n        return { \n            ...state, confirm: {\n                \"title\": \"Delete Order\",\n                \"message\": \"Are you sure you want to cancel this order?\",\n                \"id\": action.payload\n            }\n        }\n    } else if(action.type === 'ADDRESS_MODAL'){\n        return { \n            ...state, submit: {\n                \"title\": \"Add Address\",\n                'type' : \"address\"\n            }\n        }\n    } else if(action.type === 'NUMBER_MODAL'){\n        return { \n            ...state, submit: {\n                \"title\": \"Add Number\",\n                'type': 'number'\n            }\n        }\n    } else if (action.type === \"CLEAR_MODAL\"){\n        return{\n            submit: null,\n            confirm: null,\n            item_pic: null\n        }\n    } \n    return state\n}","let INITIAL_STATE = {\n    storesList: [],\n    selectedStore: null,\n    coords: {}\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    if(action.type === 'GET_STORES'){\n        return { storesList: action.payload.stores, selectedStore: action.payload.store }\n    }\n\n    if(action.type === 'SELECT_STORE'){\n        return {...state, selectedStore: action.payload}\n    }\n\n    if(action.type === 'STORE_COORDS'){\n        return {...state, store_coords: action.payload}\n    }\n\n    if(action.type === 'USER_COORDS'){\n        return{...state, user_coords: action.payload}\n    }\n    \n    return state\n}","import _ from 'lodash'\n\nlet INITIAL_STATE = {\n    cart_id: null,\n    cart_items: {},\n    item_ids: [],\n    subtotal: 0,\n    delivery: 0,\n    tip: 0\n}\n\nexport default (state = INITIAL_STATE, action) => {\n\n    if (action.type === 'START_CART') {\n        return {\n            ...state, cart_id: action.payload.data.attributes.id\n        }\n    }\n    if (action.type === 'GET_CART'){\n        return{\n            ...state, \n            cart_items: {...state.cart_items, ..._.mapKeys(action.payload,'id')},\n            item_ids: action.payload.map(item => item.attributes.item_id)\n        }\n    }\n\n    if(action.type === 'DROP_CART'){\n        return INITIAL_STATE\n    }\n\n    if(action.type === 'CHANGE_STORE'){\n        return {...state, \n            cart_id: action.payload.id,\n            cart_items: action.payload.cartItems\n        }\n    }\n\n    if(action.type === 'ADD_CART_ITEM'){\n        return {...state, \n            cart_items: {...state.cart_items, [action.payload.id]: action.payload.cart_item},\n            item_ids: [...state.item_ids, [action.payload.item_id, action.payload.id]]\n        }\n    }\n\n    if(action.type === 'DROP_CART_ITEM'){\n        return {...state, \n            cart_items: _.omit(state.cart_items, action.payload.cart_item_id), \n            item_ids: [...state.item_ids.filter(item_id => item_id[0] !== action.payload.item_id)]\n        }\n    }\n    \n    if(action.type === 'CHANGE_COUNT_CART_ITEM'){\n        return  {...state, cart_items: \n                    {...state.cart_items, [action.payload.cartItemId]: \n                        {...state.cart_items[action.payload.cartItemId], attributes: \n                            {...state.cart_items[action.payload.cartItemId].attributes, \n                                \"quantity_num\": action.payload.count\n                            }\n                        }\n                    }\n                }\n    }\n            \n        return state\n    }","let INITIAL_STATE = {\n    current_order_id: null,\n    active_orders: [],\n    completed_orders: [],\n    order_items: [],\n    order_info: {},\n    subtotal:0,\n    payment: 0,\n    tax: 0,\n    tip: {\"amount\": 0, \"value\": 0}, \n    total: 0,\n    delivery_time: {\n        \"time\": null, \n        \"date\": {\n            \"month\": null,\n            \"day\": null, \n        },\n        \"day\": null\n    }, \n    complete_time: null,\n    substitute: {\"phrase\": null, \"value\": null},\n    note: null,\n    payment_method: null,\n    address: null,\n    number: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n    \n    if(action.type === \"PRE_ORDER\"){\n        return {...state, \n            current_order_id: action.payload.id, \n            subtotal: action.payload.order.subtotal,\n            payment: action.payload.order.payment,\n            tax: action.payload.order.tax,\n            total: action.payload.order.total\n        }\n    }\n    if(action.type === 'UPDATE_ORDER_NUMBER') {\n        return {...state, \n            number: action.payload\n        }\n    }\n   \n    if(action.type === 'UPDATE_ORDER_ADDRESS') {\n        return {...state, \n            address: action.payload\n        }\n    }\n\n    if(action.type === 'UPDATE_ORDER_TIP') {\n        return {...state, \n            tip: action.payload\n        }\n    }\n\n    if(action.type === 'UPDATE_ORDER_DELIVERY_TIME') {\n        return {...state, \n            delivery_time: action.payload\n        }\n    }\n\n    if(action.type === 'UPDATE_ORDER_SUBSTITUTE') {\n        return {...state, \n            substitute: action.payload\n        }\n    }\n\n    if(action.type === 'UPDATE_ORDER_DELIVERY_NOTE') {\n        return {...state, \n            note: action.payload\n        }\n    }\n\n    if(action.type === 'UPDATE_ORDER_PAYMENT_METHOD') {\n        return {...state, \n            payment_method: action.payload\n        }\n    }\n    \n    if(action.type === 'CHECKOUT_ORDER'){\n        return INITIAL_STATE\n    }\n    \n    if(action.type === \"CANCEL_ORDER\"){\n        return {...state, active_orders: state.active_orders.filter(order => order.id !== action.payload)}\n    }\n    \n    if(action.type === \"GET_ACTIVE_ORDERS\"){\n        return {...state, active_orders: action.payload}\n    }\n\n    if (action.type === \"GET_COMPLETED_ORDERS\") {\n        return { ...state, completed_orders: action.payload }\n    }\n    \n    if(action.type === \"GET_ORDER_ITEMS\"){\n        return {...state, order_items: action.payload}\n    }\n    \n    if(action.type === \"CLEAR_ORDER_ITEMS\"){\n        return {...state, order_items: []}\n    }\n    \n    if (action.type === \"GET_ORDER\") {\n        return {\n            ...state, order_info: {\n                ...state.order_info, payment_info:{\n                    subtotal: parseInt(action.payload.subtotal),\n                    payment: parseInt(action.payload.payment),\n                    tip: parseInt(action.payload.tip),\n                    total: parseInt(action.payload.total)\n                }\n            }\n        }\n    }\n    \n    if(action.type === \"CLEAR_ORDER\"){\n        return {\n            ...state, order_info: {}\n        }\n    }\n    return state\n}","import authReducer from './authReducer'\nimport itemsReducer from './itemsReducer'\nimport categoriesReducer from './categoriesReducer'\nimport modalsReducer from './modalsReducer'\nimport storesReducer from './storesReducer'\nimport cartReducer from './cartReducer'\nimport orderReducer from './orderReducer'\nimport { reducer as formReducer} from 'redux-form'\nimport { combineReducers } from 'redux'\nimport { persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['auth', 'items', 'categories', 'stores', 'cart', 'order', 'modals']\n}\n\nconst reducer = combineReducers({\n    items: itemsReducer,\n    auth: authReducer,\n    categories: categoriesReducer,\n    stores: storesReducer,\n    modals: modalsReducer,\n    cart: cartReducer,\n    order: orderReducer,\n    form: formReducer\n})\n\nconst rootReducer = (state) => {\n    state = undefined\n    return \n}\n\nexport default persistReducer(persistConfig, reducer)","export default (state = [], action) => {\n    if(action.type === 'GET_CATEGORIES'){\n        return action.payload\n    }\n    return state\n}","import {persistStore} from 'redux-persist'\nimport {createStore, applyMiddleware} from 'redux'\nimport thunk from 'redux-thunk'\n\nimport reducers from './reducers'\n\nexport const store = createStore(reducers, applyMiddleware(thunk))\n\nexport const persistor = persistStore(store)\n\nexport default {store, persistor};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport { Provider }  from 'react-redux';\nimport {\n    HashRouter as Router\n} from 'react-router-dom'\nimport {PersistGate} from 'redux-persist/integration/react'\nimport {store, persistor} from './store'\nimport {createBrowserHistory} from 'history'\n\nlet history = createBrowserHistory()\n\nReactDOM.render(\n    <Provider store = {store}>\n        <Router basename = \"/\" history = {history}>\n            <PersistGate persistor = {persistor}>\n                <App history = {history}/>\n            </PersistGate>\n        </Router>\n    </Provider>, document.querySelector('#root')\n);\n\n\n"],"sourceRoot":""}